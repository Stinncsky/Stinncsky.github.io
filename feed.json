{
    "version": "https://jsonfeed.org/version/1",
    "title": "æ¼ æºŸç»½çµçš„å°ç«™",
    "subtitle": "è°çŸ¥é“é‡Œé¢æœ‰ä»€ä¹ˆ",
    "icon": "https://stinncsky.github.io/images/favicon.ico",
    "description": "å˜¿å˜¿å˜¿~~",
    "home_page_url": "https://stinncsky.github.io",
    "items": [
        {
            "id": "https://stinncsky.github.io/Pytorch/",
            "url": "https://stinncsky.github.io/Pytorch/",
            "title": "PyTorchçš„åˆæ­¥ä½¿ç”¨ï¼šçº¿æ€§æ¨¡å‹ç®€å•æ„å»º",
            "date_published": "2025-07-18T08:18:11.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p>æœ¬æ–‡<strong>ä»£ç æ¥æºï¼š</strong> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹(PyTorch ç‰ˆ)</span></p>\n</div>\n<h1 id=\"æ•°æ®æ‰¹å¤„ç†ä¸å°æ‰¹é‡æ¢¯åº¦ä¸‹é™\"><a class=\"anchor\" href=\"#æ•°æ®æ‰¹å¤„ç†ä¸å°æ‰¹é‡æ¢¯åº¦ä¸‹é™\">#</a> æ•°æ®æ‰¹å¤„ç†ä¸å°æ‰¹é‡æ¢¯åº¦ä¸‹é™</h1>\n<p>åœ¨æ·±åº¦å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™æ˜¯ä¸»æµçš„ä¼˜åŒ–æ–¹æ³•ã€‚PyTorch æä¾›äº†ä¾¿æ·çš„æ•°æ®åŠ è½½å·¥å…·æ¥å®ç°æ‰¹å¤„ç†ã€‚</p>\n<details class=\"info\"><summary>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™åŸç†</summary><div>\n<p>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆmini-batch stochastic gradient descentï¼‰æ˜¯æ¢¯åº¦ä¸‹é™ç®—æ³•çš„å˜ç§ï¼Œå®ƒåœ¨æ¯æ¬¡è¿­ä»£ä¸­ä½¿ç”¨ä¸€ä¸ªå°æ‰¹é‡ï¼ˆmini-batchï¼‰çš„æ ·æœ¬æ¥è®¡ç®—æ¢¯åº¦ã€‚</p>\n<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>\n<ol>\n<li>å°†è®­ç»ƒæ•°æ®é›†åˆ†æˆè‹¥å¹²ä¸ªå¤§å°ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> çš„å°æ‰¹é‡</li>\n<li>å¯¹äºæ¯ä¸ªå°æ‰¹é‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>x</mi><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo separator=\"true\">,</mo><msup><mi>y</mi><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><msubsup><mo stretchy=\"false\">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\{x^{(i)}, y^{(i)}\\}_{i=1}^m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.146664em;vertical-align:-0.258664em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8879999999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8879999999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">}</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-2.441336em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œè®¡ç®—æ¢¯åº¦ï¼š<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi mathvariant=\"normal\">âˆ‡</mi><mi>Î¸</mi></msub><mi>J</mi><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><msub><mi mathvariant=\"normal\">âˆ‡</mi><mi>Î¸</mi></msub><mi>L</mi><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>Î¸</mi></msub><mo stretchy=\"false\">(</mo><msup><mi>x</mi><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msup><mi>y</mi><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\nabla_\\theta J(\\theta) = \\frac{1}{m} \\sum_{i=1}^m \\nabla_\\theta L(f_\\theta(x^{(i)}), y^{(i)})\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\">âˆ‡</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.929066em;vertical-align:-1.277669em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6513970000000002em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord\">âˆ‡</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.938em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n</li>\n<li>æ›´æ–°å‚æ•°ï¼š<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Î¸</mi><mo>â†</mo><mi>Î¸</mi><mo>âˆ’</mo><mi>Î·</mi><msub><mi mathvariant=\"normal\">âˆ‡</mi><mi>Î¸</mi></msub><mi>J</mi><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\theta \\leftarrow \\theta - \\eta \\nabla_\\theta J(\\theta)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Î·</span><span class=\"mord\"><span class=\"mord\">âˆ‡</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mclose\">)</span></span></span></span></span></p>\n</li>\n</ol>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î·</mi></mrow><annotation encoding=\"application/x-tex\">\\eta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Î·</span></span></span></span> æ˜¯å­¦ä¹ ç‡ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">L</span></span></span></span> æ˜¯æŸå¤±å‡½æ•°ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>Î¸</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯æ¨¡å‹ã€‚</p>\n<p><strong>ä¼˜åŠ¿ï¼š</strong></p>\n<ul>\n<li>ç›¸æ¯”å…¨æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼Œè®¡ç®—æ•ˆç‡æ›´é«˜</li>\n<li>ç›¸æ¯”å•æ ·æœ¬éšæœºæ¢¯åº¦ä¸‹é™ï¼Œæ¢¯åº¦ä¼°è®¡æ›´ç¨³å®š</li>\n<li>èƒ½å¤Ÿåˆ©ç”¨ç°ä»£ GPU çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›</li>\n</ul>\n</div></details>\n<figure class=\"highlight python\"><figcaption><span>æ•°æ®åŠ è½½å™¨å®ç°</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> torch.utils.data <span class=\"keyword\">as</span> Data</span><br><span class=\"line\"></span><br><span class=\"line\">batch_size = <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å°†è®­ç»ƒæ•°æ®çš„ç‰¹å¾å’Œæ ‡ç­¾ç»„åˆ</span></span><br><span class=\"line\">dataset = Data.TensorDataset(features, labels)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># éšæœºè¯»å–å°æ‰¹é‡</span></span><br><span class=\"line\">data_iter = Data.DataLoader(dataset, batch_size, shuffle=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n<div class=\"note info no-icon\">\n<p>ä½¿ç”¨ <code>DataLoader</code>  å¯ä»¥è‡ªåŠ¨å¤„ç†æ•°æ®çš„éšæœºæ‰“ä¹±å’Œæ‰¹å¤„ç†ï¼Œå¤§å¤§ç®€åŒ–äº†è®­ç»ƒæµç¨‹ã€‚</p>\n</div>\n<h1 id=\"ç¥ç»ç½‘ç»œæ¨¡å‹å®šä¹‰\"><a class=\"anchor\" href=\"#ç¥ç»ç½‘ç»œæ¨¡å‹å®šä¹‰\">#</a> ç¥ç»ç½‘ç»œæ¨¡å‹å®šä¹‰</h1>\n<p>PyTorch æä¾›äº†ä¸¤ç§ä¸»è¦æ–¹å¼æ¥æ„å»ºç¥ç»ç½‘ç»œï¼šç»§æ‰¿ <code>nn.Module</code>  ç±»å’Œä½¿ç”¨ <code>nn.Sequential</code>  å®¹å™¨ã€‚</p>\n<h2 id=\"æ–¹å¼ä¸€ç»§æ‰¿nnmoduleç±»\"><a class=\"anchor\" href=\"#æ–¹å¼ä¸€ç»§æ‰¿nnmoduleç±»\">#</a> æ–¹å¼ä¸€ï¼šç»§æ‰¿ nn.Module ç±»</h2>\n<p>é€šè¿‡ç»§æ‰¿ <code>nn.Module</code>  ç±»ï¼Œå¯ä»¥çµæ´»å®šä¹‰ç½‘ç»œç»“æ„å’Œå‰å‘ä¼ æ’­è¿‡ç¨‹ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>çº¿æ€§ç½‘ç»œç±»å®šä¹‰</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LinearNet</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, n_feature</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(LinearNet, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.linear = nn.Linear(n_feature, <span class=\"number\">1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># forward å®šä¹‰å‰å‘ä¼ æ’­</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x</span>):</span><br><span class=\"line\">        y = <span class=\"variable language_\">self</span>.linear(x)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> y</span><br><span class=\"line\"></span><br><span class=\"line\">net = LinearNet(num_inputs)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(net) <span class=\"comment\"># ä½¿ç”¨printå¯ä»¥æ‰“å°å‡ºç½‘ç»œçš„ç»“æ„</span></span><br></pre></td></tr></table></figure>\n<div class=\"note warning no-icon\">\n<p><code>torch.nn</code>  ä»…æ”¯æŒè¾“å…¥ä¸€ä¸ª batch çš„æ ·æœ¬ï¼Œä¸æ”¯æŒå•ä¸ªæ ·æœ¬è¾“å…¥ã€‚å¦‚æœåªæœ‰å•ä¸ªæ ·æœ¬ï¼Œå¯ä½¿ç”¨ <code>input.unsqueeze(0)</code>  æ¥æ·»åŠ ä¸€ç»´ã€‚</p>\n</div>\n<h2 id=\"æ–¹å¼äºŒä½¿ç”¨nnsequential\"><a class=\"anchor\" href=\"#æ–¹å¼äºŒä½¿ç”¨nnsequential\">#</a> æ–¹å¼äºŒï¼šä½¿ç”¨ nn.Sequential</h2>\n<p><code>nn.Sequential</code>  æä¾›äº†ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼æ¥æ„å»ºé¡ºåºç½‘ç»œã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>Sequentialç½‘ç»œæ„å»ºçš„ä¸‰ç§å†™æ³•</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å†™æ³•ä¸€</span></span><br><span class=\"line\">net = nn.Sequential(</span><br><span class=\"line\">    nn.Linear(num_inputs, <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"comment\"># æ­¤å¤„è¿˜å¯ä»¥ä¼ å…¥å…¶ä»–å±‚</span></span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å†™æ³•äºŒ</span></span><br><span class=\"line\">net = nn.Sequential()</span><br><span class=\"line\">net.add_module(<span class=\"string\">&#x27;linear&#x27;</span>, nn.Linear(num_inputs, <span class=\"number\">1</span>))</span><br><span class=\"line\"><span class=\"comment\"># net.add_module ......</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å†™æ³•ä¸‰</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> OrderedDict</span><br><span class=\"line\">net = nn.Sequential(OrderedDict([</span><br><span class=\"line\">          (<span class=\"string\">&#x27;linear&#x27;</span>, nn.Linear(num_inputs, <span class=\"number\">1</span>))</span><br><span class=\"line\">          <span class=\"comment\"># ......</span></span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(net)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(net[<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h1 id=\"å‚æ•°åˆå§‹åŒ–\"><a class=\"anchor\" href=\"#å‚æ•°åˆå§‹åŒ–\">#</a> å‚æ•°åˆå§‹åŒ–</h1>\n<p>ç¥ç»ç½‘ç»œçš„å‚æ•°åˆå§‹åŒ–å¯¹è®­ç»ƒæ•ˆæœæœ‰é‡è¦å½±å“ã€‚PyTorch æä¾›äº†å¤šç§åˆå§‹åŒ–æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>å‚æ•°åˆå§‹åŒ–æ–¹æ³•</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> torch.nn <span class=\"keyword\">import</span> init</span><br><span class=\"line\"></span><br><span class=\"line\">init.normal_(net[<span class=\"number\">0</span>].weight, mean=<span class=\"number\">0</span>, std=<span class=\"number\">0.01</span>)</span><br><span class=\"line\">init.constant_(net[<span class=\"number\">0</span>].bias, val=<span class=\"number\">0</span>)  <span class=\"comment\"># ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹biasçš„data: net[0].bias.data.fill_(0)</span></span><br></pre></td></tr></table></figure>\n<details class=\"info\"><summary>å¸¸ç”¨åˆå§‹åŒ–æ–¹æ³•</summary><div>\n<p>PyTorch çš„ <code>torch.nn.init</code>  æ¨¡å—æä¾›äº†å¤šç§å‚æ•°åˆå§‹åŒ–æ–¹æ³•ï¼š</p>\n<ul>\n<li><code>normal_()</code> : æ­£æ€åˆ†å¸ƒåˆå§‹åŒ–</li>\n<li><code>uniform_()</code> : å‡åŒ€åˆ†å¸ƒåˆå§‹åŒ–</li>\n<li><code>constant_()</code> : å¸¸æ•°åˆå§‹åŒ–</li>\n<li><code>xavier_uniform_()</code> : Xavier å‡åŒ€åˆ†å¸ƒåˆå§‹åŒ–</li>\n<li><code>kaiming_normal_()</code> : Kaiming æ­£æ€åˆ†å¸ƒåˆå§‹åŒ–</li>\n</ul>\n<p>é€‰æ‹©åˆé€‚çš„åˆå§‹åŒ–æ–¹æ³•å¯ä»¥é¿å…æ¢¯åº¦æ¶ˆå¤±æˆ–æ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼ŒåŠ é€Ÿç½‘ç»œæ”¶æ•›ã€‚</p>\n</div></details>\n<h1 id=\"æŸå¤±å‡½æ•°å®šä¹‰\"><a class=\"anchor\" href=\"#æŸå¤±å‡½æ•°å®šä¹‰\">#</a> æŸå¤±å‡½æ•°å®šä¹‰</h1>\n<p>æŸå¤±å‡½æ•°ç”¨äºè¡¡é‡æ¨¡å‹é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„å·®å¼‚ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>å‡æ–¹è¯¯å·®æŸå¤±å‡½æ•°</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">loss = nn.MSELoss()</span><br></pre></td></tr></table></figure>\n<h1 id=\"ä¼˜åŒ–å™¨é…ç½®\"><a class=\"anchor\" href=\"#ä¼˜åŒ–å™¨é…ç½®\">#</a> ä¼˜åŒ–å™¨é…ç½®</h1>\n<p>ä¼˜åŒ–å™¨è´Ÿè´£æ ¹æ®æ¢¯åº¦æ›´æ–°æ¨¡å‹å‚æ•°ã€‚PyTorch æä¾›äº†å¤šç§ä¼˜åŒ–ç®—æ³•ã€‚</p>\n<h2 id=\"åŸºæœ¬ä¼˜åŒ–å™¨è®¾ç½®\"><a class=\"anchor\" href=\"#åŸºæœ¬ä¼˜åŒ–å™¨è®¾ç½®\">#</a> åŸºæœ¬ä¼˜åŒ–å™¨è®¾ç½®</h2>\n<figure class=\"highlight python\"><figcaption><span>SGDä¼˜åŒ–å™¨é…ç½®</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> torch.optim <span class=\"keyword\">as</span> optim</span><br><span class=\"line\"></span><br><span class=\"line\">optimizer = optim.SGD(net.parameters(), lr=<span class=\"number\">0.03</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(optimizer)</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸åŒå‚æ•°ç»„çš„å­¦ä¹ ç‡è®¾ç½®\"><a class=\"anchor\" href=\"#ä¸åŒå‚æ•°ç»„çš„å­¦ä¹ ç‡è®¾ç½®\">#</a> ä¸åŒå‚æ•°ç»„çš„å­¦ä¹ ç‡è®¾ç½®</h2>\n<figure class=\"highlight python\"><figcaption><span>åˆ†ç»„å­¦ä¹ ç‡è®¾ç½®</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">optimizer = optim.SGD([</span><br><span class=\"line\">        <span class=\"comment\"># å¦‚æœå¯¹æŸä¸ªå‚æ•°ä¸æŒ‡å®šå­¦ä¹ ç‡ï¼Œå°±ä½¿ç”¨æœ€å¤–å±‚çš„é»˜è®¤å­¦ä¹ ç‡</span></span><br><span class=\"line\">        &#123;<span class=\"string\">&#x27;params&#x27;</span>: net.subnet1.parameters()&#125;, <span class=\"comment\"># lr=0.03</span></span><br><span class=\"line\">        &#123;<span class=\"string\">&#x27;params&#x27;</span>: net.subnet2.parameters(), <span class=\"string\">&#x27;lr&#x27;</span>: <span class=\"number\">0.01</span>&#125;</span><br><span class=\"line\">      ], lr=<span class=\"number\">0.03</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡\"><a class=\"anchor\" href=\"#åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡\">#</a> åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡</h2>\n<figure class=\"highlight python\"><figcaption><span>å­¦ä¹ ç‡è°ƒæ•´</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è°ƒæ•´å­¦ä¹ ç‡</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> param_group <span class=\"keyword\">in</span> optimizer.param_groups:</span><br><span class=\"line\">    param_group[<span class=\"string\">&#x27;lr&#x27;</span>] *= <span class=\"number\">0.1</span> <span class=\"comment\"># å­¦ä¹ ç‡ä¸ºä¹‹å‰çš„0.1å€</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"æ¨¡å‹è®­ç»ƒæµç¨‹\"><a class=\"anchor\" href=\"#æ¨¡å‹è®­ç»ƒæµç¨‹\">#</a> æ¨¡å‹è®­ç»ƒæµç¨‹</h1>\n<p>å®Œæ•´çš„è®­ç»ƒæµç¨‹åŒ…æ‹¬å‰å‘ä¼ æ’­ã€æŸå¤±è®¡ç®—ã€åå‘ä¼ æ’­å’Œå‚æ•°æ›´æ–°å››ä¸ªæ­¥éª¤ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>å®Œæ•´è®­ç»ƒå¾ªç¯</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly90YW5nc2h1c2VuLm1lL0RpdmUtaW50by1ETC1QeVRvcmNoLw==\">å‚è€ƒé“¾æ¥</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_epochs = <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> epoch <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>, num_epochs + <span class=\"number\">1</span>):</span><br><span class=\"line\">    <span class=\"keyword\">for</span> X, y <span class=\"keyword\">in</span> data_iter:</span><br><span class=\"line\">        output = net(X)</span><br><span class=\"line\">        l = loss(output, y.view(-<span class=\"number\">1</span>, <span class=\"number\">1</span>))</span><br><span class=\"line\">        optimizer.zero_grad() <span class=\"comment\"># æ¢¯åº¦æ¸…é›¶ï¼Œç­‰ä»·äºnet.zero_grad()</span></span><br><span class=\"line\">        l.backward()</span><br><span class=\"line\">        optimizer.step()</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;epoch %d, loss: %f&#x27;</span> % (epoch, l.item()))</span><br></pre></td></tr></table></figure>\n<h1 id=\"å…³é”®æ³¨æ„äº‹é¡¹\"><a class=\"anchor\" href=\"#å…³é”®æ³¨æ„äº‹é¡¹\">#</a> å…³é”®æ³¨æ„äº‹é¡¹</h1>\n<h2 id=\"è®¡ç®—å›¾ç®¡ç†\"><a class=\"anchor\" href=\"#è®¡ç®—å›¾ç®¡ç†\">#</a> è®¡ç®—å›¾ç®¡ç†</h2>\n<div class=\"note danger no-icon\">\n<p>å¯¹èµ‹å€¼æ“ä½œï¼Œè¦ä¹ˆä½¿ç”¨ <code>.data</code>  è¦ä¹ˆç”¨ <code>with torch.no_grad():</code> ï¼Œå¦åˆ™ä¼šè¢«åŠ å…¥è®¡ç®—å›¾ä¸­ï¼Œå½±å“å†…å­˜ä½¿ç”¨å’Œè®¡ç®—æ•ˆç‡ã€‚</p>\n</div>\n<details class=\"info\"><summary>è®¡ç®—å›¾çš„å½±å“</summary><div>\n<p>PyTorch é‡‡ç”¨åŠ¨æ€è®¡ç®—å›¾æœºåˆ¶ï¼Œæ‰€æœ‰å‚ä¸æ¢¯åº¦è®¡ç®—çš„å¼ é‡æ“ä½œéƒ½ä¼šè¢«è®°å½•åœ¨è®¡ç®—å›¾ä¸­ã€‚å¦‚æœç›´æ¥å¯¹å‚æ•°è¿›è¡Œèµ‹å€¼æ“ä½œè€Œä¸ä½¿ç”¨ <code>.data</code>  æˆ– <code>torch.no_grad()</code> ï¼Œè¿™äº›æ“ä½œä¹Ÿä¼šè¢«è®°å½•ï¼Œå¯¼è‡´ï¼š</p>\n<ol>\n<li>ä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—</li>\n<li>è®¡ç®—å›¾å˜å¾—å¤æ‚</li>\n<li>å¯èƒ½å½±å“æ¢¯åº¦è®¡ç®—çš„æ­£ç¡®æ€§</li>\n</ol>\n<p><strong>æ­£ç¡®åšæ³•ï¼š</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ–¹æ³•ä¸€ï¼šä½¿ç”¨.data</span></span><br><span class=\"line\">param.data = new_value</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ–¹æ³•äºŒï¼šä½¿ç”¨torch.no_grad()</span></span><br><span class=\"line\"><span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">    param.copy_(new_value)</span><br></pre></td></tr></table></figure>\n</div></details>\n<h2 id=\"æ¢¯åº¦ç´¯ç§¯é—®é¢˜\"><a class=\"anchor\" href=\"#æ¢¯åº¦ç´¯ç§¯é—®é¢˜\">#</a> æ¢¯åº¦ç´¯ç§¯é—®é¢˜</h2>\n<div class=\"note warning no-icon\">\n<p>æ¯æ¬¡å®Œæ•´ä¿®æ”¹ä¸€æ¬¡å‚æ•°ï¼Œè®°å¾—è¦æ¢¯åº¦æ¸…é›¶ <code>w.grad.data.zero_()</code> ï¼Œå¦åˆ™æ¢¯åº¦ä¼šç´¯ç§¯ã€‚</p>\n</div>\n<details class=\"info\"><summary>æ¢¯åº¦ç´¯ç§¯çš„åŸå› ä¸è§£å†³</summary><div>\n<p>åœ¨ PyTorch ä¸­ï¼Œè°ƒç”¨ <code>loss.backward()</code>  æ—¶ï¼Œæ¢¯åº¦ä¼šç´¯åŠ åˆ°å‚æ•°çš„ <code>.grad</code>  å±æ€§ä¸­ï¼Œè€Œä¸æ˜¯æ›¿æ¢ã€‚è¿™ç§è®¾è®¡æ˜¯ä¸ºäº†æ”¯æŒæ¢¯åº¦ç´¯ç§¯ç­‰é«˜çº§ç”¨æ³•ã€‚</p>\n<p><strong>é—®é¢˜ï¼š</strong> å¦‚æœä¸æ¸…é›¶æ¢¯åº¦ï¼Œå¤šæ¬¡è¿­ä»£çš„æ¢¯åº¦ä¼šç´¯ç§¯ï¼Œå¯¼è‡´å‚æ•°æ›´æ–°æ–¹å‘é”™è¯¯ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¼˜åŒ–å™¨æ¸…é›¶ï¼ˆæ¨èï¼‰</span></span><br><span class=\"line\">optimizer.zero_grad()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ¸…é›¶</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> param <span class=\"keyword\">in</span> net.parameters():</span><br><span class=\"line\">    <span class=\"keyword\">if</span> param.grad <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">        param.grad.data.zero_()</span><br></pre></td></tr></table></figure>\n</div></details>\n<hr />\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "PyTorch",
                "æ·±åº¦å­¦ä¹ ",
                "ç¥ç»ç½‘ç»œ",
                "æŸå¤±å‡½æ•°",
                "æ¢¯åº¦ä¸‹é™",
                "PyTorch",
                "ä¼˜åŒ–å™¨",
                "æ•°æ®åŠ è½½å™¨",
                "å‚æ•°åˆå§‹åŒ–",
                "SGD"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A2163-%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E5%90%8E%E5%92%8C%E7%9A%84%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A2163-%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E5%90%8E%E5%92%8C%E7%9A%84%E6%9C%80%E5%B0%8F%E5%B7%AE%E5%80%BC/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š2163. åˆ é™¤å…ƒç´ åå’Œçš„æœ€å°å·®å€¼",
            "date_published": "2025-07-18T04:19:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLWRpZmZlcmVuY2UtaW4tc3Vtcy1hZnRlci1yZW1vdmFsLW9mLWVsZW1lbnRzP2VudlR5cGU9ZGFpbHktcXVlc3Rpb24mYW1wO2VudklkPTIwMjUtMDctMTg=\">LeetCode 2163</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„  <code>nums</code>  ï¼Œå®ƒåŒ…å«  <code>3 * n</code>  ä¸ªå…ƒç´ ã€‚</p>\n<p>ä½ å¯ä»¥ä»  <code>nums</code>  ä¸­åˆ é™¤ æ°å¥½  <code>n</code>  ä¸ªå…ƒç´ ï¼Œå‰©ä¸‹çš„  <code>2 * n</code>  ä¸ªå…ƒç´ å°†ä¼šè¢«åˆ†æˆä¸¤ä¸ª ç›¸åŒå¤§å° çš„éƒ¨åˆ†ã€‚</p>\n<pre><code>å‰é¢ `n` ä¸ªå…ƒç´ å±äºç¬¬ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬çš„å’Œè®°ä¸º `sumfirst` ã€‚\nåé¢ `n` ä¸ªå…ƒç´ å±äºç¬¬äºŒéƒ¨åˆ†ï¼Œå®ƒä»¬çš„å’Œè®°ä¸º `sumsecond` ã€‚\n</code></pre>\n<p>ä¸¤éƒ¨åˆ†å’Œçš„ å·®å€¼ è®°ä¸º  <code>sumfirst - sumsecond</code>  ã€‚</p>\n<pre><code>æ¯”æ–¹è¯´ï¼Œ`sumfirst = 3` ä¸” `sumsecond = 2` ï¼Œå®ƒä»¬çš„å·®å€¼ä¸º `1` ã€‚\nå†æ¯”æ–¹ï¼Œ`sumfirst = 2` ä¸” `sumsecond = 3` ï¼Œå®ƒä»¬çš„å·®å€¼ä¸º `-1` ã€‚\n</code></pre>\n<p>è¯·ä½ è¿”å›åˆ é™¤  <code>n</code>  ä¸ªå…ƒç´ ä¹‹åï¼Œå‰©ä¸‹ä¸¤éƒ¨åˆ†å’Œçš„ å·®å€¼çš„æœ€å°å€¼ æ˜¯å¤šå°‘ã€‚</p>\n<div class=\"note info no-icon\">\n<ul>\n<li>nums.length == 3 * n</li>\n<li>1 &lt;= n &lt;= 10^5</li>\n<li>1 &lt;= nums[i] &lt;= 10^5</li>\n</ul>\n</div>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>é¦–å…ˆå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå‰  <code>n</code>  ä¸ªå…ƒç´ å¦‚æœç•™ä¸‹æ¥ï¼Œé‚£ä¹ˆå‰  <code>n</code>  ä¸ªç•™ä¸‹æ¥çš„å…ƒç´ å°±åªèƒ½å±äºç¬¬ä¸€éƒ¨åˆ†ï¼Œå  <code>n</code>  ä¸ªç•™ä¸‹æ¥çš„å…ƒç´ åªèƒ½å±äºç¬¬äºŒéƒ¨åˆ†ã€‚å› æ­¤è¦åŒºåˆ†ä¸¤éƒ¨åˆ†ï¼Œå°±åªèƒ½åœ¨ä¸­é—´  <code>n</code>  ä¸ªå…ƒç´ é‡Œå–åˆ†å‰²ç‚¹ã€‚<br />\nç”±äºä¸¤éƒ¨åˆ†éƒ½å¿…é¡»æ˜¯  <code>n</code>  ä¸ªå…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†é—®é¢˜è½¬æ¢ä¸ºåœ¨ä¸­é—´  <code>n</code>  ä¸ªå…ƒç´ çš„  <code>n+1</code>  ä¸ªåˆ†å‰²ç‚¹ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œä½¿å…¶åˆ†æˆä¸¤éƒ¨åˆ†ã€‚å¹¶æ±‚å‰ä¸€éƒ¨åˆ†çš„  <code>n</code>  ä¸ªæœ€å°å…ƒç´ å’Œåé¢  <code>n</code>  ä¸ªæœ€å¤§å…ƒç´ çš„å’Œçš„å·®å€¼ã€‚éå†æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²ç‚¹ï¼Œè®¡ç®—å‡ºæœ€å°å·®å€¼ã€‚<br />\nä¸ºæ­¤ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨å‰ç¼€å’Œå’Œåç¼€å’Œæ¥ç»´æŠ¤åˆ†å‰²ç‚¹çš„å’Œã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>è®¡ç®—å‰  <code>n</code>  ä¸ªå…ƒç´ çš„å‰ç¼€å’Œ  <code>pre</code> ï¼Œä»¥åŠå  <code>n</code>  ä¸ªå…ƒç´ çš„åç¼€å’Œ  <code>suf</code> ã€‚</li>\n<li>ä½¿ç”¨æœ€å¤§å †ç»´æŠ¤å‰  <code>n</code>  ä¸ªå…ƒç´ çš„æœ€å°å’Œï¼Œä½¿ç”¨æœ€å°å †ç»´æŠ¤å  <code>n</code>  ä¸ªå…ƒç´ çš„æœ€å¤§å’Œã€‚</li>\n<li>ä½¿ç”¨å †æ¥è®¡ç®—å‡º  <code>pre</code>  å’Œ  <code>suf</code>  çš„å€¼ã€‚</li>\n<li>éå†æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²ç‚¹ï¼Œè®¡ç®—å‡ºæœ€å°å·®å€¼ã€‚</li>\n</ol>\n<div class=\"note info no-icon\">\n<p>æœ€å¤§å’Œå€¼ä¸º 10^10ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨  <code>long long</code>  ç±»å‹æ¥å­˜å‚¨å’Œã€‚</p>\n</div>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">minimumDifference</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>() / <span class=\"number\">3</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">long</span> <span class=\"type\">long</span>&gt; <span class=\"title\">pre</span><span class=\"params\">(n<span class=\"number\">+1</span>,<span class=\"number\">0</span>)</span>, <span class=\"title\">suf</span><span class=\"params\">(n<span class=\"number\">+1</span>,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> pre_sum = <span class=\"number\">0</span>, suf_sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>&gt; pre_max;</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>, vector&lt;<span class=\"type\">int</span>&gt;, greater&lt;<span class=\"type\">int</span>&gt;&gt; suf_min;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            pre_sum += nums[i];</span><br><span class=\"line\">            pre_max.<span class=\"built_in\">push</span>(nums[i]);</span><br><span class=\"line\">            suf_sum += nums[<span class=\"number\">2</span>*n+i];</span><br><span class=\"line\">            suf_min.<span class=\"built_in\">push</span>(nums[<span class=\"number\">2</span>*n+i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        pre[<span class=\"number\">0</span>] = pre_sum;</span><br><span class=\"line\">        suf[n] = suf_sum;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            pre[i<span class=\"number\">+1</span>] = pre[i] + nums[n+i];</span><br><span class=\"line\">            pre_max.<span class=\"built_in\">push</span>(nums[n+i]);</span><br><span class=\"line\">            pre[i<span class=\"number\">+1</span>] -= pre_max.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            pre_max.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            suf[n<span class=\"number\">-1</span>-i] = suf[n-i] + nums[<span class=\"number\">2</span>*n<span class=\"number\">-1</span>-i];</span><br><span class=\"line\">            suf_min.<span class=\"built_in\">push</span>(nums[<span class=\"number\">2</span>*n<span class=\"number\">-1</span>-i]);</span><br><span class=\"line\">            suf[n<span class=\"number\">-1</span>-i] -= suf_min.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            suf_min.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> ans = pre[<span class=\"number\">0</span>]-suf[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++)&#123;</span><br><span class=\"line\">            ans = <span class=\"built_in\">min</span>(pre[i]-suf[i], ans);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight cpp\"><figcaption><span>C++ åŒ–ç®€ä¼˜åŒ–ä¸€ç‚¹çš„å†™æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">minimumDifference</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>() / <span class=\"number\">3</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">long</span> <span class=\"type\">long</span>&gt; <span class=\"title\">pre</span><span class=\"params\">(n<span class=\"number\">+1</span>,<span class=\"number\">0</span>)</span>, <span class=\"title\">suf</span><span class=\"params\">(n<span class=\"number\">+1</span>,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> pre_sum = <span class=\"number\">0</span>, suf_sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"function\">priority_queue&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">pre_max</span><span class=\"params\">(nums.begin(), nums.begin()+n)</span></span>;</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>, vector&lt;<span class=\"type\">int</span>&gt;, greater&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">suf_min</span>(nums.<span class=\"built_in\">end</span>()-n, nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        pre_sum = <span class=\"built_in\">reduce</span>(nums.<span class=\"built_in\">begin</span>(), nums.<span class=\"built_in\">begin</span>()+n, <span class=\"number\">0ll</span>);</span><br><span class=\"line\">        suf_sum = <span class=\"built_in\">reduce</span>(nums.<span class=\"built_in\">end</span>()-n, nums.<span class=\"built_in\">end</span>(), <span class=\"number\">0ll</span>);</span><br><span class=\"line\">        pre[<span class=\"number\">0</span>] = pre_sum;</span><br><span class=\"line\">        suf[n] = suf_sum;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            pre[i<span class=\"number\">+1</span>] = pre[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pre_max.<span class=\"built_in\">top</span>() &gt; nums[n+i])&#123;</span><br><span class=\"line\">                pre[i<span class=\"number\">+1</span>] += nums[n+i];</span><br><span class=\"line\">                pre_max.<span class=\"built_in\">push</span>(nums[n+i]);</span><br><span class=\"line\">                pre[i<span class=\"number\">+1</span>] -= pre_max.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                pre_max.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            suf[n<span class=\"number\">-1</span>-i] = suf[n-i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (suf_min.<span class=\"built_in\">top</span>() &lt; nums[<span class=\"number\">2</span>*n<span class=\"number\">-1</span>-i])&#123;</span><br><span class=\"line\">                suf[n<span class=\"number\">-1</span>-i] += nums[<span class=\"number\">2</span>*n<span class=\"number\">-1</span>-i];</span><br><span class=\"line\">                suf_min.<span class=\"built_in\">push</span>(nums[<span class=\"number\">2</span>*n<span class=\"number\">-1</span>-i]);</span><br><span class=\"line\">                suf[n<span class=\"number\">-1</span>-i] -= suf_min.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                suf_min.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> ans = pre[<span class=\"number\">0</span>]-suf[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++)&#123;</span><br><span class=\"line\">            ans = <span class=\"built_in\">min</span>(pre[i]-suf[i], ans);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "å †",
                "ä¼˜å…ˆé˜Ÿåˆ—",
                "å‰ç¼€å’Œ",
                "åç¼€å’Œ",
                "åŠ¨æ€è§„åˆ’"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3202-%E6%89%BE%E5%87%BA%E6%9C%89%E6%95%88%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6-II/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3202-%E6%89%BE%E5%87%BA%E6%9C%89%E6%95%88%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6-II/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š3202. æ‰¾å‡ºæœ‰æ•ˆå­åºåˆ—çš„æœ€å¤§é•¿åº¦ II",
            "date_published": "2025-07-17T04:52:35.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1tYXhpbXVtLWxlbmd0aC1vZi12YWxpZC1zdWJzZXF1ZW5jZS1paT9lbnZUeXBlPWRhaWx5LXF1ZXN0aW9uJmFtcDtlbnZJZD0yMDI1LTA3LTE3\">LeetCode 3201</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„  <code>nums</code>  å’Œä¸€ä¸ª æ­£ æ•´æ•°  <code>k</code>  ã€‚</p>\n<p><code>nums</code>  çš„ä¸€ä¸ª å­åºåˆ—  <code>sub</code>  çš„é•¿åº¦ä¸º  <code>x</code>  ï¼Œå¦‚æœå…¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§°å…¶ä¸º æœ‰æ•ˆå­åºåˆ— ï¼š</p>\n<pre><code>(sub[0] + sub[1]) % k == (sub[1] + sub[2]) % k == ... == (sub[x - 2] + sub[x - 1]) % k\n</code></pre>\n<p>è¿”å›  <code>nums</code>  çš„ æœ€é•¿æœ‰æ•ˆå­åºåˆ— çš„é•¿åº¦ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>æ€è·¯ä¸€ï¼š<br />\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é¦–å…ˆç”±äºæˆ‘ä»¬éœ€è¦è®¡ç®—çš„æ•°å­—éƒ½æ˜¯å°äº  <code>k</code>  çš„ï¼Œå› æ­¤å¯ä»¥å¯¹äºæ¯ä¸€ä¸ª  <code>nums[i]</code>  éƒ½å…ˆ % k ï¼Œæ¥ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„  <code>dp</code>  æ¥è®°å½•çŠ¶æ€ã€‚<br />\nè®¾  <code>dp[i][j]</code>  è¡¨ç¤ºä»¥  <code>i</code>  ç»“å°¾ï¼Œä¸”æœ€åä¸€ä¸ªæ•°å­—çš„ä½™æ•°ä¸º  <code>j</code>  çš„æœ€é•¿æœ‰æ•ˆå­åºåˆ—çš„é•¿åº¦ã€‚<br />\næˆ‘ä»¬å¯ä»¥éå†  <code>nums</code>  æ•°ç»„ï¼Œå¯¹äºæ¯ä¸€ä¸ª  <code>nums[i]</code> ï¼Œæˆ‘ä»¬å¯ä»¥éå†ä¹‹å‰çš„æ‰€æœ‰çŠ¶æ€  <code>j</code> ï¼Œå¦‚æœ  <code>vis[j]</code>  ä¸ºçœŸï¼Œå³å‰ä¸€ä¸ªæ•°å­˜åœ¨ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥æ›´æ–°  <code>dp[nums[i]][(j + nums[i]) % k]</code>  ä¸º  <code>dp[j][(j + nums[i]) % k] + 1</code> ï¼Œ<br />\næœ€åæˆ‘ä»¬åªéœ€è¦è¿”å›  <code>ans + 1</code>  å³å¯ã€‚</p>\n<p>æ€è·¯äºŒï¼š<br />\nç”±äºæ˜¯åœ¨  <code>k</code>  å–æ¨¡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©éå†  <code>k</code>  ä¸ªçŠ¶æ€ã€‚å¯¹äºæ¯ä¸€ä¸ªä½™æ•°çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„  <code>dp</code>  æ¥è®°å½•çŠ¶æ€ï¼Œ <code>dp[j]</code>  è¡¨ç¤ºæœ€åä¸€ä¸ªæ•°å­—ä¸º  <code>j</code>  çš„æœ€é•¿æœ‰æ•ˆå­åºåˆ—çš„é•¿åº¦ã€‚<br />\nç„¶åéå†  <code>nums</code>  æ•°ç»„ï¼Œå¯¹äºæ¯ä¸€ä¸ª  <code>nums[j]</code> ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ–°  <code>dp[nums[j] % k]</code>  ä¸º  <code>dp[(i - nums[j]%k + k)%k] + 1</code> ã€‚å³æ‰¾ä½™æ•°ä¸º  <code>i</code>  æ—¶ï¼Œå½“å‰æ•°ä¸º  <code>nums[j]</code>  æ—¶ï¼Œå‰ä¸€ä¸ªæ•°ä¸ºå¤šå°‘ï¼Œç”±äºä½™æ•°å›ºå®šï¼Œæ‰€ä»¥å‰ä¸€ä¸ªæ•°ä¹Ÿå›ºå®šï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒé€‰ä¸­çš„åºåˆ—ä¸­ä¼šå‡ºç°ç¬¬ä¸‰ç§æ•°ã€‚<br />\næœ€åå–  <code>k</code>  ä¸ªçŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰  <code>dp[j]</code>  çš„æœ€å¤§å€¼å³å¯ã€‚</p>\n<div class=\"note warning no-icon\">\n<p>æ³¨æ„æ¯ä¸ªçŠ¶æ€ dp æ¸…é›¶ã€‚</p>\n</div>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<div class=\"note info no-icon\">\n<p>è¿™é‡Œåªæä¾›æ€è·¯ä¸€çš„ä»£ç ã€‚æ€è·¯äºŒæ˜¯æˆ‘é€šè¿‡çœ‹ leetcode æ‰§è¡Œé€Ÿåº¦æœ€å¿«çš„ä»£ç æ—¶åˆ†æå‡ºæ¥çš„ã€‚</p>\n</div>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•1</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maximumLength</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(k, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(k,<span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">bool</span>&gt; <span class=\"title\">vis</span><span class=\"params\">(k<span class=\"number\">+1</span>,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            nums[i] %= k;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; k; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!vis[j]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"type\">int</span> cur = (j + nums[i])%k;</span><br><span class=\"line\">                dp[nums[i]][cur] = dp[j][cur] + <span class=\"number\">1</span>;</span><br><span class=\"line\">                ans = <span class=\"built_in\">max</span>(ans,dp[nums[i]][cur]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            vis[nums[i]] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "åŠ¨æ€è§„åˆ’"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3201-%E6%89%BE%E5%87%BA%E6%9C%89%E6%95%88%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6-I/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3201-%E6%89%BE%E5%87%BA%E6%9C%89%E6%95%88%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6-I/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š3201. æ‰¾å‡ºæœ‰æ•ˆå­åºåˆ—çš„æœ€å¤§é•¿åº¦ I",
            "date_published": "2025-07-16T03:40:13.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1tYXhpbXVtLWxlbmd0aC1vZi12YWxpZC1zdWJzZXF1ZW5jZS1pP2VudlR5cGU9ZGFpbHktcXVlc3Rpb24mYW1wO2VudklkPTIwMjUtMDctMTY=\">LeetCode 3201</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„  <code>nums</code> ã€‚</p>\n<p><code>nums</code>  çš„å­åºåˆ—  <code>sub</code>  çš„é•¿åº¦ä¸º  <code>x</code>  ï¼Œå¦‚æœå…¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§°å…¶ä¸º æœ‰æ•ˆå­åºåˆ—ï¼š</p>\n<pre><code>`(sub[0] + sub[1]) % 2 == (sub[1] + sub[2]) % 2 == ... == (sub[x - 2] + sub[x - 1]) % 2`\n</code></pre>\n<p>è¿”å›  <code>nums</code>  çš„ æœ€é•¿çš„æœ‰æ•ˆå­åºåˆ— çš„é•¿åº¦ã€‚</p>\n<p>ä¸€ä¸ª å­åºåˆ— æŒ‡çš„æ˜¯ä»åŸæ•°ç»„ä¸­åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å…ƒç´ ï¼‰ï¼Œå‰©ä½™å…ƒç´ ä¿æŒåŸæ¥é¡ºåºç»„æˆçš„æ–°æ•°ç»„ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>è¿™é“é¢˜æ»¡è¶³çš„æœ‰æ•ˆå­åºåˆ—ä¸€å…±ä¸‰ç§æƒ…å†µ</p>\n<ol>\n<li>å…¨éƒ¨ä¸ºå¶æ•°</li>\n<li>å…¨éƒ¨ä¸ºå¥‡æ•°</li>\n<li>å¥‡å¶äº¤æ›¿</li>\n</ol>\n<h2 id=\"å¯¹äºå‰ä¸¤ç§æƒ…å†µçš„æœ€é•¿æœ‰æ•ˆå­åºåˆ—å¯ä»¥ç›´æ¥ç»Ÿè®¡å¶æ•°å’Œå¥‡æ•°çš„æ•°é‡-è€Œç¬¬ä¸‰ç§æƒ…å†µæˆ‘ä»¬åˆ™å¯ä»¥ä»å¼€å§‹è´ªå¿ƒåœ°é€‰æ‹©å¥‡å¶äº¤æ›¿çš„å…ƒç´ -å¯¹äºé€‰æ‹©å¥‡å¶äº¤æ›¿çš„è¿‡ç¨‹ä¸‹ä¸€ä¸ªå…ƒç´ ä¸èƒ½é€‰åˆ™è¯´æ˜æœ‰å¤šä¸ªå¥‡å¶æ€§ç›¸åŒçš„å…ƒç´ è¢«æ”¾åœ¨äº†ä¸€èµ·å› æ­¤æˆ‘ä»¬å¯ä»¥å°†åŸæ•°ç»„çœ‹ä½œæ˜¯å¦‚æœç›¸é‚»å…ƒç´ çš„å¥‡å¶æ€§ç›¸åŒåˆ™å¯ä»¥å°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªå…ƒç´ -ç„¶åæˆ‘ä»¬å°±ä¼šå¾—åˆ°ä¸€ä¸ªå¥‡å¶æ€§äº¤æ›¿çš„åºåˆ—-æ˜¾ç„¶çš„æ­¤æ—¶é€‰æ‹©æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰æ˜¯æœ€é•¿çš„è€Œå¯¹äºæ¶ˆé™¤æ‰çš„å…ƒç´ å³ä½¿åŠ å›æ¥ä¹Ÿä¸ä¼šå½±å“è¿™ç§æƒ…å†µçš„æœ€é•¿é•¿åº¦-æœ€åè¿”å›å‡ ç§æƒ…å†µçš„æœ€å¤§å€¼å³å¯\"><a class=\"anchor\" href=\"#å¯¹äºå‰ä¸¤ç§æƒ…å†µçš„æœ€é•¿æœ‰æ•ˆå­åºåˆ—å¯ä»¥ç›´æ¥ç»Ÿè®¡å¶æ•°å’Œå¥‡æ•°çš„æ•°é‡-è€Œç¬¬ä¸‰ç§æƒ…å†µæˆ‘ä»¬åˆ™å¯ä»¥ä»å¼€å§‹è´ªå¿ƒåœ°é€‰æ‹©å¥‡å¶äº¤æ›¿çš„å…ƒç´ -å¯¹äºé€‰æ‹©å¥‡å¶äº¤æ›¿çš„è¿‡ç¨‹ä¸‹ä¸€ä¸ªå…ƒç´ ä¸èƒ½é€‰åˆ™è¯´æ˜æœ‰å¤šä¸ªå¥‡å¶æ€§ç›¸åŒçš„å…ƒç´ è¢«æ”¾åœ¨äº†ä¸€èµ·å› æ­¤æˆ‘ä»¬å¯ä»¥å°†åŸæ•°ç»„çœ‹ä½œæ˜¯å¦‚æœç›¸é‚»å…ƒç´ çš„å¥‡å¶æ€§ç›¸åŒåˆ™å¯ä»¥å°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªå…ƒç´ -ç„¶åæˆ‘ä»¬å°±ä¼šå¾—åˆ°ä¸€ä¸ªå¥‡å¶æ€§äº¤æ›¿çš„åºåˆ—-æ˜¾ç„¶çš„æ­¤æ—¶é€‰æ‹©æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰æ˜¯æœ€é•¿çš„è€Œå¯¹äºæ¶ˆé™¤æ‰çš„å…ƒç´ å³ä½¿åŠ å›æ¥ä¹Ÿä¸ä¼šå½±å“è¿™ç§æƒ…å†µçš„æœ€é•¿é•¿åº¦-æœ€åè¿”å›å‡ ç§æƒ…å†µçš„æœ€å¤§å€¼å³å¯\">#</a> å¯¹äºå‰ä¸¤ç§æƒ…å†µçš„æœ€é•¿æœ‰æ•ˆå­åºåˆ—ï¼Œå¯ä»¥ç›´æ¥ç»Ÿè®¡å¶æ•°å’Œå¥‡æ•°çš„æ•°é‡ã€‚è€Œç¬¬ä¸‰ç§æƒ…å†µï¼Œæˆ‘ä»¬åˆ™å¯ä»¥ä»å¼€å§‹ï¼Œè´ªå¿ƒåœ°é€‰æ‹©å¥‡å¶äº¤æ›¿çš„å…ƒç´ ã€‚<br />\nå¯¹äºé€‰æ‹©å¥‡å¶äº¤æ›¿çš„è¿‡ç¨‹ï¼Œä¸‹ä¸€ä¸ªå…ƒç´ ä¸èƒ½é€‰ï¼Œåˆ™è¯´æ˜æœ‰å¤šä¸ªå¥‡å¶æ€§ç›¸åŒçš„å…ƒç´ è¢«æ”¾åœ¨äº†ä¸€èµ·ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†åŸæ•°ç»„çœ‹ä½œæ˜¯ï¼Œå¦‚æœç›¸é‚»å…ƒç´ çš„å¥‡å¶æ€§ç›¸åŒï¼Œåˆ™å¯ä»¥å°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªå…ƒç´ ã€‚ç„¶åæˆ‘ä»¬å°±ä¼šå¾—åˆ°ä¸€ä¸ªå¥‡å¶æ€§äº¤æ›¿çš„åºåˆ—ã€‚æ˜¾ç„¶çš„ï¼Œæ­¤æ—¶é€‰æ‹©æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰æ˜¯æœ€é•¿çš„ï¼Œè€Œå¯¹äºæ¶ˆé™¤æ‰çš„å…ƒç´ ï¼Œå³ä½¿åŠ å›æ¥ä¹Ÿä¸ä¼šå½±å“è¿™ç§æƒ…å†µçš„æœ€é•¿é•¿åº¦ã€‚<br />\næœ€åè¿”å›å‡ ç§æƒ…å†µçš„æœ€å¤§å€¼å³å¯ã€‚</h2>\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maximumLength</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> cnt_e = <span class=\"number\">0</span>, cnt_o = <span class=\"number\">0</span>, cnt_cross = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[<span class=\"number\">0</span>] % <span class=\"number\">2</span>) cnt_o++;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> cnt_e++;</span><br><span class=\"line\">        cnt_cross++;</span><br><span class=\"line\">        <span class=\"type\">int</span> tmp = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] &amp; <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                cnt_o++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                cnt_e++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((nums[i] + tmp) &amp; <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                cnt_cross++;</span><br><span class=\"line\">                tmp = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(cnt_cross,<span class=\"built_in\">max</span>(cnt_e, cnt_o));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "è´ªå¿ƒ"
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/Transformer/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/Transformer/",
            "title": "Transformer",
            "date_published": "2025-07-15T13:33:51.000Z",
            "content_html": "<h1 id=\"transformer-æ¶æ„æ¦‚è¿°\"><a class=\"anchor\" href=\"#transformer-æ¶æ„æ¦‚è¿°\">#</a> Transformer æ¶æ„æ¦‚è¿°</h1>\n<p>Transformer æ˜¯ä¸€ç§åŸºäºæ³¨æ„åŠ›æœºåˆ¶çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œç”± Google åœ¨ 2017 å¹´çš„è®ºæ–‡ &quot;Attention Is All You Need&quot; ä¸­æå‡ºã€‚å®ƒå½»åº•æ”¹å˜äº†åºåˆ—åˆ°åºåˆ—ä»»åŠ¡çš„å¤„ç†æ–¹å¼ï¼Œæˆä¸ºç°ä»£è‡ªç„¶è¯­è¨€å¤„ç†çš„åŸºç¡€æ¶æ„ã€‚</p>\n<div style=\"text-align: center;\">\n  <img data-src=\"/assets/transformer.png\" alt=\"Transformeræ¶æ„å›¾\" style=\"max-width: 50%; height: auto;\">\n</div>\n<details class=\"info\"><summary>Seq2Seq åºåˆ—åˆ°åºåˆ—æ¨¡å‹</summary><div>\n<p>Seq2Seqï¼ˆSequence-to-Sequenceï¼‰æ˜¯ä¸€ç§ç¥ç»ç½‘ç»œæ¶æ„æ¨¡å¼ï¼Œç”¨äºå¤„ç†è¾“å…¥åºåˆ—åˆ°è¾“å‡ºåºåˆ—çš„æ˜ å°„ä»»åŠ¡ã€‚å®ƒç”±ç¼–ç å™¨ï¼ˆEncoderï¼‰å’Œè§£ç å™¨ï¼ˆDecoderï¼‰ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç¼–ç å™¨å°†è¾“å…¥åºåˆ—ç¼–ç ä¸ºå›ºå®šé•¿åº¦çš„å‘é‡è¡¨ç¤ºï¼Œè§£ç å™¨åŸºäºè¿™ä¸ªè¡¨ç¤ºç”Ÿæˆç›®æ ‡åºåˆ—ã€‚å…¸å‹åº”ç”¨åŒ…æ‹¬æœºå™¨ç¿»è¯‘ã€æ–‡æœ¬æ‘˜è¦ã€å¯¹è¯ç³»ç»Ÿç­‰ã€‚QAï¼ˆé—®ç­”ï¼‰ç³»ç»Ÿä¹Ÿå¯ä»¥ä½¿ç”¨ Seq2Seq æ¶æ„ï¼Œå°†é—®é¢˜ä½œä¸ºè¾“å…¥åºåˆ—ï¼Œç­”æ¡ˆä½œä¸ºè¾“å‡ºåºåˆ—ã€‚</p>\n</div></details>\n<h1 id=\"ç¼–ç å™¨æ¶æ„-encoder\"><a class=\"anchor\" href=\"#ç¼–ç å™¨æ¶æ„-encoder\">#</a> ç¼–ç å™¨æ¶æ„ (Encoder)</h1>\n<p>ç¼–ç å™¨è´Ÿè´£å°†è¾“å…¥åºåˆ—è½¬æ¢ä¸ºä¸€ç»„å‘é‡è¡¨ç¤ºã€‚åœ¨ Transformer ä¸­ï¼Œç¼–ç å™¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯å®ç°ï¼Œå¦‚ RNNã€CNNï¼Œä½† Transformer é‡‡ç”¨çš„æ˜¯è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf-Attentionï¼‰ã€‚</p>\n<h2 id=\"å¤šå±‚å—ç»“æ„\"><a class=\"anchor\" href=\"#å¤šå±‚å—ç»“æ„\">#</a> å¤šå±‚å—ç»“æ„</h2>\n<p>ç¼–ç å™¨ç”± N ä¸ªç›¸åŒçš„å—ï¼ˆBlockï¼‰ç»„æˆã€‚æ¯ä¸ªå—åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š</p>\n<ol>\n<li><strong>å¤šå¤´è‡ªæ³¨æ„åŠ›å±‚</strong>ï¼ˆMulti-Head Self-Attentionï¼‰</li>\n<li><strong>å‰é¦ˆç¥ç»ç½‘ç»œ</strong>ï¼ˆFeed Forward Networkï¼‰</li>\n<li><strong>æ®‹å·®è¿æ¥</strong>ï¼ˆResidual Connectionï¼‰</li>\n<li><strong>å±‚å½’ä¸€åŒ–</strong>ï¼ˆLayer Normalizationï¼‰</li>\n</ol>\n<h3 id=\"å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶\"><a class=\"anchor\" href=\"#å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶\">#</a> å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶</h3>\n<p>å¤šå¤´è‡ªæ³¨æ„åŠ›æ˜¯ Transformer çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒå…è®¸æ¨¡å‹åŒæ—¶å…³æ³¨ä¸åŒä½ç½®çš„ä¿¡æ¯ã€‚</p>\n<p><strong>åŸºç¡€æ³¨æ„åŠ›è®¡ç®—ï¼š</strong></p>\n<p>å¯¹äºè¾“å…¥åºåˆ— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>ï¼Œé¦–å…ˆé€šè¿‡çº¿æ€§å˜æ¢å¾—åˆ°æŸ¥è¯¢ï¼ˆQueryï¼‰ã€é”®ï¼ˆKeyï¼‰å’Œå€¼ï¼ˆValueï¼‰çŸ©é˜µï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Q</mi><mo>=</mo><mi>X</mi><msup><mi>W</mi><mi>Q</mi></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><mi>K</mi><mo>=</mo><mi>X</mi><msup><mi>W</mi><mi>K</mi></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><mi>V</mi><mo>=</mo><mi>X</mi><msup><mi>W</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">Q = XW^Q, \\quad K = XW^K, \\quad V = XW^V\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.085771em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.891331em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">Q</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0857709999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8913309999999999em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›ï¼š</strong></p>\n<p>ç”±äºç‚¹ç§¯æ“ä½œå¯èƒ½äº§ç”Ÿå¾ˆå¤§çš„å€¼ï¼ˆç‰¹åˆ«æ˜¯å½“ç»´åº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è¾ƒå¤§æ—¶ï¼‰ï¼Œéœ€è¦è¿›è¡Œç¼©æ”¾ä»¥é¿å… softmax å‡½æ•°è¿›å…¥é¥±å’ŒåŒºåŸŸï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>Attention</mtext><mo stretchy=\"false\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>K</mi><mo separator=\"true\">,</mo><mi>V</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mtext>softmax</mtext><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup></mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac><mo fence=\"true\">)</mo></mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">\\text{Attention}(Q, K, V) = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{d_k}}\\right)V\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">Attention</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.468361em;vertical-align:-0.95003em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5183309999999999em;\"><span style=\"top:-2.25278em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.85722em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.81722em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18278000000000005em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.93em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></p>\n<div class=\"note info no-icon\">\n<p>ç¼©æ”¾å› å­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{\\sqrt{d_k}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.383108em;vertical-align:-0.538em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.5864385em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord sqrt mtight\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8622307142857143em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mtight\" style=\"padding-left:0.833em;\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15122857142857138em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.8222307142857144em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail mtight\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.17776928571428574em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.538em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> æ˜¯å…³é”®è®¾è®¡ï¼Œå®ƒé˜²æ­¢äº†ç‚¹ç§¯å€¼è¿‡å¤§å¯¼è‡´çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚</p>\n</div>\n<p><strong>å¤šå¤´æœºåˆ¶ï¼š</strong></p>\n<p>å¤šå¤´æ³¨æ„åŠ›å¹¶è¡Œè¿è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">h</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">h</span></span></span></span> ä¸ªæ³¨æ„åŠ›å¤´ï¼Œæ¯ä¸ªå¤´å­¦ä¹ ä¸åŒçš„è¡¨ç¤ºå­ç©ºé—´ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MultiHead</mtext><mo stretchy=\"false\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>K</mi><mo separator=\"true\">,</mo><mi>V</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mtext>Concat</mtext><mo stretchy=\"false\">(</mo><msub><mtext>head</mtext><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mtext>head</mtext><mi>h</mi></msub><mo stretchy=\"false\">)</mo><msup><mi>W</mi><mi>O</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\text{MultiHead}(Q, K, V) = \\text{Concat}(\\text{head}_1, ..., \\text{head}_h)W^O\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MultiHead</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">Concat</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">head</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">head</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">h</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">O</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­æ¯ä¸ªæ³¨æ„åŠ›å¤´è®¡ç®—ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mtext>head</mtext><mi>i</mi></msub><mo>=</mo><mtext>Attention</mtext><mo stretchy=\"false\">(</mo><mi>Q</mi><msubsup><mi>W</mi><mi>i</mi><mi>Q</mi></msubsup><mo separator=\"true\">,</mo><mi>K</mi><msubsup><mi>W</mi><mi>i</mi><mi>K</mi></msubsup><mo separator=\"true\">,</mo><mi>V</mi><msubsup><mi>W</mi><mi>i</mi><mi>V</mi></msubsup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\text{head}_i = \\text{Attention}(QW_i^Q, KW_i^K, VW_i^V)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">head</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.236103em;vertical-align:-0.276864em;\"></span><span class=\"mord text\"><span class=\"mord\">Attention</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9592389999999998em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.180908em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">Q</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<details class=\"info\"><summary>ç»´åº¦ç¼©æ”¾çš„å¿…è¦æ€§</summary><div>\n<p>å½“é”®å‘é‡çš„ç»´åº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¾ˆå¤§æ—¶ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup></mrow><annotation encoding=\"application/x-tex\">QK^T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.035771em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span> çš„å€¼ä¼šå˜å¾—å¾ˆå¤§ï¼Œè¿™ä¼šä½¿ softmax å‡½æ•°çš„æ¢¯åº¦å˜å¾—å¾ˆå°ï¼Œå¯¼è‡´è®­ç»ƒå›°éš¾ã€‚é€šè¿‡é™¤ä»¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sqrt{d_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.18278000000000005em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.85722em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.81722em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18278000000000005em;\"><span></span></span></span></span></span></span></span></span> è¿›è¡Œç¼©æ”¾ï¼Œå¯ä»¥å°†ç‚¹ç§¯çš„æ–¹å·®æ§åˆ¶åœ¨åˆç†èŒƒå›´å†…ã€‚å‡è®¾ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> çš„å…ƒç´ æ˜¯å‡å€¼ä¸º 0ã€æ–¹å·®ä¸º 1 çš„ç‹¬ç«‹éšæœºå˜é‡ï¼Œé‚£ä¹ˆ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup></mrow><annotation encoding=\"application/x-tex\">QK^T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.035771em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span> çš„æ–¹å·®ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œé™¤ä»¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sqrt{d_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.18278000000000005em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.85722em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.81722em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18278000000000005em;\"><span></span></span></span></span></span></span></span></span> åæ–¹å·®å˜ä¸º 1ã€‚</p>\n</div></details>\n<details class=\"info\"><summary>æ®‹å·®è¿æ¥ (Residual Connection)</summary><div>\n<p>æ®‹å·®è¿æ¥æ˜¯ä¸€ç§ç½‘ç»œè®¾è®¡æŠ€å·§ï¼Œé€šè¿‡å°†å±‚çš„è¾“å…¥ç›´æ¥åŠ åˆ°å…¶è¾“å‡ºä¸Šæ¥ç¼“è§£æ·±åº¦ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚åœ¨ Transformer ä¸­ï¼Œæ®‹å·®è¿æ¥çš„å…¬å¼ä¸ºï¼šè¾“å‡º = LayerNorm (x + SubLayer (x))ï¼Œå…¶ä¸­ x æ˜¯è¾“å…¥ï¼ŒSubLayer (x) æ˜¯å­å±‚ï¼ˆå¦‚æ³¨æ„åŠ›å±‚æˆ–å‰é¦ˆå±‚ï¼‰çš„è¾“å‡ºã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç½‘ç»œå¯ä»¥æ›´æ·±ï¼Œè®­ç»ƒæ›´ç¨³å®šã€‚</p>\n</div></details>\n<details class=\"info\"><summary>å±‚å½’ä¸€åŒ– (Layer Normalization)</summary><div>\n<p>å±‚å½’ä¸€åŒ–æ˜¯ä¸€ç§æ­£åˆ™åŒ–æŠ€æœ¯ï¼Œå¯¹æ¯ä¸ªæ ·æœ¬çš„ç‰¹å¾ç»´åº¦è¿›è¡Œå½’ä¸€åŒ–ã€‚è®¡ç®—å…¬å¼ä¸ºï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><mi>Î¼</mi></mrow><mi>Ïƒ</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">x&#x27;_i = \\frac{x_i - \\mu}{\\sigma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.010556em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-2.441336em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.199439em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.854439em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">Ïƒ</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.446108em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mathnormal mtight\">Î¼</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>ï¼Œå…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding=\"application/x-tex\">\\mu</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Î¼</span></span></span></span> æ˜¯å‡å€¼ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span></span></span></span> æ˜¯æ ‡å‡†å·®ã€‚ä¸æ‰¹å½’ä¸€åŒ–ä¸åŒï¼Œå±‚å½’ä¸€åŒ–åœ¨æ¯ä¸ªæ ·æœ¬å†…éƒ¨è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¸ä¾èµ–äºæ‰¹æ¬¡å¤§å°ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†åºåˆ—æ•°æ®ã€‚</p>\n</div></details>\n<h2 id=\"ä½ç½®ç¼–ç \"><a class=\"anchor\" href=\"#ä½ç½®ç¼–ç \">#</a> ä½ç½®ç¼–ç </h2>\n<p>ç”±äºè‡ªæ³¨æ„åŠ›æœºåˆ¶æœ¬èº«ä¸åŒ…å«ä½ç½®ä¿¡æ¯ï¼Œç¼–ç å™¨è¾“å…¥æ—¶éœ€è¦åŠ ä¸Šä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰ï¼Œä¸ºæ¯ä¸ªä½ç½®çš„è¯å‘é‡æ·»åŠ ä½ç½®ä¿¡æ¯ã€‚</p>\n<div class=\"note info no-icon\">\n<p>ç¼–ç å™¨çš„è¾“å…¥ = è¯åµŒå…¥ + ä½ç½®ç¼–ç </p>\n</div>\n<details class=\"info\"><summary>å‰é¦ˆç¥ç»ç½‘ç»œ (Feed Forward)</summary><div>\n<p>å‰é¦ˆç¥ç»ç½‘ç»œæ˜¯ Transformer å—ä¸­çš„ç¬¬äºŒä¸ªä¸»è¦ç»„ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„ä¸¤å±‚å…¨è¿æ¥ç½‘ç»œï¼Œåœ¨ç¬¬ä¸€å±‚åä½¿ç”¨ ReLU æ¿€æ´»å‡½æ•°ã€‚æ•°å­¦è¡¨ç¤ºä¸ºï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>F</mi><mi>N</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>max</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mi>x</mi><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><msub><mi>W</mi><mn>2</mn></msub><mo>+</mo><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">FFN(x) = \\max(0, xW_1 + b_1)W_2 + b_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå…¶ä¸­ç¬¬ä¸€å±‚è¿›è¡Œçº¿æ€§å˜æ¢å¹¶åº”ç”¨ ReLUï¼Œç¬¬äºŒå±‚å†è¿›è¡Œçº¿æ€§å˜æ¢è¾“å‡ºæœ€ç»ˆç»“æœã€‚è¿™ä¸ªç½‘ç»œå¯¹åºåˆ—ä¸­çš„æ¯ä¸ªä½ç½®ç‹¬ç«‹è¿›è¡Œç›¸åŒçš„å˜æ¢ï¼Œæä¾›éçº¿æ€§å˜æ¢èƒ½åŠ›ã€‚</p>\n</div></details>\n<h1 id=\"è§£ç å™¨æ¶æ„-decoder\"><a class=\"anchor\" href=\"#è§£ç å™¨æ¶æ„-decoder\">#</a> è§£ç å™¨æ¶æ„ (Decoder)</h1>\n<p>è§£ç å™¨è´Ÿè´£åŸºäºç¼–ç å™¨çš„è¾“å‡ºç”Ÿæˆç›®æ ‡åºåˆ—ã€‚Transformer æ”¯æŒä¸¤ç§ä¸»è¦çš„è§£ç æ–¹å¼ï¼š</p>\n<h2 id=\"è‡ªå›å½’è§£ç -auto-regressive\"><a class=\"anchor\" href=\"#è‡ªå›å½’è§£ç -auto-regressive\">#</a> è‡ªå›å½’è§£ç  (Auto-Regressive)</h2>\n<p>è‡ªå›å½’è§£ç é‡‡ç”¨é€æ­¥ç”Ÿæˆçš„æ–¹å¼ï¼š</p>\n<ol>\n<li>ä»ç‰¹æ®Šæ ‡è®° BOSï¼ˆBegin of Sequenceï¼‰å¼€å§‹</li>\n<li>é€šè¿‡ Softmax å±‚è¾“å‡ºè¯æ±‡è¡¨å¤§å°çš„æ¦‚ç‡åˆ†å¸ƒ</li>\n<li>é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„è¯ä½œä¸ºè¾“å‡º</li>\n<li>å°†è¾“å‡ºä½œä¸ºä¸‹ä¸€æ­¥çš„è¾“å…¥ï¼Œé‡å¤æ­¤è¿‡ç¨‹</li>\n<li>å½“è¾“å‡º END æ ‡è®°æ—¶åœæ­¢ç”Ÿæˆ</li>\n</ol>\n<h3 id=\"æ©ç è‡ªæ³¨æ„åŠ›\"><a class=\"anchor\" href=\"#æ©ç è‡ªæ³¨æ„åŠ›\">#</a> æ©ç è‡ªæ³¨æ„åŠ›</h3>\n<p>åœ¨è‡ªå›å½’è§£ç ä¸­ä½¿ç”¨æ©ç è‡ªæ³¨æ„åŠ›ï¼ˆMasked Self-Attentionï¼‰ï¼Œç¡®ä¿ä½ç½® i åªèƒ½å…³æ³¨ä½ç½® 1 åˆ° i çš„ä¿¡æ¯ï¼Œä¸èƒ½çœ‹åˆ°æœªæ¥çš„ä¿¡æ¯ã€‚</p>\n<details class=\"info\"><summary>Teacher Forcing æ•™å¸ˆå¼ºåˆ¶</summary><div>\n<p>Teacher Forcing æ˜¯è®­ç»ƒåºåˆ—ç”Ÿæˆæ¨¡å‹çš„ä¸€ç§æŠ€æœ¯ã€‚åœ¨è®­ç»ƒé˜¶æ®µï¼Œä¸ä½¿ç”¨æ¨¡å‹å‰ä¸€æ­¥çš„é¢„æµ‹è¾“å‡ºä½œä¸ºå½“å‰æ­¥çš„è¾“å…¥ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨æ­£ç¡®ç­”æ¡ˆï¼ˆGround Truthï¼‰ä½œä¸ºè¾“å…¥ã€‚è¿™æ ·å¯ä»¥åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œé¿å…é”™è¯¯ç´¯ç§¯ã€‚ä½†åœ¨æ¨ç†é˜¶æ®µä»éœ€è¦ä½¿ç”¨æ¨¡å‹è‡ªå·±çš„è¾“å‡ºï¼Œè¿™ç§è®­ç»ƒå’Œæ¨ç†çš„å·®å¼‚è¢«ç§°ä¸º Exposure Biasã€‚</p>\n</div></details>\n<h2 id=\"éè‡ªå›å½’è§£ç -non-auto-regressive-nat\"><a class=\"anchor\" href=\"#éè‡ªå›å½’è§£ç -non-auto-regressive-nat\">#</a> éè‡ªå›å½’è§£ç  (Non-Auto-Regressive, NAT)</h2>\n<p>éè‡ªå›å½’è§£ç åŒæ—¶è¾“å‡ºæ‰€æœ‰ä½ç½®çš„ç»“æœï¼š</p>\n<ol>\n<li>è¾“å…¥å¤šä¸ª BEGIN æ ‡è®°</li>\n<li>å¹¶è¡Œç”Ÿæˆæ‰€æœ‰è¾“å‡ºä½ç½®</li>\n<li>ä¸éœ€è¦é€æ­¥è¿­ä»£</li>\n</ol>\n<details class=\"info\"><summary>Ground Truth çœŸå®æ ‡ç­¾</summary><div>\n<p>Ground Truth æŒ‡çš„æ˜¯æ•°æ®é›†ä¸­çš„æ­£ç¡®ç­”æ¡ˆæˆ–æ ‡å‡†ç­”æ¡ˆã€‚åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ¨¡å‹çš„é¢„æµ‹ç»“æœä¼šä¸ Ground Truth è¿›è¡Œæ¯”è¾ƒæ¥è®¡ç®—æŸå¤±å‡½æ•°ã€‚åœ¨åºåˆ—ç”Ÿæˆä»»åŠ¡ä¸­ï¼ŒGround Truth æ˜¯ç›®æ ‡åºåˆ—çš„æ­£ç¡®å†…å®¹ï¼Œç”¨äºè®­ç»ƒè¿‡ç¨‹ä¸­çš„ç›‘ç£å­¦ä¹ å’Œæ¨¡å‹è¯„ä¼°ã€‚</p>\n</div></details>\n<h1 id=\"äº¤å‰æ³¨æ„åŠ›æœºåˆ¶-cross-attention\"><a class=\"anchor\" href=\"#äº¤å‰æ³¨æ„åŠ›æœºåˆ¶-cross-attention\">#</a> äº¤å‰æ³¨æ„åŠ›æœºåˆ¶ (Cross-Attention)</h1>\n<p>äº¤å‰æ³¨æ„åŠ›æ˜¯è¿æ¥ç¼–ç å™¨å’Œè§£ç å™¨çš„å…³é”®æœºåˆ¶ï¼š</p>\n<ol>\n<li>è§£ç å™¨é€šè¿‡æ©ç è‡ªæ³¨æ„åŠ›å¤„ç† BEGIN æ ‡è®°ï¼Œå¾—åˆ°æŸ¥è¯¢å‘é‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span></li>\n<li>ç¼–ç å™¨è¾“å‡º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">a_1, a_2, a_3, ...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span> é€šè¿‡çº¿æ€§å˜æ¢å¾—åˆ°é”®å‘é‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>k</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>k</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>k</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">K = [k_1, k_2, k_3, ...]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mclose\">]</span></span></span></span> å’Œå€¼å‘é‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>v</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">V = [v_1, v_2, v_3, ...]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mclose\">]</span></span></span></span></li>\n<li>è®¡ç®—æ³¨æ„åŠ›æƒé‡ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>Attention_Weights</mtext><mo>=</mo><mtext>softmax</mtext><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup></mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{Attention\\_Weights} = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{d_k}}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.00444em;vertical-align:-0.31em;\"></span><span class=\"mord text\"><span class=\"mord\">Attention_Weights</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.089473em;\"><span style=\"top:-2.5864385em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord sqrt mtight\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8622307142857143em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mtight\" style=\"padding-left:0.833em;\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15122857142857138em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.8222307142857144em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail mtight\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.17776928571428574em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.446108em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">Q</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9190928571428572em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.538em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></li>\n<li>åŠ æƒæ±‚å’Œï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>Output</mtext><mo>=</mo><mtext>Attention_Weights</mtext><mo>â‹…</mo><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">\\text{Output} = \\text{Attention\\_Weights} \\cdot V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">Output</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.00444em;vertical-align:-0.31em;\"></span><span class=\"mord text\"><span class=\"mord\">Attention_Weights</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span></li>\n<li>å°†ç»“æœé€å…¥å‰é¦ˆç½‘ç»œå¤„ç†</li>\n</ol>\n<div class=\"note info no-icon\">\n<p>äº¤å‰æ³¨æ„åŠ›ä½¿è§£ç å™¨èƒ½å¤Ÿå…³æ³¨ç¼–ç å™¨çš„æ‰€æœ‰ä½ç½®ï¼Œå®ç°è¾“å…¥åºåˆ—ä¿¡æ¯çš„æœ‰æ•ˆä¼ é€’ã€‚åŒæ ·ä½¿ç”¨ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›æœºåˆ¶ä»¥ä¿æŒæ•°å€¼ç¨³å®šæ€§ã€‚</p>\n</div>\n<details class=\"info\"><summary>Copy Mechanism å¤åˆ¶æœºåˆ¶</summary><div>\n<p>å¤åˆ¶æœºåˆ¶å…è®¸æ¨¡å‹åœ¨ç”Ÿæˆè¾“å‡ºæ—¶ç›´æ¥ä»è¾“å…¥åºåˆ—ä¸­å¤åˆ¶è¯æ±‡ï¼Œè€Œä¸ä»…ä»…ä»å›ºå®šè¯æ±‡è¡¨ä¸­é€‰æ‹©ã€‚è¿™åœ¨å¤„ç†åŒ…å«ä¸“æœ‰åè¯ã€æ•°å­—æˆ–ç½•è§è¯æ±‡çš„ä»»åŠ¡ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚å¤åˆ¶æœºåˆ¶é€šè¿‡æ³¨æ„åŠ›æƒé‡ç¡®å®šä»è¾“å…¥çš„å“ªä¸ªä½ç½®å¤åˆ¶å†…å®¹ï¼Œå¸¸ç”¨äºæ–‡æœ¬æ‘˜è¦ã€å¯¹è¯ç”Ÿæˆç­‰ä»»åŠ¡ã€‚</p>\n</div></details>\n<h1 id=\"è®­ç»ƒä¸ä¼˜åŒ–\"><a class=\"anchor\" href=\"#è®­ç»ƒä¸ä¼˜åŒ–\">#</a> è®­ç»ƒä¸ä¼˜åŒ–</h1>\n<h2 id=\"æŸå¤±å‡½æ•°\"><a class=\"anchor\" href=\"#æŸå¤±å‡½æ•°\">#</a> æŸå¤±å‡½æ•°</h2>\n<p>Transformer ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°è¿›è¡Œè®­ç»ƒï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"script\">L</mi><mo>=</mo><mo>âˆ’</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>y</mi><mi>i</mi></msub><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><msub><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathcal{L} = -\\sum_{i=1}^{N} y_i \\log(\\hat{y}_i)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">L</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.106005em;vertical-align:-1.277669em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283360000000002em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯çœŸå®æ ‡ç­¾ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{y}_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯æ¨¡å‹é¢„æµ‹çš„æ¦‚ç‡åˆ†å¸ƒã€‚</p>\n<details class=\"info\"><summary>Error Propagation è¯¯å·®ä¼ æ’­</summary><div>\n<p>è¯¯å·®ä¼ æ’­æ˜¯æŒ‡è®­ç»ƒè¿‡ç¨‹ä¸­æ¢¯åº¦é€šè¿‡ç½‘ç»œå±‚å‘åä¼ æ’­çš„è¿‡ç¨‹ã€‚åœ¨æ·±åº¦ç½‘ç»œä¸­ï¼Œæ¢¯åº¦å¯èƒ½åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­å˜å¾—å¾ˆå°ï¼ˆæ¢¯åº¦æ¶ˆå¤±ï¼‰æˆ–å¾ˆå¤§ï¼ˆæ¢¯åº¦çˆ†ç‚¸ï¼‰ã€‚Transformer é€šè¿‡æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–æ¥ç¼“è§£è¿™äº›é—®é¢˜ï¼Œç¡®ä¿æ¢¯åº¦èƒ½å¤Ÿæœ‰æ•ˆåœ°ä¼ æ’­åˆ°ç½‘ç»œçš„å„ä¸ªå±‚ã€‚</p>\n</div></details>\n<h2 id=\"é«˜çº§è®­ç»ƒæŠ€å·§\"><a class=\"anchor\" href=\"#é«˜çº§è®­ç»ƒæŠ€å·§\">#</a> é«˜çº§è®­ç»ƒæŠ€å·§</h2>\n<details class=\"info\"><summary>Scheduled Sampling è®¡åˆ’é‡‡æ ·</summary><div>\n<p>Scheduled Sampling æ˜¯è§£å†³ Exposure Bias çš„ä¸€ç§æŠ€æœ¯ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä¸æ€»æ˜¯ä½¿ç”¨ Ground Truth ä½œä¸ºè¾“å…¥ï¼Œè€Œæ˜¯æŒ‰ç…§æŸç§ç­–ç•¥å¶å°”ä½¿ç”¨æ¨¡å‹è‡ªå·±çš„é¢„æµ‹ç»“æœä½œä¸ºè¾“å…¥ã€‚è¿™ç§ &quot;å¶å°”ç»™é”™è¯¯æ ·æœ¬&quot; çš„åšæ³•å¯ä»¥è®©æ¨¡å‹æ›´å¥½åœ°é€‚åº”æ¨ç†æ—¶çš„æƒ…å†µï¼Œæé«˜æ¨¡å‹çš„é²æ£’æ€§ã€‚</p>\n</div></details>\n<details class=\"info\"><summary>Guided Attention å¼•å¯¼æ³¨æ„åŠ›</summary><div>\n<p>Guided Attention æ˜¯ä¸€ç§çº¦æŸæ³¨æ„åŠ›åˆ†å¸ƒçš„æŠ€æœ¯ï¼Œé€šè¿‡åœ¨æŸå¤±å‡½æ•°ä¸­æ·»åŠ æ³¨æ„åŠ›æ­£åˆ™é¡¹æ¥å¼•å¯¼æ¨¡å‹å­¦ä¹ æ›´åˆç†çš„æ³¨æ„åŠ›æ¨¡å¼ã€‚è¿™åœ¨æŸäº›ä»»åŠ¡ä¸­å¯ä»¥æé«˜æ¨¡å‹çš„å¯è§£é‡Šæ€§å’Œæ€§èƒ½ï¼Œä¾‹å¦‚ç¡®ä¿ç¿»è¯‘æ¨¡å‹çš„æ³¨æ„åŠ›æ›´å¤šåœ°å…³æ³¨ç›¸å…³çš„æºè¯­è¨€è¯æ±‡ã€‚</p>\n</div></details>\n<h1 id=\"æ¨ç†ä¸è¯„ä¼°\"><a class=\"anchor\" href=\"#æ¨ç†ä¸è¯„ä¼°\">#</a> æ¨ç†ä¸è¯„ä¼°</h1>\n<h2 id=\"æŸæœç´¢è§£ç \"><a class=\"anchor\" href=\"#æŸæœç´¢è§£ç \">#</a> æŸæœç´¢è§£ç </h2>\n<details class=\"info\"><summary>Beam Search æŸæœç´¢</summary><div>\n<p>Beam Search æ˜¯ä¸€ç§å¯å‘å¼æœç´¢ç®—æ³•ï¼Œç”¨äºåœ¨è§£ç æ—¶å¯»æ‰¾æ›´ä¼˜çš„è¾“å‡ºåºåˆ—ã€‚ä¸è´ªå¿ƒæœç´¢ä¸åŒï¼ŒæŸæœç´¢åœ¨æ¯ä¸€æ­¥ä¿æŒ k ä¸ªæœ€ä¼˜çš„éƒ¨åˆ†åºåˆ—ï¼ˆç§°ä¸ºæŸï¼‰ï¼Œå¹¶ä»ä¸­æ‰©å±•å‡ºæ–°çš„å€™é€‰åºåˆ—ã€‚è¿™ç§æ–¹æ³•åœ¨è®¡ç®—æ•ˆç‡å’Œè¾“å‡ºè´¨é‡ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œé€šå¸¸èƒ½äº§ç”Ÿæ¯”è´ªå¿ƒæœç´¢æ›´å¥½çš„ç»“æœã€‚</p>\n</div></details>\n<h2 id=\"è¯„ä¼°æŒ‡æ ‡\"><a class=\"anchor\" href=\"#è¯„ä¼°æŒ‡æ ‡\">#</a> è¯„ä¼°æŒ‡æ ‡</h2>\n<details class=\"info\"><summary>BLEU Score åŒè¯­è¯„ä¼°æ›¿è¡¥</summary><div>\n<p>BLEUï¼ˆBilingual Evaluation Understudyï¼‰æ˜¯è¯„ä¼°æœºå™¨ç¿»è¯‘å’Œæ–‡æœ¬ç”Ÿæˆè´¨é‡çš„æ ‡å‡†æŒ‡æ ‡ã€‚å®ƒé€šè¿‡è®¡ç®—ç”Ÿæˆæ–‡æœ¬ä¸å‚è€ƒæ–‡æœ¬ä¹‹é—´çš„ n-gram é‡å åº¦æ¥è¯„åˆ†ï¼Œåˆ†æ•°èŒƒå›´ä» 0 åˆ° 1ï¼Œè¶Šé«˜è¡¨ç¤ºè´¨é‡è¶Šå¥½ã€‚BLEU è€ƒè™‘äº†ç²¾ç¡®åº¦å’Œç®€æ´æ€§ï¼Œä½†ä¹Ÿæœ‰å±€é™æ€§ï¼Œå¦‚æ— æ³•å¾ˆå¥½åœ°å¤„ç†åŒä¹‰è¯æ›¿æ¢ã€‚</p>\n</div></details>\n<h1 id=\"å®ç°æŠ€å·§ä¸ä¼˜åŒ–\"><a class=\"anchor\" href=\"#å®ç°æŠ€å·§ä¸ä¼˜åŒ–\">#</a> å®ç°æŠ€å·§ä¸ä¼˜åŒ–</h1>\n<div class=\"note warning no-icon\">\n<p>å½“ä¼ ç»Ÿä¼˜åŒ–æ–¹æ³•æ— æ³•è§£å†³é—®é¢˜æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learning, RLï¼‰è¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>\n</div>\n<p>Transformer çš„æˆåŠŸä¸ä»…åœ¨äºå…¶åˆ›æ–°çš„æ¶æ„è®¾è®¡ï¼Œè¿˜åœ¨äºè®¸å¤šç²¾å¿ƒè®¾è®¡çš„å®ç°ç»†èŠ‚å’Œè®­ç»ƒæŠ€å·§ã€‚è¿™äº› &quot;ç¥ç§˜çš„å°æŠ€å·§&quot; å¾€å¾€æ˜¯æ¨¡å‹æ€§èƒ½æå‡çš„å…³é”®å› ç´ ã€‚</p>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "Transformer",
                "æ·±åº¦å­¦ä¹ ",
                "æ³¨æ„åŠ›æœºåˆ¶",
                "åºåˆ—åˆ°åºåˆ—",
                "ç¼–ç å™¨è§£ç å™¨",
                "è‡ªæ³¨æ„åŠ›",
                "äº¤å‰æ³¨æ„åŠ›",
                "ç¥ç»ç½‘ç»œ",
                "å¤šå¤´æ³¨æ„åŠ›",
                "æ”¾ç¼©"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3136-%E6%9C%89%E6%95%88%E5%8D%95%E8%AF%8D/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3136-%E6%9C%89%E6%95%88%E5%8D%95%E8%AF%8D/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š3136. æœ‰æ•ˆå•è¯",
            "date_published": "2025-07-15T07:35:26.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy92YWxpZC13b3JkP2VudlR5cGU9ZGFpbHktcXVlc3Rpb24mYW1wO2VudklkPTIwMjUtMDctMTU=\">LeetCode 3136</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°åŠå¤æ‚åº¦åˆ†æã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>æœ‰æ•ˆå•è¯ éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š</p>\n<pre><code>è‡³å°‘ åŒ…å« 3 ä¸ªå­—ç¬¦ã€‚\nç”±æ•°å­— 0-9 å’Œè‹±æ–‡å¤§å°å†™å­—æ¯ç»„æˆã€‚ï¼ˆä¸å¿…åŒ…å«æ‰€æœ‰è¿™ç±»å­—ç¬¦ã€‚ï¼‰\nè‡³å°‘ åŒ…å«ä¸€ä¸ª å…ƒéŸ³å­—æ¯ ã€‚\nè‡³å°‘ åŒ…å«ä¸€ä¸ª è¾…éŸ³å­—æ¯ ã€‚\n</code></pre>\n<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²  <code>word</code>  ã€‚å¦‚æœ  <code>word</code>  æ˜¯ä¸€ä¸ªæœ‰æ•ˆå•è¯ï¼Œåˆ™è¿”å›  <code>true</code>  ï¼Œå¦åˆ™è¿”å›  <code>false</code>  ã€‚</p>\n<p>æ³¨æ„ï¼š<br />\n'a'ã€'e'ã€'i'ã€'o'ã€'u' åŠå…¶å¤§å†™å½¢å¼éƒ½å±äº å…ƒéŸ³å­—æ¯ ã€‚<br />\nè‹±æ–‡ä¸­çš„ è¾…éŸ³å­—æ¯ æ˜¯æŒ‡é‚£äº›é™¤å…ƒéŸ³å­—æ¯ä¹‹å¤–çš„å­—æ¯ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>é¦–å…ˆåˆ¤æ–­é•¿åº¦æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œå¦‚æœå°äº 3 åˆ™ç›´æ¥è¿”å› falseã€‚æ¥ç€éå†å­—ç¬¦ä¸²ï¼Œæ£€æŸ¥æ¯ä¸ªå­—ç¬¦æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œé¦–å…ˆçœ‹æ˜¯å¦æ˜¯å­—æ¯æˆ–æ•°å­—ï¼Œä¸ºäº†æ–¹ä¾¿åˆ¤æ–­ï¼Œæˆ‘ä»¬å°†å­—æ¯ç»Ÿä¸€è½¬æ¢ä¸ºå°å†™ã€‚ç„¶ååˆ†åˆ«ç»Ÿè®¡å…ƒéŸ³å­—æ¯å’Œæ•°å­—çš„æ•°é‡ã€‚æœ€åæ ¹æ®ç»Ÿè®¡ç»“æœåˆ¤æ–­æ˜¯å¦æ»¡è¶³æœ‰æ•ˆå•è¯çš„æ¡ä»¶ã€‚</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isValid</span><span class=\"params\">(string word)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> cnt = <span class=\"number\">0</span>, cntn = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (word.<span class=\"built_in\">size</span>() &lt; <span class=\"number\">3</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> c:word)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!<span class=\"built_in\">isalpha</span>(c) &amp;&amp; !<span class=\"built_in\">isdigit</span>(c)) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            c = <span class=\"built_in\">tolower</span>(c);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (c == <span class=\"string\">&#x27;a&#x27;</span> || c == <span class=\"string\">&#x27;e&#x27;</span> || c == <span class=\"string\">&#x27;i&#x27;</span> || c == <span class=\"string\">&#x27;o&#x27;</span> || c == <span class=\"string\">&#x27;u&#x27;</span>) cnt++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">isdigit</span>(c)) cntn++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cnt &gt; <span class=\"number\">0</span> &amp;&amp; word.<span class=\"built_in\">size</span>() - cnt - cntn &gt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "å­—ç¬¦ä¸²"
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/%E8%87%AA%E6%B3%A8%E6%84%8F%E5%8A%9B/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/%E8%87%AA%E6%B3%A8%E6%84%8F%E5%8A%9B/",
            "title": "è‡ªæ³¨æ„åŠ›",
            "date_published": "2025-07-14T10:33:49.000Z",
            "content_html": "<h1 id=\"è‡ªæ³¨æ„åŠ›æœºåˆ¶åºåˆ—å»ºæ¨¡çš„é©å‘½æ€§çªç ´\"><a class=\"anchor\" href=\"#è‡ªæ³¨æ„åŠ›æœºåˆ¶åºåˆ—å»ºæ¨¡çš„é©å‘½æ€§çªç ´\">#</a> è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼šåºåˆ—å»ºæ¨¡çš„é©å‘½æ€§çªç ´</h1>\n<p>è‡ªæ³¨æ„åŠ›æœºåˆ¶æ˜¯ç°ä»£æ·±åº¦å­¦ä¹ ä¸­æœ€é‡è¦çš„åˆ›æ–°ä¹‹ä¸€ï¼Œå®ƒå½»åº•æ”¹å˜äº†åºåˆ—æ•°æ®çš„å¤„ç†æ–¹å¼ã€‚ä»æœ€åˆç®€å•çš„è¯è¡¨ç¤ºæ–¹æ³•åˆ°å¤æ‚çš„æ³¨æ„åŠ›è®¡ç®—ï¼Œè¿™ä¸€æŠ€æœ¯è·¯å¾„å±•ç°äº†æœºå™¨å­¦ä¹ é¢†åŸŸçš„å·¨å¤§è¿›æ­¥ã€‚</p>\n<h2 id=\"ä»ç®€å•è¡¨ç¤ºåˆ°æ™ºèƒ½ç¼–ç \"><a class=\"anchor\" href=\"#ä»ç®€å•è¡¨ç¤ºåˆ°æ™ºèƒ½ç¼–ç \">#</a> ä»ç®€å•è¡¨ç¤ºåˆ°æ™ºèƒ½ç¼–ç </h2>\n<h3 id=\"ä¼ ç»Ÿè¯è¡¨ç¤ºçš„å±€é™æ€§\"><a class=\"anchor\" href=\"#ä¼ ç»Ÿè¯è¡¨ç¤ºçš„å±€é™æ€§\">#</a> ä¼ ç»Ÿè¯è¡¨ç¤ºçš„å±€é™æ€§</h3>\n<p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†çš„æ—©æœŸé˜¶æ®µï¼Œ<ins class=\"dot\">one-hot encoding</ins> æ˜¯æœ€å¸¸ç”¨çš„è¯è¡¨ç¤ºæ–¹æ³•ã€‚è¿™ç§æ–¹æ³•ç®€å•ç›´è§‚ï¼Œä½†å­˜åœ¨æ ¹æœ¬æ€§ç¼ºé™·ï¼š<strong>æ— æ³•è¡¨ç¤ºè¯ä¹‹é—´çš„å…³ç³»</strong>ã€‚</p>\n<details class=\"info\"><summary>One-Hot Encodingè¯¦è§£</summary><div>\n<p>One-hot encoding æ˜¯ä¸€ç§ç¨€ç–çš„å‘é‡è¡¨ç¤ºæ–¹æ³•ï¼Œå¯¹äºè¯æ±‡è¡¨ä¸­çš„æ¯ä¸ªè¯ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé•¿åº¦ç­‰äºè¯æ±‡è¡¨å¤§å°çš„å‘é‡ã€‚åœ¨è¿™ä¸ªå‘é‡ä¸­ï¼Œåªæœ‰å¯¹åº”è¯¥è¯çš„ä½ç½®ä¸º 1ï¼Œå…¶ä»–ä½ç½®å…¨ä¸º 0ã€‚</p>\n<p><strong>ä¼˜ç‚¹ï¼š</strong></p>\n<ul>\n<li>å®ç°ç®€å•ï¼Œæ˜“äºç†è§£</li>\n<li>æ¯ä¸ªè¯éƒ½æœ‰å”¯ä¸€çš„è¡¨ç¤º</li>\n<li>è®¡ç®—å¤æ‚åº¦ä½</li>\n</ul>\n<p><strong>ç¼ºç‚¹ï¼š</strong></p>\n<ul>\n<li>å‘é‡ç»´åº¦ç­‰äºè¯æ±‡è¡¨å¤§å°ï¼Œé€šå¸¸éå¸¸é«˜ç»´</li>\n<li>æ‰€æœ‰è¯å‘é‡é—´çš„è·ç¦»ç›¸ç­‰ï¼Œæ— æ³•ä½“ç°è¯­ä¹‰ç›¸ä¼¼æ€§</li>\n<li>ç¨€ç–è¡¨ç¤ºï¼Œå­˜å‚¨æ•ˆç‡ä½</li>\n<li>æ— æ³•å¤„ç†æœªè§è¿‡çš„è¯ï¼ˆOOV é—®é¢˜ï¼‰</li>\n</ul>\n<p>ä¾‹å¦‚ï¼Œå¯¹äºè¯æ±‡è¡¨ {çŒ«ï¼Œç‹—ï¼Œæ±½è½¦}ï¼Œ&quot;çŒ«&quot; çš„ one-hot è¡¨ç¤ºä¸º [1, 0, 0]ï¼Œ&quot;ç‹—&quot; ä¸º [0, 1, 0]ã€‚å°½ç®¡ &quot;çŒ«&quot; å’Œ &quot;ç‹—&quot; åœ¨è¯­ä¹‰ä¸Šç›¸å…³ï¼Œä½†å®ƒä»¬çš„å‘é‡è¡¨ç¤ºå®Œå…¨æ­£äº¤ã€‚</p>\n</div></details>\n<div class=\"note warning no-icon\">\n<p>One-hot encoding çš„æ ¹æœ¬é—®é¢˜åœ¨äºï¼šæ‰€æœ‰è¯ä¹‹é—´çš„è·ç¦»éƒ½ç›¸ç­‰ï¼Œ&quot;çŒ«&quot; å’Œ &quot;ç‹—&quot; çš„ç›¸ä¼¼åº¦ä¸ &quot;çŒ«&quot; å’Œ &quot;æ±½è½¦&quot; çš„ç›¸ä¼¼åº¦å®Œå…¨ä¸€æ ·ï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆäººç±»çš„è¯­è¨€ç›´è§‰ã€‚</p>\n</div>\n<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç ”ç©¶è€…ä»¬å¼€å‘äº†<ins class=\"dot\"> word embedding</ins> æŠ€æœ¯ï¼Œå®ƒèƒ½å¤Ÿå°†è¯æ˜ å°„åˆ°ä½ç»´ç¨ å¯†ç©ºé—´ä¸­ï¼Œä½¿å¾—è¯­ä¹‰ç›¸ä¼¼çš„è¯åœ¨å‘é‡ç©ºé—´ä¸­è·ç¦»æ›´è¿‘ã€‚</p>\n<details class=\"success\"><summary>Word Embeddingæ·±åº¦è§£æ</summary><div>\n<p>Word embedding æ˜¯å°†è¯æ±‡æ˜ å°„åˆ°è¿ç»­å‘é‡ç©ºé—´çš„æŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ &quot;åˆ†å¸ƒå¼å‡è®¾&quot;ï¼šåœ¨ç›¸ä¼¼ä¸Šä¸‹æ–‡ä¸­å‡ºç°çš„è¯å…·æœ‰ç›¸ä¼¼çš„å«ä¹‰ã€‚</p>\n<p><strong>ä¸»è¦æ–¹æ³•ï¼š</strong></p>\n<ol>\n<li>\n<p><strong>Word2Vec</strong>: åŒ…æ‹¬ CBOW å’Œ Skip-gram ä¸¤ç§æ¶æ„</p>\n<ul>\n<li>CBOWï¼šæ ¹æ®ä¸Šä¸‹æ–‡é¢„æµ‹ä¸­å¿ƒè¯</li>\n<li>Skip-gramï¼šæ ¹æ®ä¸­å¿ƒè¯é¢„æµ‹ä¸Šä¸‹æ–‡</li>\n</ul>\n</li>\n<li>\n<p><strong>GloVe</strong>: å…¨å±€å‘é‡è¡¨ç¤ºï¼Œç»“åˆäº†å…¨å±€ç»Ÿè®¡ä¿¡æ¯</p>\n</li>\n<li>\n<p><strong>FastText</strong>: è€ƒè™‘å­è¯ä¿¡æ¯ï¼Œèƒ½å¤Ÿå¤„ç†æœªè§è¿‡çš„è¯</p>\n</li>\n</ol>\n<p><strong>å…³é”®ç‰¹æ€§ï¼š</strong></p>\n<ul>\n<li>å‘é‡ç»´åº¦é€šå¸¸ä¸º 100-1000ï¼Œè¿œå°äºè¯æ±‡è¡¨å¤§å°</li>\n<li>è¯­ä¹‰ç›¸ä¼¼çš„è¯åœ¨å‘é‡ç©ºé—´ä¸­è·ç¦»è¾ƒè¿‘</li>\n<li>æ”¯æŒå‘é‡è¿ç®—ï¼šking - man + woman â‰ˆ queen</li>\n<li>èƒ½å¤Ÿæ•è·å¤šç§è¯­ä¹‰å…³ç³»ï¼ˆåŒä¹‰è¯ã€åä¹‰è¯ã€è¯æ€§ç­‰ï¼‰</li>\n</ul>\n</div></details>\n<h2 id=\"åºåˆ—å¤„ç†çš„å¤šæ ·åŒ–éœ€æ±‚\"><a class=\"anchor\" href=\"#åºåˆ—å¤„ç†çš„å¤šæ ·åŒ–éœ€æ±‚\">#</a> åºåˆ—å¤„ç†çš„å¤šæ ·åŒ–éœ€æ±‚</h2>\n<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é¢ä¸´ç€å„ç§ä¸åŒç±»å‹çš„åºåˆ—æ•°æ®å¤„ç†éœ€æ±‚ã€‚<ins class=\"dot\">è¾“å…¥ä¼šæ˜¯ä¸€ç»„å‘é‡</ins>ï¼Œè¿™äº›å‘é‡å¯ä»¥è¡¨ç¤ºï¼š</p>\n<ul>\n<li><strong>æ–‡æœ¬åºåˆ—</strong>ï¼šå¥å­ä¸­çš„è¯åµŒå…¥å‘é‡</li>\n<li><strong>è¯­éŸ³ä¿¡å·</strong>ï¼šå£°éŸ³çš„ç‰¹å¾å‘é‡åºåˆ—</li>\n<li><strong>å›¾åƒåºåˆ—</strong>ï¼šè§†é¢‘å¸§æˆ–å›¾åƒ patch çš„ç‰¹å¾å‘é‡</li>\n</ul>\n<p>æ ¹æ®ä»»åŠ¡éœ€æ±‚çš„ä¸åŒï¼Œ<ins class=\"dot\">è¾“å‡ºçš„å¯èƒ½æ€§</ins>ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼š</p>\n<div class=\"tab\" data-id=\"type1\" data-title=\"åºåˆ—åˆ°åºåˆ— (Seq2Seq)\">\n<p><strong>è¾“å…¥è¾“å‡ºæ•°é‡ä¸€æ ·</strong></p>\n<ul>\n<li>å…¸å‹åº”ç”¨ï¼šè¯æ€§æ ‡æ³¨ã€å‘½åå®ä½“è¯†åˆ«</li>\n<li>æ¯ä¸ªè¾“å…¥ä½ç½®å¯¹åº”ä¸€ä¸ªè¾“å‡ºæ ‡ç­¾</li>\n<li>æ¨¡å‹éœ€è¦ä¸ºæ¯ä¸ªæ—¶é—´æ­¥äº§ç”Ÿé¢„æµ‹ç»“æœ</li>\n</ul>\n</div>\n<div class=\"tab\" data-id=\"type2\" data-title=\"åºåˆ—åˆ°æ ‡é‡ (Seq2Label)\">\n<p><strong>ä¸€å †å‘é‡è¾“å…¥åªéœ€è¦ä¸€ä¸ªè¾“å‡º</strong></p>\n<ul>\n<li>å…¸å‹åº”ç”¨ï¼šæƒ…æ„Ÿåˆ†æã€æ–‡æœ¬åˆ†ç±»</li>\n<li>æ•´ä¸ªåºåˆ—æ˜ å°„åˆ°å•ä¸€çš„ç±»åˆ«æˆ–æ•°å€¼</li>\n<li>éœ€è¦èšåˆæ•´ä¸ªåºåˆ—çš„ä¿¡æ¯</li>\n</ul>\n</div>\n<div class=\"tab\" data-id=\"type3\" data-title=\"åºåˆ—åˆ°å˜é•¿åºåˆ— (Seq2VarSeq)\">\n<p><strong>ä¸€å †å‘é‡è¾“å…¥ï¼Œä¸ç¡®å®šè¾“å‡ºçš„æ•°é‡</strong></p>\n<ul>\n<li>å…¸å‹åº”ç”¨ï¼šæœºå™¨ç¿»è¯‘ã€æ–‡æœ¬æ‘˜è¦</li>\n<li>è¾“å‡ºé•¿åº¦ä¸å›ºå®šï¼Œç”±æ¨¡å‹å†³å®š</li>\n<li>éœ€è¦å­¦ä¹ ä½•æ—¶åœæ­¢ç”Ÿæˆ</li>\n</ul>\n</div>\n<h2 id=\"ä»å±€éƒ¨æ„ŸçŸ¥åˆ°å…¨å±€ç†è§£\"><a class=\"anchor\" href=\"#ä»å±€éƒ¨æ„ŸçŸ¥åˆ°å…¨å±€ç†è§£\">#</a> ä»å±€éƒ¨æ„ŸçŸ¥åˆ°å…¨å±€ç†è§£</h2>\n<h3 id=\"ä¼ ç»Ÿæ–¹æ³•çš„å›°å¢ƒ\"><a class=\"anchor\" href=\"#ä¼ ç»Ÿæ–¹æ³•çš„å›°å¢ƒ\">#</a> ä¼ ç»Ÿæ–¹æ³•çš„å›°å¢ƒ</h3>\n<p>åœ¨è‡ªæ³¨æ„åŠ›æœºåˆ¶å‡ºç°ä¹‹å‰ï¼Œå¤„ç†åºåˆ—æ ‡æ³¨ä»»åŠ¡æœ€å¸¸è§çš„æ–¹æ³•æ˜¯<ins class=\"dot\"> sequence labeling</ins>ï¼Œå³å¼€è®¾ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼ŒåŒæ—¶è€ƒè™‘é‚»è¿‘çš„å‡ ä¸ªè¯è¾“å…¥åˆ°å…¨è¿æ¥å±‚ä¸­è¿›è¡Œé¢„æµ‹ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>æ»‘åŠ¨çª—å£åºåˆ—æ ‡æ³¨ç¤ºä¾‹</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">sliding_window_predict</span>(<span class=\"params\">sequence, window_size=<span class=\"number\">3</span></span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;ä¼ ç»Ÿæ»‘åŠ¨çª—å£æ–¹æ³•&quot;&quot;&quot;</span></span><br><span class=\"line\">    predictions = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(sequence)):</span><br><span class=\"line\">        <span class=\"comment\"># è·å–çª—å£å†…çš„è¯å‘é‡</span></span><br><span class=\"line\">        start = <span class=\"built_in\">max</span>(<span class=\"number\">0</span>, i - window_size // <span class=\"number\">2</span>)</span><br><span class=\"line\">        end = <span class=\"built_in\">min</span>(<span class=\"built_in\">len</span>(sequence), i + window_size // <span class=\"number\">2</span> + <span class=\"number\">1</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        window_vectors = sequence[start:end]</span><br><span class=\"line\">        <span class=\"comment\"># æ‹¼æ¥çª—å£å†…å‘é‡ä½œä¸ºç‰¹å¾</span></span><br><span class=\"line\">        features = concatenate(window_vectors)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># é€šè¿‡å…¨è¿æ¥å±‚é¢„æµ‹</span></span><br><span class=\"line\">        prediction = fully_connected_layer(features)</span><br><span class=\"line\">        predictions.append(prediction)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> predictions</span><br></pre></td></tr></table></figure>\n<div class=\"note danger no-icon\">\n<p>æ»‘åŠ¨çª—å£æ–¹æ³•çš„æ ¸å¿ƒç¼ºé™·ï¼š<strong>é•¿åº¦é™åˆ¶ä¸èƒ½ä¿è¯å¯ä»¥æŠŠä¸€æ•´ä¸ªå¥å­è¦†ç›–</strong>ï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•è·å¾—è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯æ¥åšå‡ºå‡†ç¡®é¢„æµ‹ã€‚</p>\n</div>\n<p>è€ƒè™‘å¥å­ï¼š&quot;è¿™éƒ¨ç”µå½±çš„å‰§æƒ…å¾ˆå¤æ‚ï¼Œä½†æ˜¯æ¼”å‘˜çš„è¡¨æ¼”éå¸¸å‡ºè‰²ï¼Œæ€»ä½“æ¥è¯´è¿˜æ˜¯å€¼å¾—æ¨èçš„ã€‚&quot; å¦‚æœæˆ‘ä»¬è¦åˆ¤æ–­ &quot;æ¨è&quot; è¿™ä¸ªè¯çš„æƒ…æ„Ÿå€¾å‘ï¼Œä»…ä»…çœ‹å…¶å‘¨å›´å‡ ä¸ªè¯æ˜¯ä¸å¤Ÿçš„ï¼Œéœ€è¦ç†è§£æ•´ä¸ªå¥å­çš„è¯­ä¹‰ã€‚</p>\n<h3 id=\"è‡ªæ³¨æ„åŠ›çš„çªç ´æ€§æ€è·¯\"><a class=\"anchor\" href=\"#è‡ªæ³¨æ„åŠ›çš„çªç ´æ€§æ€è·¯\">#</a> è‡ªæ³¨æ„åŠ›çš„çªç ´æ€§æ€è·¯</h3>\n<p><ins class=\"dot\">é€šè¿‡è‡ªæ³¨æ„åŠ›æ¥è€ƒè™‘ä¸€æ•´ä¸ªå¥å­</ins>ï¼Œè¿™ä¸€æ€è·¯å½»åº•æ”¹å˜äº†åºåˆ—å»ºæ¨¡çš„èŒƒå¼ã€‚è‡ªæ³¨æ„åŠ›æœºåˆ¶èƒ½å¤Ÿï¼š</p>\n<ol>\n<li><strong>å…¨å±€æ„ŸçŸ¥</strong>ï¼šæ¯ä¸ªä½ç½®éƒ½èƒ½ &quot;çœ‹åˆ°&quot; åºåˆ—ä¸­çš„æ‰€æœ‰å…¶ä»–ä½ç½®</li>\n<li><strong>åŠ¨æ€åŠ æƒ</strong>ï¼šæ ¹æ®å†…å®¹è‡ªåŠ¨å†³å®šå…³æ³¨ç¨‹åº¦</li>\n<li><strong>å¹¶è¡Œè®¡ç®—</strong>ï¼šä¸ä¾èµ–äºé€’å½’ç»“æ„ï¼Œå¯ä»¥é«˜æ•ˆå¹¶è¡Œ</li>\n</ol>\n<h2 id=\"è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„æ•°å­¦åŸç†\"><a class=\"anchor\" href=\"#è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„æ•°å­¦åŸç†\">#</a> è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„æ•°å­¦åŸç†</h2>\n<h3 id=\"æ ¸å¿ƒè®¡ç®—æµç¨‹\"><a class=\"anchor\" href=\"#æ ¸å¿ƒè®¡ç®—æµç¨‹\">#</a> æ ¸å¿ƒè®¡ç®—æµç¨‹</h3>\n<p>å‡è®¾æˆ‘ä»¬æœ‰è¾“å…¥åºåˆ— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>4</mn></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1, a^2, a^3, a^4\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>ï¼Œè‡ªæ³¨æ„åŠ›çš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>\n<p><strong>ç¬¬ä¸€æ­¥ï¼šè®¡ç®—æŸ¥è¯¢ã€é”®ã€å€¼å‘é‡</strong></p>\n<p>å¯¹äºæ¯ä¸ªè¾“å…¥å‘é‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">a^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span>ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‰ä¸ªä¸åŒçš„çº¿æ€§å˜æ¢å¾—åˆ°ï¼š</p>\n<ul>\n<li>æŸ¥è¯¢å‘é‡ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>q</mi><mi>i</mi></msup><mo>=</mo><msup><mi>W</mi><mi>q</mi></msup><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">q^i = W^q a^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.019104em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span></li>\n<li>é”®å‘é‡ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>k</mi><mi>i</mi></msup><mo>=</mo><msup><mi>W</mi><mi>k</mi></msup><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">k^i = W^k a^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.849108em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span></li>\n<li>å€¼å‘é‡ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>v</mi><mi>i</mi></msup><mo>=</mo><msup><mi>W</mi><mi>v</mi></msup><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding=\"application/x-tex\">v^i = W^v a^i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n<p>å…·ä½“åœ°ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>q</mi><mn>1</mn></msup><mo>=</mo><msup><mi>W</mi><mi>q</mi></msup><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>k</mi><mn>1</mn></msup><mo>=</mo><msup><mi>W</mi><mi>k</mi></msup><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>v</mi><mn>1</mn></msup><mo>=</mo><msup><mi>W</mi><mi>v</mi></msup><msup><mi>a</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">q^1 = W^q a^1, \\quad k^1 = W^k a^1, \\quad v^1 = W^v a^1\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.714392em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.093548em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8991079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>q</mi><mn>2</mn></msup><mo>=</mo><msup><mi>W</mi><mi>q</mi></msup><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>k</mi><mn>2</mn></msup><mo>=</mo><msup><mi>W</mi><mi>k</mi></msup><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>v</mi><mn>2</mn></msup><mo>=</mo><msup><mi>W</mi><mi>v</mi></msup><msup><mi>a</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">q^2 = W^q a^2, \\quad k^2 = W^k a^2, \\quad v^2 = W^v a^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.714392em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.093548em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8991079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>q</mi><mn>3</mn></msup><mo>=</mo><msup><mi>W</mi><mi>q</mi></msup><msup><mi>a</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>k</mi><mn>3</mn></msup><mo>=</mo><msup><mi>W</mi><mi>k</mi></msup><msup><mi>a</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>v</mi><mn>3</mn></msup><mo>=</mo><msup><mi>W</mi><mi>v</mi></msup><msup><mi>a</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">q^3 = W^q a^3, \\quad k^3 = W^k a^3, \\quad v^3 = W^v a^3\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.714392em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.093548em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8991079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>q</mi><mn>4</mn></msup><mo>=</mo><msup><mi>W</mi><mi>q</mi></msup><msup><mi>a</mi><mn>4</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>k</mi><mn>4</mn></msup><mo>=</mo><msup><mi>W</mi><mi>k</mi></msup><msup><mi>a</mi><mn>4</mn></msup><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msup><mi>v</mi><mn>4</mn></msup><mo>=</mo><msup><mi>W</mi><mi>v</mi></msup><msup><mi>a</mi><mn>4</mn></msup></mrow><annotation encoding=\"application/x-tex\">q^4 = W^q a^4, \\quad k^4 = W^k a^4, \\quad v^4 = W^v a^4\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.714392em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.093548em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8991079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ç¬¬äºŒæ­¥ï¼šè®¡ç®—æ³¨æ„åŠ›æƒé‡</strong></p>\n<p><ins class=\"dot\">è·å¾—ä¸¤ä¸ªå‘é‡å…³è”åº¦çš„æ–¹æ³•</ins>ä¸»è¦æœ‰ä¸¤ç§ï¼š</p>\n<div class=\"tab\" data-id=\"method1\" data-title=\"ç‚¹ç§¯æ³¨æ„åŠ› (Dot-Product)\">\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo>=</mo><msup><mi>q</mi><mi>i</mi></msup><mo>â‹…</mo><msup><mi>k</mi><mi>j</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha_{i,j} = q^i \\cdot k^j\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0691039999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8746639999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.874664em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.874664em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>è®¡ç®—ç®€å•ï¼Œæ•ˆç‡é«˜ï¼Œæ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•</p>\n</div>\n<div class=\"tab\" data-id=\"method2\" data-title=\"åŠ æ€§æ³¨æ„åŠ› (Additive)\">\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo>=</mo><msup><mi>v</mi><mi>T</mi></msup><mi>tanh</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><msub><mi>W</mi><mn>1</mn></msub><msup><mi>q</mi><mi>i</mi></msup><mo>+</mo><msub><mi>W</mi><mn>2</mn></msub><msup><mi>k</mi><mi>j</mi></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\alpha_{i,j} = v^T \\tanh(W_1 q^i + W_2 k^j)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">tanh</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8746639999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.124664em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.874664em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å‚æ•°æ›´å¤šï¼Œè¡¨è¾¾èƒ½åŠ›æ›´å¼ºï¼Œä½†è®¡ç®—å¤æ‚åº¦æ›´é«˜</p>\n</div>\n<details class=\"info\"><summary>æ³¨æ„åŠ›è®¡ç®—æ–¹æ³•å¯¹æ¯”</summary><div>\n<p><strong>ç‚¹ç§¯æ³¨æ„åŠ› (Dot-Product Attention)</strong></p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šè®¡ç®—æ•ˆç‡é«˜ï¼Œå‚æ•°å°‘ï¼Œæ˜“äºå¹¶è¡ŒåŒ–</li>\n<li>ç¼ºç‚¹ï¼šå½“å‘é‡ç»´åº¦å¾ˆå¤§æ—¶ï¼Œç‚¹ç§¯å€¼å¯èƒ½è¿‡å¤§å¯¼è‡´æ¢¯åº¦æ¶ˆå¤±</li>\n<li>æ”¹è¿›ï¼šscaled dot-productï¼Œé™¤ä»¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sqrt{d_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.18278000000000005em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.85722em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.81722em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18278000000000005em;\"><span></span></span></span></span></span></span></span></span> è¿›è¡Œç¼©æ”¾</li>\n</ul>\n<p><strong>åŠ æ€§æ³¨æ„åŠ› (Additive Attention)</strong></p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šè¡¨è¾¾èƒ½åŠ›å¼ºï¼Œä¸å—å‘é‡ç»´åº¦å½±å“</li>\n<li>ç¼ºç‚¹ï¼šå‚æ•°å¤šï¼Œè®¡ç®—å¤æ‚åº¦é«˜</li>\n<li>é€‚ç”¨åœºæ™¯ï¼šå‘é‡ç»´åº¦è¾ƒå¤§æˆ–éœ€è¦æ›´å¼ºè¡¨è¾¾èƒ½åŠ›æ—¶</li>\n</ul>\n<p>å®é™…åº”ç”¨ä¸­ï¼Œscaled dot-product å› å…¶æ•ˆç‡ä¼˜åŠ¿è¢«å¹¿æ³›é‡‡ç”¨ã€‚</p>\n</div></details>\n<p>ä»¥ç¬¬ä¸€ä¸ªä½ç½®ä¸ºä¾‹ï¼Œè®¡ç®—ä¸æ‰€æœ‰ä½ç½®çš„å…³è”åº¦ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo>=</mo><msup><mi>q</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>k</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha_{1,1} = q^1 \\cdot k^1\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn></mrow></msub><mo>=</mo><msup><mi>q</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>k</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha_{1,2} = q^1 \\cdot k^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>3</mn></mrow></msub><mo>=</mo><msup><mi>q</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>k</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha_{1,3} = q^1 \\cdot k^3\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>4</mn></mrow></msub><mo>=</mo><msup><mi>q</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>k</mi><mn>4</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha_{1,4} = q^1 \\cdot k^4\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0585479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ç¬¬ä¸‰æ­¥ï¼šå½’ä¸€åŒ–æ³¨æ„åŠ›æƒé‡</strong></p>\n<p>ä½¿ç”¨ softmax å‡½æ•°å¯¹æ³¨æ„åŠ›æƒé‡è¿›è¡Œå½’ä¸€åŒ–ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><mo separator=\"true\">,</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><mo separator=\"true\">,</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>3</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><mo separator=\"true\">,</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>4</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><mo>=</mo><mtext>softmax</mtext><mo stretchy=\"false\">(</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo separator=\"true\">,</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn></mrow></msub><mo separator=\"true\">,</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>3</mn></mrow></msub><mo separator=\"true\">,</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>4</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\alpha&#x27;_{1,1}, \\alpha&#x27;_{1,2}, \\alpha&#x27;_{1,3}, \\alpha&#x27;_{1,4} = \\text{softmax}(\\alpha_{1,1}, \\alpha_{1,2}, \\alpha_{1,3}, \\alpha_{1,4})\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.185em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">3</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p><strong>ç¬¬å››æ­¥ï¼šè®¡ç®—è¾“å‡ºå‘é‡</strong></p>\n<p>æœ€ç»ˆçš„è¾“å‡ºå‘é‡æ˜¯æ‰€æœ‰å€¼å‘é‡çš„åŠ æƒç»„åˆï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>b</mi><mn>1</mn></msup><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>4</mn></munderover><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mi>i</mi></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><msup><mi>v</mi><mi>i</mi></msup><mo>=</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><msup><mi>v</mi><mn>1</mn></msup><mo>+</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><msup><mi>v</mi><mn>2</mn></msup><mo>+</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>3</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><msup><mi>v</mi><mn>3</mn></msup><mo>+</mo><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>4</mn></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><msup><mi>v</mi><mn>4</mn></msup></mrow><annotation encoding=\"application/x-tex\">b^1 = \\sum_{i=1}^{4} \\alpha&#x27;_{1,i} v^i = \\alpha&#x27;_{1,1} v^1 + \\alpha&#x27;_{1,2} v^2 + \\alpha&#x27;_{1,3} v^3 + \\alpha&#x27;_{1,4} v^4\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.0787820000000004em;vertical-align:-1.277669em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8011130000000004em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8746639999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2472159999999999em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2472159999999999em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2472159999999999em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">3</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2472159999999999em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h3 id=\"çŸ©é˜µåŒ–è¡¨ç¤º\"><a class=\"anchor\" href=\"#çŸ©é˜µåŒ–è¡¨ç¤º\">#</a> çŸ©é˜µåŒ–è¡¨ç¤º</h3>\n<p>ä¸ºäº†æé«˜è®¡ç®—æ•ˆç‡ï¼Œæˆ‘ä»¬å°†ä¸Šè¿°è¿‡ç¨‹ç”¨çŸ©é˜µå½¢å¼è¡¨ç¤ºï¼š</p>\n<p>è®¾è¾“å…¥çŸ©é˜µï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>4</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">I = [a^1, a^2, a^3, a^4]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></p>\n<p>è®¡ç®—æŸ¥è¯¢ã€é”®ã€å€¼çŸ©é˜µï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Q</mi><mo>=</mo><msup><mi>W</mi><mi>q</mi></msup><mi>I</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>q</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>q</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>q</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><msup><mi>q</mi><mn>4</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">Q = W^q I = [q^1, q^2, q^3, q^4]\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.714392em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.714392em;\"><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>K</mi><mo>=</mo><msup><mi>W</mi><mi>k</mi></msup><mi>I</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>k</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>k</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>k</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><msup><mi>k</mi><mn>4</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">K = W^k I = [k^1, k^2, k^3, k^4]\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8991079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8991079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>V</mi><mo>=</mo><msup><mi>W</mi><mi>v</mi></msup><mi>I</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>v</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>v</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>v</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><msup><mi>v</mi><mn>4</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">V = W^v I = [v^1, v^2, v^3, v^4]\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7143919999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span></p>\n<p>æ³¨æ„åŠ›æƒé‡çŸ©é˜µï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mo>=</mo><msup><mi>K</mi><mi>T</mi></msup><mi>Q</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><mtable rowspacing=\"0.15999999999999992em\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>1</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>2</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>3</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>1</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>4</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>2</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>1</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>2</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>2</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>2</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>3</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>2</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>4</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>3</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>1</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>3</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>2</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>3</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>3</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>3</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>4</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>4</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>1</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>4</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>2</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>4</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>3</mn></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msup><mi>k</mi><mn>4</mn></msup><mo>â‹…</mo><msup><mi>q</mi><mn>4</mn></msup></mrow></mstyle></mtd></mtr></mtable><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">A = K^T Q = \\begin{pmatrix}\nk^1 \\cdot q^1 &amp; k^1 \\cdot q^2 &amp; k^1 \\cdot q^3 &amp; k^1 \\cdot q^4 \\\\\nk^2 \\cdot q^1 &amp; k^2 \\cdot q^2 &amp; k^2 \\cdot q^3 &amp; k^2 \\cdot q^4 \\\\\nk^3 \\cdot q^1 &amp; k^3 \\cdot q^2 &amp; k^3 \\cdot q^3 &amp; k^3 \\cdot q^4 \\\\\nk^4 \\cdot q^1 &amp; k^4 \\cdot q^2 &amp; k^4 \\cdot q^3 &amp; k^4 \\cdot q^4\n\\end{pmatrix}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0857709999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:4.80006em;vertical-align:-2.15003em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.6500299999999997em;\"><span style=\"top:-1.6499900000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â</span></span></span><span style=\"top:-2.8000000000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>âœ</span></span></span><span style=\"top:-3.39501em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>âœ</span></span></span><span style=\"top:-3.41001em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>âœ</span></span></span><span style=\"top:-4.65003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â›</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.15003em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.6500000000000004em;\"><span style=\"top:-4.8100000000000005em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.4099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span><span style=\"top:-1.2099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.1500000000000004em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.6500000000000004em;\"><span style=\"top:-4.8100000000000005em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.4099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-1.2099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.1500000000000004em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.6500000000000004em;\"><span style=\"top:-4.8100000000000005em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.4099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span><span style=\"top:-1.2099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.1500000000000004em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.6500000000000004em;\"><span style=\"top:-4.8100000000000005em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.4099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span><span style=\"top:-1.2099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.1500000000000004em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.6500299999999997em;\"><span style=\"top:-1.6499900000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â </span></span></span><span style=\"top:-2.8000000000000003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>âŸ</span></span></span><span style=\"top:-3.39501em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>âŸ</span></span></span><span style=\"top:-3.41001em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>âŸ</span></span></span><span style=\"top:-4.65003em;\"><span class=\"pstrut\" style=\"height:3.1550000000000002em;\"></span><span class=\"delimsizinginner delim-size4\"><span>â</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.15003em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å½’ä¸€åŒ–åçš„æ³¨æ„åŠ›çŸ©é˜µï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>A</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>=</mo><mtext>softmax</mtext><mo stretchy=\"false\">(</mo><mi>A</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A&#x27; = \\text{softmax}(A)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.801892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>æœ€ç»ˆè¾“å‡ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>O</mi><mo>=</mo><mi>V</mi><msup><mi>A</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>b</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>b</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>b</mi><mn>3</mn></msup><mo separator=\"true\">,</mo><msup><mi>b</mi><mn>4</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">O = V A&#x27; = [b^1, b^2, b^3, b^4]\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.801892em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span></p>\n<div class=\"note success no-icon\">\n<p>è¿™ç§çŸ©é˜µåŒ–è¡¨ç¤ºä½¿å¾—è‡ªæ³¨æ„åŠ›è®¡ç®—å¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œå¹¶è¡ŒåŒ–å¤„ç†ï¼Œè¿™æ˜¯å…¶ç›¸æ¯” RNN çš„é‡è¦ä¼˜åŠ¿ä¹‹ä¸€ã€‚</p>\n</div>\n<h2 id=\"å¤šå¤´æ³¨æ„åŠ›å¢å¼ºè¡¨è¾¾èƒ½åŠ›\"><a class=\"anchor\" href=\"#å¤šå¤´æ³¨æ„åŠ›å¢å¼ºè¡¨è¾¾èƒ½åŠ›\">#</a> å¤šå¤´æ³¨æ„åŠ›ï¼šå¢å¼ºè¡¨è¾¾èƒ½åŠ›</h2>\n<p>å•ä¸€çš„æ³¨æ„åŠ›å¤´å¯èƒ½æ— æ³•æ•è·åºåˆ—ä¸­çš„æ‰€æœ‰é‡è¦å…³ç³»ã€‚<ins class=\"dot\">Multi-head self-attention</ins> é€šè¿‡ä½¿ç”¨å¤šä¸ªä¸åŒçš„æ³¨æ„åŠ›å¤´æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>\n<details class=\"warning\"><summary>Multi-Head Attentionè¯¦ç»†æœºåˆ¶</summary><div>\n<p>å¤šå¤´æ³¨æ„åŠ›çš„æ ¸å¿ƒæ€æƒ³æ˜¯è®©æ¨¡å‹èƒ½å¤Ÿä»å¤šä¸ªä¸åŒçš„è¡¨ç¤ºå­ç©ºé—´ä¸­å­¦ä¹ ä¿¡æ¯ã€‚</p>\n<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>\n<ol>\n<li><strong>å¤šç»„å‚æ•°çŸ©é˜µ</strong>ï¼šä¸ºæ¯ä¸ªå¤´å‡†å¤‡ç‹¬ç«‹çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>W</mi><mi>i</mi><mi>q</mi></msubsup><mo separator=\"true\">,</mo><msubsup><mi>W</mi><mi>i</mi><mi>k</mi></msubsup><mo separator=\"true\">,</mo><msubsup><mi>W</mi><mi>i</mi><mi>v</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">W^q_i, W^k_i, W^v_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.125972em;vertical-align:-0.276864em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7823em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.1809080000000005em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-2.441336em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-2.441336em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span></li>\n<li><strong>å¹¶è¡Œè®¡ç®—</strong>ï¼šæ¯ä¸ªå¤´ç‹¬ç«‹è®¡ç®—è‡ªæ³¨æ„åŠ›</li>\n<li><strong>ç»“æœæ‹¼æ¥</strong>ï¼šå°†æ‰€æœ‰å¤´çš„è¾“å‡ºæ‹¼æ¥èµ·æ¥</li>\n<li><strong>çº¿æ€§å˜æ¢</strong>ï¼šé€šè¿‡è¾“å‡ºæŠ•å½±çŸ©é˜µè¿›è¡Œæœ€ç»ˆå˜æ¢</li>\n</ol>\n<p><strong>æ•°å­¦è¡¨ç¤ºï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mtext>head</mtext><mi>i</mi></msub><mo>=</mo><mtext>Attention</mtext><mo stretchy=\"false\">(</mo><mi>Q</mi><msubsup><mi>W</mi><mi>i</mi><mi>q</mi></msubsup><mo separator=\"true\">,</mo><mi>K</mi><msubsup><mi>W</mi><mi>i</mi><mi>k</mi></msubsup><mo separator=\"true\">,</mo><mi>V</mi><msubsup><mi>W</mi><mi>i</mi><mi>v</mi></msubsup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\text{head}_i = \\text{Attention}(QW^q_i, KW^k_i, VW^v_i)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">head</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1759719999999998em;vertical-align:-0.276864em;\"></span><span class=\"mord text\"><span class=\"mord\">Attention</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7822999999999999em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.180908em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8991079999999998em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MultiHead</mtext><mo stretchy=\"false\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>K</mi><mo separator=\"true\">,</mo><mi>V</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mtext>Concat</mtext><mo stretchy=\"false\">(</mo><msub><mtext>head</mtext><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mtext>head</mtext><mi>h</mi></msub><mo stretchy=\"false\">)</mo><msup><mi>W</mi><mi>O</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\text{MultiHead}(Q,K,V) = \\text{Concat}(\\text{head}_1, ..., \\text{head}_h)W^O\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MultiHead</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">Concat</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">head</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">head</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">h</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">O</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ä¼˜åŠ¿åˆ†æï¼š</strong></p>\n<ul>\n<li>ä¸åŒçš„å¤´å¯ä»¥å…³æ³¨ä¸åŒç±»å‹çš„å…³ç³»ï¼ˆè¯­æ³•ã€è¯­ä¹‰ç­‰ï¼‰</li>\n<li>å¢åŠ æ¨¡å‹å®¹é‡è€Œä¸æ˜¾è‘—å¢åŠ è®¡ç®—å¤æ‚åº¦</li>\n<li>æä¾›æ›´ä¸°å¯Œçš„ç‰¹å¾è¡¨ç¤º</li>\n</ul>\n</div></details>\n<figure class=\"highlight python\"><figcaption><span>å¤šå¤´æ³¨æ„åŠ›å®ç°æ¡†æ¶</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MultiHeadAttention</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, d_model, num_heads</span>):</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.num_heads = num_heads</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.d_k = d_model // num_heads</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># æ¯ä¸ªå¤´çš„å‚æ•°çŸ©é˜µ</span></span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.W_q = [LinearLayer(d_model, <span class=\"variable language_\">self</span>.d_k) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_heads)]</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.W_k = [LinearLayer(d_model, <span class=\"variable language_\">self</span>.d_k) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_heads)]  </span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.W_v = [LinearLayer(d_model, <span class=\"variable language_\">self</span>.d_k) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_heads)]</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># è¾“å‡ºæŠ•å½±å±‚</span></span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.W_o = LinearLayer(d_model, d_model)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, query, key, value</span>):</span><br><span class=\"line\">        <span class=\"comment\"># å¹¶è¡Œè®¡ç®—æ‰€æœ‰å¤´</span></span><br><span class=\"line\">        attention_heads = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"variable language_\">self</span>.num_heads):</span><br><span class=\"line\">            q_i = <span class=\"variable language_\">self</span>.W_q[i](query)</span><br><span class=\"line\">            k_i = <span class=\"variable language_\">self</span>.W_k[i](key) </span><br><span class=\"line\">            v_i = <span class=\"variable language_\">self</span>.W_v[i](value)</span><br><span class=\"line\">            </span><br><span class=\"line\">            head_i = scaled_dot_product_attention(q_i, k_i, v_i)</span><br><span class=\"line\">            attention_heads.append(head_i)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># æ‹¼æ¥å¹¶æŠ•å½±</span></span><br><span class=\"line\">        concatenated = concatenate(attention_heads)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.W_o(concatenated)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä½ç½®ä¿¡æ¯çš„é‡è¦æ€§\"><a class=\"anchor\" href=\"#ä½ç½®ä¿¡æ¯çš„é‡è¦æ€§\">#</a> ä½ç½®ä¿¡æ¯çš„é‡è¦æ€§</h2>\n<h3 id=\"ä½ç½®ç¼–ç çš„å¿…è¦æ€§\"><a class=\"anchor\" href=\"#ä½ç½®ç¼–ç çš„å¿…è¦æ€§\">#</a> ä½ç½®ç¼–ç çš„å¿…è¦æ€§</h3>\n<p>è‡ªæ³¨æ„åŠ›æœºåˆ¶æœ¬èº«æ˜¯ä½ç½®æ— å…³çš„ï¼Œå³è°ƒæ¢è¾“å…¥åºåˆ—çš„é¡ºåºä¸ä¼šå½±å“æ³¨æ„åŠ›æƒé‡çš„è®¡ç®—ã€‚ä½†åœ¨å®é™…çš„åºåˆ—ä»»åŠ¡ä¸­ï¼Œä½ç½®ä¿¡æ¯æ˜¯è‡³å…³é‡è¦çš„ã€‚</p>\n<div class=\"note info no-icon\">\n<p>&quot;æˆ‘çˆ±ä½ &quot; å’Œ &quot;ä½ çˆ±æˆ‘&quot; è™½ç„¶åŒ…å«ç›¸åŒçš„è¯ï¼Œä½†å«ä¹‰å®Œå…¨ä¸åŒã€‚è¿™è¯´æ˜è¯è¯­çš„ä½ç½®ä¿¡æ¯å¯¹äºç†è§£å¥å­å«ä¹‰æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>\n</div>\n<p><ins class=\"dot\">Positional encoding</ins> çš„ä½œç”¨æ˜¯ä¸ºæ¨¡å‹æä¾›åºåˆ—ä¸­æ¯ä¸ªä½ç½®çš„ä¿¡æ¯ã€‚æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯åœ¨è¾“å…¥å‘é‡ä¸­åŠ å…¥ä½ç½®ç¼–ç ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>input</mtext><mo>=</mo><msub><mi>e</mi><mi>i</mi></msub><mo>+</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\text{input} = e_i + a_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8623000000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">input</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">e_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ä½ç½®ç¼–ç å‘é‡ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯åŸå§‹è¾“å…¥å‘é‡ã€‚</p>\n<details class=\"primary\"><summary>ä½ç½®ç¼–ç æ–¹æ³•è¯¦è§£</summary><div>\n<p><strong>1. æ­£å¼¦ä½™å¼¦ä½ç½®ç¼–ç ï¼ˆSinusoidal Positional Encodingï¼‰</strong></p>\n<p>è¿™æ˜¯ Transformer åŸè®ºæ–‡ä¸­æå‡ºçš„æ–¹æ³•ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>P</mi><msub><mi>E</mi><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mi>o</mi><mi>s</mi><mo separator=\"true\">,</mo><mn>2</mn><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msub><mo>=</mo><mi>sin</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><mrow><mn>1000</mn><msup><mn>0</mn><mrow><mn>2</mn><mi>i</mi><mi mathvariant=\"normal\">/</mi><msub><mi>d</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub></mrow></msup></mrow></mfrac><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">PE_{(pos,2i)} = \\sin\\left(\\frac{pos}{10000^{2i/d_{model}}}\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.03853em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.8539999999999999em;vertical-align:-0.704em;\"></span><span class=\"mop\">sin</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1075599999999999em;\"><span style=\"top:-2.2960000000000003em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.814em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15122857142857138em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">s</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.704em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>P</mi><msub><mi>E</mi><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mi>o</mi><mi>s</mi><mo separator=\"true\">,</mo><mn>2</mn><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msub><mo>=</mo><mi>cos</mi><mo>â¡</mo><mrow><mo fence=\"true\">(</mo><mfrac><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><mrow><mn>1000</mn><msup><mn>0</mn><mrow><mn>2</mn><mi>i</mi><mi mathvariant=\"normal\">/</mi><msub><mi>d</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub></mrow></msup></mrow></mfrac><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">PE_{(pos,2i+1)} = \\cos\\left(\\frac{pos}{10000^{2i/d_{model}}}\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.03853em;vertical-align:-0.3551999999999999em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34480000000000005em;\"><span style=\"top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3551999999999999em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.8539999999999999em;vertical-align:-0.704em;\"></span><span class=\"mop\">cos</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1075599999999999em;\"><span style=\"top:-2.2960000000000003em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.814em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mtight\">/</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15122857142857138em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">s</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.704em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">pos</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">s</span></span></span></span> æ˜¯ä½ç½®ç´¢å¼•</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> æ˜¯ç»´åº¦ç´¢å¼•</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">d_{model}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯æ¨¡å‹ç»´åº¦</li>\n</ul>\n<p><strong>ä¼˜ç‚¹ï¼š</strong></p>\n<ul>\n<li>æ— éœ€è®­ç»ƒå‚æ•°</li>\n<li>å¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„åºåˆ—</li>\n<li>å…·æœ‰è‰¯å¥½çš„å¤–æ¨æ€§</li>\n</ul>\n<p><strong>2. å¯å­¦ä¹ ä½ç½®ç¼–ç ï¼ˆLearnable Positional Encodingï¼‰</strong></p>\n<p>ç›´æ¥å­¦ä¹ æ¯ä¸ªä½ç½®çš„ç¼–ç å‘é‡ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>P</mi><msub><mi>E</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow></msub><mo>=</mo><mtext>Embedding</mtext><mo stretchy=\"false\">(</mo><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">PE_{pos} = \\text{Embedding}(pos)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">s</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">Embedding</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p><strong>ä¼˜ç‚¹ï¼š</strong></p>\n<ul>\n<li>å¯ä»¥å­¦ä¹ åˆ°ä»»åŠ¡ç‰¹å®šçš„ä½ç½®è¡¨ç¤º</li>\n<li>çµæ´»æ€§æ›´é«˜</li>\n</ul>\n<p><strong>ç¼ºç‚¹ï¼š</strong></p>\n<ul>\n<li>æ— æ³•å¤„ç†è¶…è¿‡è®­ç»ƒé•¿åº¦çš„åºåˆ—</li>\n<li>éœ€è¦é¢å¤–çš„å‚æ•°</li>\n</ul>\n<p><strong>3. ç›¸å¯¹ä½ç½®ç¼–ç ï¼ˆRelative Positional Encodingï¼‰</strong></p>\n<p>ä¸æ˜¯ç»™æ¯ä¸ªç»å¯¹ä½ç½®ç¼–ç ï¼Œè€Œæ˜¯ç¼–ç ç›¸å¯¹ä½ç½®å…³ç³»ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi>q</mi><mi>i</mi></msub><mo>â‹…</mo><mo stretchy=\"false\">(</mo><msub><mi>k</mi><mi>j</mi></msub><mo>+</mo><msub><mi>r</mi><mrow><mi>i</mi><mo>âˆ’</mo><mi>j</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac></mrow><annotation encoding=\"application/x-tex\">\\alpha_{i,j} = \\frac{q_i \\cdot (k_j + r_{i-j})}{\\sqrt{d_k}}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.357em;vertical-align:-0.93em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.25278em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.85722em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.81722em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.18278000000000005em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.93em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>i</mi><mo>âˆ’</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{i-j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºä½ç½® <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ç¼–ç ã€‚</p>\n</div></details>\n<h2 id=\"rnnä¸è‡ªæ³¨æ„åŠ›çš„å¯¹æ¯”åˆ†æ\"><a class=\"anchor\" href=\"#rnnä¸è‡ªæ³¨æ„åŠ›çš„å¯¹æ¯”åˆ†æ\">#</a> RNN ä¸è‡ªæ³¨æ„åŠ›çš„å¯¹æ¯”åˆ†æ</h2>\n<p>åœ¨è‡ªæ³¨æ„åŠ›æœºåˆ¶æ™®åŠä¹‹å‰ï¼Œ<ins class=\"dot\">RNN</ins>ï¼ˆå¾ªç¯ç¥ç»ç½‘ç»œï¼‰æ˜¯å¤„ç†åºåˆ—æ•°æ®çš„ä¸»æµæ–¹æ³•ã€‚</p>\n<details class=\"info\"><summary>RNNåŸºç¡€æ¦‚å¿µå›é¡¾</summary><div>\n<p>** å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Network, RNNï¼‰** æ˜¯ä¸€ç±»ä¸“é—¨å¤„ç†åºåˆ—æ•°æ®çš„ç¥ç»ç½‘ç»œã€‚å…¶æ ¸å¿ƒç‰¹ç‚¹æ˜¯å…·æœ‰ &quot;è®°å¿†&quot; èƒ½åŠ›ï¼Œèƒ½å¤Ÿåˆ©ç”¨ä¹‹å‰çš„ä¿¡æ¯æ¥å½±å“å½“å‰çš„è¾“å‡ºã€‚</p>\n<p><strong>åŸºæœ¬ç»“æ„ï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>h</mi><mi>t</mi></msub><mo>=</mo><mi>tanh</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><msub><mi>W</mi><mrow><mi>h</mi><mi>h</mi></mrow></msub><msub><mi>h</mi><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>W</mi><mrow><mi>x</mi><mi>h</mi></mrow></msub><msub><mi>x</mi><mi>t</mi></msub><mo>+</mo><msub><mi>b</mi><mi>h</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">h_t = \\tanh(W_{hh}h_{t-1} + W_{xh}x_t + b_h)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">tanh</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">h</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mord mathnormal mtight\">h</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">h</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><msub><mi>W</mi><mrow><mi>h</mi><mi>y</mi></mrow></msub><msub><mi>h</mi><mi>t</mi></msub><mo>+</mo><msub><mi>b</mi><mi>y</mi></msub></mrow><annotation encoding=\"application/x-tex\">y_t = W_{hy}h_t + b_y\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.980548em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.980548em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ä¸»è¦å˜ç§ï¼š</strong></p>\n<ul>\n<li><strong>LSTMï¼ˆé•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼‰</strong>ï¼šé€šè¿‡é—¨æ§æœºåˆ¶è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</li>\n<li><strong>GRUï¼ˆé—¨æ§å¾ªç¯å•å…ƒï¼‰</strong>ï¼šLSTM çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œå‚æ•°æ›´å°‘</li>\n</ul>\n<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>\n<ul>\n<li>è¯­è¨€æ¨¡å‹ã€æœºå™¨ç¿»è¯‘</li>\n<li>è¯­éŸ³è¯†åˆ«ã€æƒ…æ„Ÿåˆ†æ</li>\n<li>æ—¶é—´åºåˆ—é¢„æµ‹</li>\n</ul>\n</div></details>\n<p>ä¸‹é¢æ˜¯ RNN ä¸è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„è¯¦ç»†å¯¹æ¯”ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>ç»´åº¦</th>\n<th>RNN</th>\n<th>Self-Attention</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>è®¡ç®—å¤æ‚åº¦</strong></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo>â‹…</mo><msup><mi>d</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\cdot d^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>â‹…</mo><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2 \\cdot d)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span></td>\n</tr>\n<tr>\n<td><strong>å¹¶è¡ŒåŒ–èƒ½åŠ›</strong></td>\n<td>ä¸²è¡Œè®¡ç®—ï¼Œæ— æ³•å¹¶è¡Œ</td>\n<td>é«˜åº¦å¹¶è¡ŒåŒ–</td>\n</tr>\n<tr>\n<td><strong>é•¿è·ç¦»ä¾èµ–</strong></td>\n<td>æ¢¯åº¦æ¶ˆå¤±ï¼Œéš¾ä»¥å»ºæ¨¡</td>\n<td>ç›´æ¥å»ºæ¨¡ï¼Œæ•ˆæœå¥½</td>\n</tr>\n<tr>\n<td><strong>å†…å­˜éœ€æ±‚</strong></td>\n<td>éœ€è¦å­˜å‚¨æ‰€æœ‰ä¸­é—´çŠ¶æ€</td>\n<td>åªéœ€å­˜å‚¨æ³¨æ„åŠ›çŸ©é˜µ</td>\n</tr>\n<tr>\n<td><strong>ä½ç½®ä¿¡æ¯</strong></td>\n<td>éšå¼ç¼–ç åœ¨çŠ¶æ€ä¸­</td>\n<td>éœ€è¦æ˜¾å¼ä½ç½®ç¼–ç </td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight python\"><figcaption><span>RNNä¸Self-Attentionå¤„ç†æµç¨‹å¯¹æ¯”</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># RNNå¤„ç†æ–¹å¼</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">rnn_process</span>(<span class=\"params\">sequence</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;RNNä¸²è¡Œå¤„ç†åºåˆ—&quot;&quot;&quot;</span></span><br><span class=\"line\">    hidden_state = init_hidden()</span><br><span class=\"line\">    outputs = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> timestep <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(sequence)):</span><br><span class=\"line\">        <span class=\"comment\"># å¿…é¡»æŒ‰é¡ºåºå¤„ç†ï¼Œæ— æ³•å¹¶è¡Œ</span></span><br><span class=\"line\">        hidden_state = rnn_cell(sequence[timestep], hidden_state)</span><br><span class=\"line\">        output = output_layer(hidden_state)</span><br><span class=\"line\">        outputs.append(output)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> outputs</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Self-Attentionå¤„ç†æ–¹å¼  </span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">self_attention_process</span>(<span class=\"params\">sequence</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;Self-Attentionå¹¶è¡Œå¤„ç†åºåˆ—&quot;&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># æ‰€æœ‰ä½ç½®å¯ä»¥åŒæ—¶è®¡ç®—</span></span><br><span class=\"line\">    Q, K, V = compute_qkv(sequence)  <span class=\"comment\"># å¹¶è¡Œè®¡ç®—</span></span><br><span class=\"line\">    attention_weights = compute_attention(Q, K)  <span class=\"comment\"># å¹¶è¡Œè®¡ç®—</span></span><br><span class=\"line\">    outputs = apply_attention(attention_weights, V)  <span class=\"comment\"># å¹¶è¡Œè®¡ç®—</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> outputs</span><br></pre></td></tr></table></figure>\n<div class=\"note warning no-icon\">\n<p>å½“åºåˆ—é•¿åº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> è¾ƒçŸ­æ—¶ï¼Œè‡ªæ³¨æ„åŠ›çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>â‹…</mo><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2 \\cdot d)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span> å¤æ‚åº¦æ˜¯å¯æ¥å—çš„ã€‚ä½†å½“å¤„ç†éå¸¸é•¿çš„åºåˆ—æ—¶ï¼ŒäºŒæ¬¡å¤æ‚åº¦å¯èƒ½æˆä¸ºç“¶é¢ˆï¼Œè¿™ä¹Ÿå‚¬ç”Ÿäº†å„ç§é«˜æ•ˆæ³¨æ„åŠ›æœºåˆ¶çš„ç ”ç©¶ã€‚</p>\n</div>\n<h2 id=\"è‡ªæ³¨æ„åŠ›çš„æ‰©å±•åº”ç”¨\"><a class=\"anchor\" href=\"#è‡ªæ³¨æ„åŠ›çš„æ‰©å±•åº”ç”¨\">#</a> è‡ªæ³¨æ„åŠ›çš„æ‰©å±•åº”ç”¨</h2>\n<h3 id=\"ä¸cnnçš„å…³ç³»\"><a class=\"anchor\" href=\"#ä¸cnnçš„å…³ç³»\">#</a> ä¸ CNN çš„å…³ç³»</h3>\n<p>æœ‰è¶£çš„æ˜¯ï¼Œ<ins class=\"dot\">CNN å¯ä»¥çœ‹ä½œæ˜¯åªè€ƒè™‘ä¸€å°éƒ¨åˆ†çš„ç®€åŒ–ç‰ˆ self-attention</ins>ã€‚</p>\n<p>åœ¨ CNN ä¸­ï¼Œæ¯ä¸ªä½ç½®åªä¸å…¶æ„Ÿå—é‡å†…çš„é‚»è¿‘ä½ç½®äº¤äº’ï¼Œè¿™å¯ä»¥è§†ä¸ºä¸€ç§å—é™çš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œå…¶ä¸­æ³¨æ„åŠ›æƒé‡æ˜¯å›ºå®šçš„ï¼ˆç”±å·ç§¯æ ¸å†³å®šï¼‰ï¼Œä¸”åªåœ¨å±€éƒ¨èŒƒå›´å†…éé›¶ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>CNNä¸Self-Attentionçš„ç±»æ¯”</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># CNNçš„å±€éƒ¨è¿æ¥</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cnn_like_attention</span>(<span class=\"params\">sequence, kernel_size=<span class=\"number\">3</span></span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;CNNé£æ ¼çš„å—é™æ³¨æ„åŠ›&quot;&quot;&quot;</span></span><br><span class=\"line\">    outputs = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(sequence)):</span><br><span class=\"line\">        <span class=\"comment\"># åªå…³æ³¨å±€éƒ¨çª—å£</span></span><br><span class=\"line\">        start = <span class=\"built_in\">max</span>(<span class=\"number\">0</span>, i - kernel_size // <span class=\"number\">2</span>)</span><br><span class=\"line\">        end = <span class=\"built_in\">min</span>(<span class=\"built_in\">len</span>(sequence), i + kernel_size // <span class=\"number\">2</span> + <span class=\"number\">1</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># å›ºå®šçš„æ³¨æ„åŠ›æƒé‡ï¼ˆå·ç§¯æ ¸ï¼‰</span></span><br><span class=\"line\">        local_features = sequence[start:end]</span><br><span class=\"line\">        output = fixed_weight_combination(local_features)</span><br><span class=\"line\">        outputs.append(output)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> outputs</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Self-Attentionçš„å…¨å±€è¿æ¥</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">full_self_attention</span>(<span class=\"params\">sequence</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;å®Œæ•´çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶&quot;&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># æ¯ä¸ªä½ç½®éƒ½èƒ½å…³æ³¨åˆ°æ‰€æœ‰ä½ç½®</span></span><br><span class=\"line\">    <span class=\"comment\"># æ³¨æ„åŠ›æƒé‡æ˜¯åŠ¨æ€å­¦ä¹ çš„</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> self_attention(sequence)</span><br></pre></td></tr></table></figure>\n<p>è¿™ç§ç±»æ¯”å¸®åŠ©æˆ‘ä»¬ç†è§£ï¼š</p>\n<ul>\n<li><strong>CNN</strong>ï¼šå±€éƒ¨æ„Ÿå—é‡ + å‚æ•°å…±äº« + å›ºå®šæƒé‡</li>\n<li><strong>Self-Attention</strong>ï¼šå…¨å±€æ„Ÿå—é‡ + åŠ¨æ€æƒé‡ + å†…å®¹ç›¸å…³</li>\n</ul>\n<h3 id=\"å›¾ç¥ç»ç½‘ç»œçš„è¿æ¥\"><a class=\"anchor\" href=\"#å›¾ç¥ç»ç½‘ç»œçš„è¿æ¥\">#</a> å›¾ç¥ç»ç½‘ç»œçš„è¿æ¥</h3>\n<p><ins class=\"dot\">Self-attention ç”¨åœ¨å›¾ä¸Šä¹Ÿæ˜¯ä¸€ç§ GNN</ins>ï¼ˆå›¾ç¥ç»ç½‘ç»œï¼‰ã€‚åœ¨å›¾ç»“æ„ä¸Šï¼Œè‡ªæ³¨æ„åŠ›å¯ä»¥è®©æ¯ä¸ªèŠ‚ç‚¹å…³æ³¨å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™ä¸å›¾æ³¨æ„åŠ›ç½‘ç»œï¼ˆGraph Attention Network, GATï¼‰çš„æ€æƒ³ä¸è°‹è€Œåˆã€‚</p>\n<details class=\"success\"><summary>å›¾ä¸Šçš„è‡ªæ³¨æ„åŠ›æœºåˆ¶</summary><div>\n<p>å½“å°†è‡ªæ³¨æ„åŠ›åº”ç”¨åˆ°å›¾æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p>\n<p><strong>1. èŠ‚ç‚¹çº§æ³¨æ„åŠ›</strong><br />\næ¯ä¸ªèŠ‚ç‚¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è®¡ç®—å¯¹å…¶ä»–èŠ‚ç‚¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ³¨æ„åŠ›æƒé‡ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î±</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mtext>softmax</mtext><mrow><mo fence=\"true\">(</mo><mtext>LeakyReLU</mtext><mrow><mo fence=\"true\">(</mo><msup><mi mathvariant=\"bold\">a</mi><mi>T</mi></msup><mo stretchy=\"false\">[</mo><mi>W</mi><msub><mi mathvariant=\"bold\">h</mi><mi>i</mi></msub><mi mathvariant=\"normal\">âˆ¥</mi><mi>W</mi><msub><mi mathvariant=\"bold\">h</mi><mi>j</mi></msub><mo stretchy=\"false\">]</mo><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\alpha_{ij} = \\text{softmax}\\left(\\text{LeakyReLU}\\left(\\mathbf{a}^T[W\\mathbf{h}_i \\| W\\mathbf{h}_j]\\right)\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2413409999999998em;vertical-align:-0.35001em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord text\"><span class=\"mord\">LeakyReLU</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbf\">a</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbf\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ¥</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbf\">h</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span></span></p>\n<p><strong>2. è€ƒè™‘å›¾ç»“æ„</strong><br />\nå¯ä»¥å°†æ³¨æ„åŠ›é™åˆ¶åœ¨é‚»å±…èŠ‚ç‚¹ä¸Šï¼Œæˆ–è€…ä½¿ç”¨å›¾çš„æ‹“æ‰‘ä¿¡æ¯æ¥è°ƒèŠ‚æ³¨æ„åŠ›æƒé‡ã€‚</p>\n<p><strong>3. å¤šå…³ç³»å»ºæ¨¡</strong><br />\nå¯¹äºå¼‚æ„å›¾ï¼Œå¯ä»¥ä¸ºä¸åŒç±»å‹çš„å…³ç³»ä½¿ç”¨ä¸åŒçš„æ³¨æ„åŠ›å¤´ã€‚</p>\n<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>\n<ul>\n<li>ç¤¾äº¤ç½‘ç»œåˆ†æ</li>\n<li>åˆ†å­æ€§è´¨é¢„æµ‹</li>\n<li>æ¨èç³»ç»Ÿ</li>\n<li>çŸ¥è¯†å›¾è°±æ¨ç†</li>\n</ul>\n</div></details>\n<h2 id=\"æ”¹è¿›ä¸ä¼˜åŒ–æ–¹å‘\"><a class=\"anchor\" href=\"#æ”¹è¿›ä¸ä¼˜åŒ–æ–¹å‘\">#</a> æ”¹è¿›ä¸ä¼˜åŒ–æ–¹å‘</h2>\n<h3 id=\"è®¡ç®—æ•ˆç‡ä¼˜åŒ–\"><a class=\"anchor\" href=\"#è®¡ç®—æ•ˆç‡ä¼˜åŒ–\">#</a> è®¡ç®—æ•ˆç‡ä¼˜åŒ–</h3>\n<p>ç”±äºæ ‡å‡†è‡ªæ³¨æ„åŠ›çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> å¤æ‚åº¦ï¼Œç ”ç©¶è€…ä»¬æå‡ºäº†å¤šç§ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>\n<details class=\"info\"><summary>é«˜æ•ˆæ³¨æ„åŠ›æœºåˆ¶</summary><div>\n<p><strong>1. Truncated Self-Attentionï¼ˆæˆªæ–­è‡ªæ³¨æ„åŠ›ï¼‰</strong><br />\né™åˆ¶æ¯ä¸ªä½ç½®åªèƒ½å…³æ³¨å…¶é™„è¿‘çš„ä¸€å®šèŒƒå›´å†…çš„ä½ç½®ï¼Œå°†å¤æ‚åº¦é™ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo>â‹…</mo><mi>w</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\cdot w)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mclose\">)</span></span></span></span>ï¼Œå…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> æ˜¯çª—å£å¤§å°ã€‚</p>\n<p><strong>2. Sparse Attention</strong></p>\n<ul>\n<li>Local Attentionï¼šåªå…³æ³¨å±€éƒ¨é‚»å±…</li>\n<li>Strided Attentionï¼šä»¥å›ºå®šæ­¥é•¿å…³æ³¨ä½ç½®</li>\n<li>Random Attentionï¼šéšæœºé€‰æ‹©å…³æ³¨ä½ç½®</li>\n</ul>\n<p><strong>3. Linear Attention</strong><br />\n é€šè¿‡æ ¸æŠ€å·§å°†å¤æ‚åº¦é™ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo>â‹…</mo><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\cdot d)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span>ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>Attention</mtext><mo stretchy=\"false\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>K</mi><mo separator=\"true\">,</mo><mi>V</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>Ï•</mi><mo stretchy=\"false\">(</mo><mi>Q</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>Ï•</mi><mo stretchy=\"false\">(</mo><mi>K</mi><msup><mo stretchy=\"false\">)</mo><mi>T</mi></msup><mi>V</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\text{Attention}(Q,K,V) = \\phi(Q)(\\phi(K)^TV)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">Attention</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Ï•</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Ï•</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p><strong>4. Low-rank Approximation</strong><br />\n å‡è®¾æ³¨æ„åŠ›çŸ©é˜µæ˜¯ä½ç§©çš„ï¼Œä½¿ç”¨çŸ©é˜µåˆ†è§£æ¥è¿‘ä¼¼ã€‚</p>\n</div></details>\n<p><ins class=\"dot\">Truncated self-attention</ins> æ˜¯å…¶ä¸­ä¸€ç§é‡è¦çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œå®ƒåœ¨ä¿æŒä¸€å®šæ€§èƒ½çš„åŒæ—¶æ˜¾è‘—é™ä½äº†è®¡ç®—å¤æ‚åº¦ã€‚</p>\n<h3 id=\"ä»»åŠ¡ç‰¹å®šæ”¹è¿›\"><a class=\"anchor\" href=\"#ä»»åŠ¡ç‰¹å®šæ”¹è¿›\">#</a> ä»»åŠ¡ç‰¹å®šæ”¹è¿›</h3>\n<ul>\n<li><strong>æ–‡æ¡£çº§å»ºæ¨¡</strong>ï¼šLongformer, BigBird ç­‰å¤„ç†é•¿æ–‡æ¡£</li>\n<li><strong>å¤šæ¨¡æ€èåˆ</strong>ï¼šè§†è§‰ - è¯­è¨€ä»»åŠ¡ä¸­çš„è·¨æ¨¡æ€æ³¨æ„åŠ›</li>\n<li><strong>å±‚æ¬¡åŒ–æ³¨æ„åŠ›</strong>ï¼šå…ˆå±€éƒ¨åå…¨å±€çš„åˆ†å±‚å¤„ç†</li>\n</ul>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "Transformer",
                "æ·±åº¦å­¦ä¹ ",
                "æ³¨æ„åŠ›æœºåˆ¶",
                "è‡ªæ³¨æ„åŠ›",
                "ç¥ç»ç½‘ç»œ",
                "å¤šå¤´æ³¨æ„åŠ›",
                "æœºå™¨å­¦ä¹ ",
                "åºåˆ—å»ºæ¨¡",
                "è¯åµŒå…¥",
                "ä½ç½®ç¼–ç ",
                "åºåˆ—æ ‡æ³¨"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1290-%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%93%BE%E8%A1%A8%E8%BD%AC%E6%95%B4%E6%95%B0/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1290-%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%93%BE%E8%A1%A8%E8%BD%AC%E6%95%B4%E6%95%B0/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š1290. äºŒè¿›åˆ¶é“¾è¡¨è½¬æ•´æ•°",
            "date_published": "2025-07-14T04:17:45.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb252ZXJ0LWJpbmFyeS1udW1iZXItaW4tYS1saW5rZWQtbGlzdC10by1pbnRlZ2VyP2VudlR5cGU9ZGFpbHktcXVlc3Rpb24mYW1wO2VudklkPTIwMjUtMDctMTQ=\">LeetCode 1290</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¼•ç”¨ç»“ç‚¹ headã€‚é“¾è¡¨ä¸­æ¯ä¸ªç»“ç‚¹çš„å€¼ä¸æ˜¯ 0 å°±æ˜¯ 1ã€‚å·²çŸ¥æ­¤é“¾è¡¨æ˜¯ä¸€ä¸ªæ•´æ•°æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚</p>\n<p>è¯·ä½ è¿”å›è¯¥é“¾è¡¨æ‰€è¡¨ç¤ºæ•°å­—çš„ åè¿›åˆ¶å€¼ ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>æ¯æ¬¡å¯¹å½“å‰å€¼ä¹˜äºŒï¼Œç„¶åå†åŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„å€¼ã€‚ç›´åˆ°é“¾è¡¨ç»“æŸã€‚</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for singly-linked list.</span></span><br><span class=\"line\"><span class=\"comment\"> * struct ListNode &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     int val;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode *next;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">getDecimalValue</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (head != <span class=\"literal\">nullptr</span>)&#123;</span><br><span class=\"line\">            res &lt;&lt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">            res += head-&gt;val;</span><br><span class=\"line\">            head = head-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A2410-%E8%BF%90%E5%8A%A8%E5%91%98%E5%92%8C%E8%AE%AD%E7%BB%83%E5%B8%88%E7%9A%84%E6%9C%80%E5%A4%A7%E5%8C%B9%E9%85%8D%E6%95%B0/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A2410-%E8%BF%90%E5%8A%A8%E5%91%98%E5%92%8C%E8%AE%AD%E7%BB%83%E5%B8%88%E7%9A%84%E6%9C%80%E5%A4%A7%E5%8C%B9%E9%85%8D%E6%95%B0/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š2410. è¿åŠ¨å‘˜å’Œè®­ç»ƒå¸ˆçš„æœ€å¤§åŒ¹é…æ•°",
            "date_published": "2025-07-12T17:19:56.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLW1hdGNoaW5nLW9mLXBsYXllcnMtd2l0aC10cmFpbmVycz9lbnZUeXBlPWRhaWx5LXF1ZXN0aW9uJmFtcDtlbnZJZD0yMDI1LTA3LTEz\">LeetCode 2410</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°åŠå¤æ‚åº¦åˆ†æã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„  <code>players</code>  ï¼Œå…¶ä¸­  <code>players[i]</code>  è¡¨ç¤ºç¬¬  <code>i</code>  åè¿åŠ¨å‘˜çš„ èƒ½åŠ› å€¼ï¼ŒåŒæ—¶ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„  <code>trainers</code>  ï¼Œå…¶ä¸­  <code>trainers[j]</code>  è¡¨ç¤ºç¬¬  <code>j</code>  åè®­ç»ƒå¸ˆçš„ è®­ç»ƒèƒ½åŠ›å€¼ ã€‚</p>\n<p>å¦‚æœç¬¬  <code>i</code>  åè¿åŠ¨å‘˜çš„èƒ½åŠ›å€¼ å°äºç­‰äº ç¬¬  <code>j</code>  åè®­ç»ƒå¸ˆçš„èƒ½åŠ›å€¼ï¼Œé‚£ä¹ˆç¬¬  <code>i</code>  åè¿åŠ¨å‘˜å¯ä»¥ åŒ¹é… ç¬¬  <code>j</code>  åè®­ç»ƒå¸ˆã€‚é™¤æ­¤ä»¥å¤–ï¼Œæ¯åè¿åŠ¨å‘˜è‡³å¤šå¯ä»¥åŒ¹é…ä¸€ä½è®­ç»ƒå¸ˆï¼Œæ¯ä½è®­ç»ƒå¸ˆæœ€å¤šå¯ä»¥åŒ¹é…ä¸€ä½è¿åŠ¨å‘˜ã€‚</p>\n<p>è¯·ä½ è¿”å›æ»¡è¶³ä¸Šè¿°è¦æ±‚  <code>players</code>  å’Œ  <code>trainers</code>  çš„ æœ€å¤§ åŒ¹é…æ•°ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>æœ¬é¢˜å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„è´ªå¿ƒç­–ç•¥æ¥è§£å†³ã€‚é¦–å…ˆå¯¹è¿åŠ¨å‘˜å’Œè®­ç»ƒå¸ˆçš„èƒ½åŠ›å€¼è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«éå†è¿åŠ¨å‘˜å’Œè®­ç»ƒå¸ˆæ•°ç»„ã€‚å½“è®­ç»ƒå¸ˆçš„èƒ½åŠ›å€¼å¤§äºç­‰äºè¿åŠ¨å‘˜çš„èƒ½åŠ›å€¼æ—¶ï¼Œè¯´æ˜è¯¥è¿åŠ¨å‘˜å¯ä»¥åŒ¹é…è¯¥è®­ç»ƒå¸ˆï¼Œæ­¤æ—¶å°†ä¸¤ä¸ªæŒ‡é’ˆéƒ½å‘å‰ç§»åŠ¨ï¼Œå¹¶å¢åŠ åŒ¹é…è®¡æ•°ï¼›å¦‚æœè®­ç»ƒå¸ˆçš„èƒ½åŠ›å€¼å°äºè¿åŠ¨å‘˜çš„èƒ½åŠ›å€¼ï¼Œåˆ™åªç§»åŠ¨è®­ç»ƒå¸ˆçš„æŒ‡é’ˆï¼Œå¯»æ‰¾ä¸‹ä¸€ä¸ªå¯èƒ½åŒ¹é…çš„è®­ç»ƒå¸ˆã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªè¿åŠ¨å‘˜éƒ½èƒ½æ‰¾åˆ°æœ€åˆé€‚çš„è®­ç»ƒå¸ˆï¼Œä»è€Œæœ€å¤§åŒ–åŒ¹é…æ•°ã€‚è€Œæ²¡è¢«é€‰ä¸­çš„è®­ç»ƒå¸ˆåˆ™è¯´æ˜ä»–ä»¬çš„èƒ½åŠ›å€¼éƒ½å°äºå½“å‰æœ€å°èƒ½åŠ›å€¼çš„è¿åŠ¨å‘˜ï¼Œå› æ­¤å¯ä»¥è·³è¿‡ã€‚è‹¥æ˜¯å½“å‰æ²¡è¢«é€‰ä¸­çš„èƒ½åŠ›å€¼æœ€å°çš„è¿åŠ¨å‘˜ä¹Ÿæ— æ³•åŒ¹é…ä»»ä½•è®­ç»ƒå¸ˆï¼Œåˆ™å¯ä»¥ç›´æ¥ç»“æŸåŒ¹é…ã€‚</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">matchPlayersAndTrainers</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; players, vector&lt;<span class=\"type\">int</span>&gt;&amp; trainers)</span> </span>&#123;</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(players);</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(trainers);</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> i = <span class=\"number\">0</span>, j = <span class=\"number\">0</span>, n = players.<span class=\"built_in\">size</span>(), m = trainers.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (j &lt; m &amp;&amp; i &lt; n)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (j &lt; m &amp;&amp; trainers[j] &lt; players[i]) j++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (j &lt; m) i++, j++, ans++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "è´ªå¿ƒ",
                "åŒæŒ‡é’ˆ"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1900-%E6%9C%80%E4%BD%B3%E8%BF%90%E5%8A%A8%E5%91%98%E7%9A%84%E6%AF%94%E6%8B%BC%E5%9B%9E%E5%90%88/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1900-%E6%9C%80%E4%BD%B3%E8%BF%90%E5%8A%A8%E5%91%98%E7%9A%84%E6%AF%94%E6%8B%BC%E5%9B%9E%E5%90%88/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š1900. æœ€ä½³è¿åŠ¨å‘˜çš„æ¯”æ‹¼å›åˆ",
            "date_published": "2025-07-12T16:20:14.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy90aGUtZWFybGllc3QtYW5kLWxhdGVzdC1yb3VuZHMtd2hlcmUtcGxheWVycy1jb21wZXRlP2VudlR5cGU9ZGFpbHktcXVlc3Rpb24mYW1wO2VudklkPTIwMjUtMDctMTI=\">LeetCode 1900</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p><code>n</code>  åè¿åŠ¨å‘˜å‚ä¸ä¸€åœºé”¦æ ‡èµ›ï¼Œæ‰€æœ‰è¿åŠ¨å‘˜ç«™æˆä¸€æ’ï¼Œå¹¶æ ¹æ® æœ€å¼€å§‹çš„ ç«™ä½ä»  <code>1</code>  åˆ°  <code>n</code>  ç¼–å·ï¼ˆè¿åŠ¨å‘˜  <code>1</code>  æ˜¯è¿™ä¸€æ’ä¸­çš„ç¬¬ä¸€ä¸ªè¿åŠ¨å‘˜ï¼Œè¿åŠ¨å‘˜  <code>2</code>  æ˜¯ç¬¬äºŒä¸ªè¿åŠ¨å‘˜ï¼Œä¾æ­¤ç±»æ¨ï¼‰ã€‚</p>\n<p>é”¦æ ‡èµ›ç”±å¤šä¸ªå›åˆç»„æˆï¼ˆä»å›åˆ  <code>1</code>  å¼€å§‹ï¼‰ã€‚æ¯ä¸€å›åˆä¸­ï¼Œè¿™ä¸€æ’ä»å‰å¾€åæ•°çš„ç¬¬  <code>i</code>  åè¿åŠ¨å‘˜éœ€è¦ä¸ä»åå¾€å‰æ•°çš„ç¬¬  <code>i</code>  åè¿åŠ¨å‘˜æ¯”æ‹¼ï¼Œè·èƒœè€…å°†ä¼šè¿›å…¥ä¸‹ä¸€å›åˆã€‚å¦‚æœå½“å‰å›åˆä¸­è¿åŠ¨å‘˜æ•°ç›®ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆä¸­é—´é‚£ä½è¿åŠ¨å‘˜å°†è½®ç©ºæ™‹çº§ä¸‹ä¸€å›åˆã€‚</p>\n<pre><code>ä¾‹å¦‚ï¼Œå½“å‰å›åˆä¸­ï¼Œè¿åŠ¨å‘˜ 1, 2, 4, 6, 7 ç«™æˆä¸€æ’\n    è¿åŠ¨å‘˜ 1 éœ€è¦å’Œè¿åŠ¨å‘˜ 7 æ¯”æ‹¼\n    è¿åŠ¨å‘˜ 2 éœ€è¦å’Œè¿åŠ¨å‘˜ 6 æ¯”æ‹¼\n    è¿åŠ¨å‘˜ 4 è½®ç©ºæ™‹çº§ä¸‹ä¸€å›åˆ\n</code></pre>\n<p>æ¯å›åˆç»“æŸåï¼Œè·èƒœè€…å°†ä¼šåŸºäºæœ€å¼€å§‹åˆ†é…ç»™ä»–ä»¬çš„åŸå§‹é¡ºåºï¼ˆå‡åºï¼‰é‡æ–°æ’æˆä¸€æ’ã€‚</p>\n<p>ç¼–å·ä¸º  <code>firstPlayer</code>  å’Œ  <code>secondPlayer</code>  çš„è¿åŠ¨å‘˜æ˜¯æœ¬åœºé”¦æ ‡èµ›ä¸­çš„æœ€ä½³è¿åŠ¨å‘˜ã€‚åœ¨ä»–ä»¬å¼€å§‹æ¯”æ‹¼ä¹‹å‰ï¼Œå®Œå…¨å¯ä»¥æˆ˜èƒœä»»ä½•å…¶ä»–è¿åŠ¨å‘˜ã€‚è€Œä»»æ„ä¸¤ä¸ªå…¶ä»–è¿åŠ¨å‘˜è¿›è¡Œæ¯”æ‹¼æ—¶ï¼Œå…¶ä¸­ä»»æ„ä¸€ä¸ªéƒ½æœ‰è·èƒœçš„å¯èƒ½ï¼Œå› æ­¤ä½ å¯ä»¥ è£å®š è°æ˜¯è¿™ä¸€å›åˆçš„è·èƒœè€…ã€‚</p>\n<p>ç»™ä½ ä¸‰ä¸ªæ•´æ•°  <code>n</code> ã€ <code>firstPlayer</code>  å’Œ  <code>secondPlayer</code>  ã€‚è¿”å›ä¸€ä¸ªç”±ä¸¤ä¸ªå€¼ç»„æˆçš„æ•´æ•°æ•°ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¤ä½æœ€ä½³è¿åŠ¨å‘˜åœ¨æœ¬åœºé”¦æ ‡èµ›ä¸­æ¯”æ‹¼çš„ æœ€æ—© å›åˆæ•°å’Œ æœ€æ™š å›åˆæ•°ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>æœ¬é¢˜ n æœ€å¤§ä¸º 28ï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æ¥æ¨¡æ‹Ÿæ¯ä¸€å›åˆçš„æ¯”æ‹¼è¿‡ç¨‹ã€‚æˆ‘ä»¬éœ€è¦è®°å½•æ¯ä¸ªè¿åŠ¨å‘˜åœ¨æ¯ä¸€å›åˆçš„çŠ¶æ€ï¼Œå¹¶è®¡ç®—å‡ºæœ€ä½³è¿åŠ¨å‘˜çš„æœ€æ—©å’Œæœ€æ™šæ¯”æ‹¼å›åˆæ•°ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå››ç»´æ•°ç»„  <code>ans[fp][sp][n][is_er]</code>  æ¥å­˜å‚¨çŠ¶æ€ï¼Œå…¶ä¸­  <code>fp</code>  å’Œ  <code>sp</code>  åˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€åå’Œç¬¬äºŒåè¿åŠ¨å‘˜çš„ç¼–å·ï¼Œ <code>n</code>  è¡¨ç¤ºå½“å‰å›åˆçš„è¿åŠ¨å‘˜æ•°é‡ï¼Œ <code>is_er</code>  è¡¨ç¤ºæ˜¯å¦è®¡ç®—æœ€æ—©å›åˆæ•°ã€‚</p>\n<p>æˆ‘ä»¬é€šè¿‡é€’å½’å‡½æ•°  <code>dfs(fp, sp, n, is_er)</code>  æ¥å®ç°æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚å‡½æ•°çš„è¿”å›å€¼æ˜¯å½“å‰çŠ¶æ€ä¸‹çš„æœ€æ—©æˆ–æœ€æ™šå›åˆæ•°ã€‚<br />\né€’å½’æ—¶ï¼Œè‹¥  <code>n - sp + 1 == fp</code> ï¼Œè¯´æ˜ä¸¤åè¿åŠ¨å‘˜åœ¨åŒä¸€å›åˆä¸­ç›¸é‡ï¼Œè¿”å› 1ã€‚</p>\n<p>è‹¥  <code>fp &gt; n / 2</code> ï¼Œç”±äºè¿™é“é¢˜æ˜¯å¯¹ç§°çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åªè€ƒè™‘  <code>fp</code>  åœ¨å‰åŠéƒ¨åˆ†çš„æƒ…å†µï¼Œå› æ­¤å½“  <code>fp</code>  å¤§äº  <code>n / 2</code>  æ—¶ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºå¯¹ç§°çš„æƒ…å†µã€‚<br />\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†  <code>fp</code>  å’Œ  <code>sp</code>  çš„ä½ç½®å…³ç³»ï¼Œå¹¶æ ¹æ®å½“å‰å›åˆçš„è¿åŠ¨å‘˜æ•°é‡è¿›è¡Œé€’å½’ã€‚</p>\n<p>æˆ‘ä»¬å®šä¹‰å‡ ä¸ªå˜é‡ï¼š</p>\n<ul>\n<li><code>pre</code> ï¼šè¡¨ç¤ºç¬¬ä¸€åè¿åŠ¨å‘˜ä¹‹å‰çš„å¯èƒ½ä¼šå‡å°‘çš„è¿åŠ¨å‘˜æ•°é‡ï¼Œåœ¨ mid å’Œ pre æœ‰é‡åˆçš„æƒ…å†µä¸‹ï¼Œå‡å» mid å’Œç¬¬äºŒåè¿åŠ¨å‘˜é€ æˆçš„å½±å“ã€‚</li>\n<li><code>mid</code> ï¼šè¡¨ç¤ºç¬¬ä¸€åå’Œç¬¬äºŒåè¿åŠ¨å‘˜ä¹‹é—´çš„å¯èƒ½ä¼šå‡å°‘çš„è¿åŠ¨å‘˜æ•°é‡ã€‚</li>\n<li><code>offset</code> ï¼šè¡¨ç¤ºç¬¬ä¸€åå’Œç¬¬äºŒåè¿åŠ¨å‘˜ä¹‹é—´ä¸€å®šä¼šå‡å°‘çš„è¿åŠ¨å‘˜æ•°é‡ã€‚</li>\n</ul>\n<p>æ¥ä¸‹æ¥è€ƒè™‘ç¬¬äºŒåè¿åŠ¨å‘˜çš„ä½ç½®å…³ç³»ï¼š</p>\n<ul>\n<li>å¦‚æœ  <code>sp &gt; (n + 1) / 2</code> ï¼Œè¯´æ˜ç¬¬äºŒåè¿åŠ¨å‘˜åœ¨ååŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬é€šè¿‡è®¡ç®—  <code>tmp</code>  æ¥è·å–ç¬¬äºŒåè¿åŠ¨å‘˜çš„å¯¹ç§°ä¹‹åï¼Œåœ¨å‰åŠéƒ¨åˆ†çš„ä½ç½®ï¼Œå³ç›¸å½“äºå°†ä¸¤åè¿åŠ¨å‘˜æ”¾åœ¨åŒä¸€ä¾§è¿›è¡Œæ¯”è¾ƒï¼Œæ¥è·å–æˆ‘ä»¬éœ€è¦çš„è¿™å‡ ä¸ªå˜é‡ã€‚</li>\n<li>å¦‚æœ  <code>sp &lt;= (n + 1) / 2</code> ï¼Œè¯´æ˜ç¬¬äºŒåè¿åŠ¨å‘˜åœ¨å‰åŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬ç›´æ¥è®¡ç®—  <code>mid</code>  å’Œ  <code>pre</code>  çš„å€¼ã€‚</li>\n</ul>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„  <code>i</code>  å’Œ  <code>j</code> ï¼Œæ¥ç¡®å®šä¸‹ä¸€å›åˆæ‰€æœ‰å¯èƒ½çš„è¿åŠ¨å‘˜ç»„åˆã€‚å¯¹äºæ¯ä¸€å¯¹  <code>(i, j)</code> ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºä¸‹ä¸€å›åˆçš„ç¬¬ä¸€åå’Œç¬¬äºŒåè¿åŠ¨å‘˜çš„ç¼–å·ï¼Œå¹¶é€’å½’è°ƒç”¨  <code>dfs</code>  å‡½æ•°ã€‚<br />\nå¦‚æœ  <code>n - sp + 1 &lt; fp</code> ï¼Œè¯´æ˜  <code>mid</code>  å’Œ  <code>pre</code>  æœ‰é‡åˆçš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å‡å»  <code>mid</code>  å’Œç¬¬äºŒåè¿åŠ¨å‘˜é€ æˆçš„å½±å“ã€‚</p>\n<p>è¿™é‡Œçš„ä»£ç å¯ä»¥ä¿®æ”¹æˆæ²¡æœ‰æœ€åä¸€ä¸ªå‚æ•°  <code>is_er</code> ï¼Œç›´æ¥è¿”å›æœ€æ—©å’Œæœ€æ™šå›åˆæ•°çš„ç»“æœã€‚ä½†æ˜¯åšä¸»ä¸æƒ³æ”¹äº†ğŸ˜µã€‚</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"type\">int</span> ans[<span class=\"number\">29</span>][<span class=\"number\">29</span>][<span class=\"number\">29</span>][<span class=\"number\">2</span>] = &#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> fp, <span class=\"type\">int</span> sp, <span class=\"type\">int</span> n, <span class=\"type\">bool</span> is_er)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> &amp; res = ans[fp][sp][n][is_er];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (res) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n - sp + <span class=\"number\">1</span> == fp) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fp &gt; n / <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">dfs</span>(<span class=\"built_in\">min</span>(n - fp + <span class=\"number\">1</span>, n - sp + <span class=\"number\">1</span>), <span class=\"built_in\">max</span>(n - sp + <span class=\"number\">1</span>, n - fp + <span class=\"number\">1</span>), n, is_er);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> pre, mid,offset = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sp &gt; (n + <span class=\"number\">1</span>) / <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> tmp = n - sp + <span class=\"number\">1</span>;</span><br><span class=\"line\">            offset = n/<span class=\"number\">2</span> - <span class=\"built_in\">max</span>(fp,tmp) + <span class=\"number\">1</span>;</span><br><span class=\"line\">            mid = <span class=\"built_in\">abs</span>(fp-tmp) - <span class=\"number\">1</span>;</span><br><span class=\"line\">            pre = <span class=\"built_in\">min</span>(fp,tmp) - <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            mid = sp - fp - <span class=\"number\">1</span>;</span><br><span class=\"line\">            pre = fp<span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> e = <span class=\"number\">30</span>, l = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt;= pre; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt;= mid; j++)&#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> tmp = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (n - sp + <span class=\"number\">1</span> &lt; fp)&#123;</span><br><span class=\"line\">                    tmp = <span class=\"built_in\">dfs</span>(fp - i - <span class=\"number\">1</span> - mid + j, sp - mid - offset - i - <span class=\"number\">1</span>, (n<span class=\"number\">+1</span>)/<span class=\"number\">2</span>, is_er);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    tmp = <span class=\"built_in\">dfs</span>(fp - i, sp - j - offset - i, (n + <span class=\"number\">1</span>)/<span class=\"number\">2</span>, is_er);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                e = <span class=\"built_in\">min</span>(e, tmp);</span><br><span class=\"line\">                l = <span class=\"built_in\">max</span>(l, tmp);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (is_er) res =  e + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> res = l + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">earliestAndLatest</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> firstPlayer, <span class=\"type\">int</span> secondPlayer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;<span class=\"built_in\">dfs</span>(firstPlayer,secondPlayer,n,<span class=\"number\">1</span>),<span class=\"built_in\">dfs</span>(firstPlayer,secondPlayer,n,<span class=\"number\">0</span>)&#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "æ·±åº¦ä¼˜å…ˆæœç´¢",
                "çŠ¶æ€å‹ç¼©",
                "è®°å¿†åŒ–æœç´¢"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3169-%E6%97%A0%E9%9C%80%E5%BC%80%E4%BC%9A%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%97%A5/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3169-%E6%97%A0%E9%9C%80%E5%BC%80%E4%BC%9A%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%97%A5/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š3169. æ— éœ€å¼€ä¼šçš„å·¥ä½œæ—¥",
            "date_published": "2025-07-10T19:46:53.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb3VudC1kYXlzLXdpdGhvdXQtbWVldGluZ3M/ZW52VHlwZT1kYWlseS1xdWVzdGlvbiZhbXA7ZW52SWQ9MjAyNS0wNy0xMQ==\">LeetCode 3169</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°  <code>days</code> ï¼Œè¡¨ç¤ºå‘˜å·¥å¯å·¥ä½œçš„æ€»å¤©æ•°ï¼ˆä»ç¬¬ 1 å¤©å¼€å§‹ï¼‰ã€‚å¦ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„  <code>meetings</code> ï¼Œé•¿åº¦ä¸º nï¼Œå…¶ä¸­  <code>meetings[i] = [start_i, end_i]</code>  è¡¨ç¤ºç¬¬ i æ¬¡ä¼šè®®çš„å¼€å§‹å’Œç»“æŸå¤©æ•°ï¼ˆåŒ…å«é¦–å°¾ï¼‰ã€‚</p>\n<p>è¿”å›å‘˜å·¥å¯å·¥ä½œä¸”æ²¡æœ‰å®‰æ’ä¼šè®®çš„å¤©æ•°ã€‚</p>\n<p>æ³¨æ„ï¼šä¼šè®®æ—¶é—´å¯èƒ½ä¼šæœ‰é‡å ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>æˆ‘ä»¬è¦æ±‚å‘˜å·¥çš„ç©ºé—²æ—¶é—´ï¼Œå› ä¸ºä¼šè®®æ˜¯é¡ºåºå‘ç”Ÿçš„ï¼Œå› æ­¤ç©ºé—²æ—¶é—´ä¸€å®šäº§ç”Ÿåœ¨æ—¶é—´ç›¸é‚»çš„ä¼šè®®ä¹‹é—´ï¼Œæ‰€ä»¥é¦–å…ˆæ ¹æ®ä¼šè®®çš„å¼€å§‹æ—¶é—´æ’åºï¼Œé™¤äº†ç¬¬ä¸€ä¸ªä¼šè®®å‰çš„ç©ºé—²æ—¶é—´ï¼Œåç»­ä¼šè®®ä¹‹é—´çš„ç©ºé—²æ—¶é—´å¯ä»¥é€šè¿‡æ¯”è¾ƒå‰é¢æ‰€æœ‰ä¼šè®®çš„ç»“æŸæ—¶é—´æœ€å¤§å€¼ï¼ˆå³éœ€è¦ç­‰å¾…å‰é¢å¼€å§‹çš„ä¼šè®®éƒ½ç»“æŸï¼Œè‹¥è¯¥ä¼šè®®è¿˜æ²¡å¼€å§‹ï¼Œæ‰ä¼šæœ‰ç©ºé—²æ—¶é—´ï¼‰å’Œå½“å‰ä¼šè®®çš„å¼€å§‹æ—¶é—´æ¥è®¡ç®—ã€‚æœ€åè¿˜éœ€è¦è€ƒè™‘æœ€åä¸€ä¸ªç»“æŸçš„ä¼šè®®ç»“æŸåçš„ç©ºé—²æ—¶é—´ã€‚</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">countDays</span><span class=\"params\">(<span class=\"type\">int</span> days, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; meetings)</span> </span>&#123;</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(meetings);</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        ans += meetings[<span class=\"number\">0</span>][<span class=\"number\">0</span>] - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = meetings.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> pre_max = meetings[<span class=\"number\">0</span>][<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pre_max &lt; meetings[i][<span class=\"number\">0</span>]) ans += meetings[i][<span class=\"number\">0</span>] - pre_max - <span class=\"number\">1</span>;</span><br><span class=\"line\">            pre_max = <span class=\"built_in\">max</span>(pre_max, meetings[i][<span class=\"number\">1</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ans += days - pre_max;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "æ’åº"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3440-%E9%87%8D%E6%96%B0%E5%AE%89%E6%8E%92%E4%BC%9A%E8%AE%AE%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%9A%E7%A9%BA%E4%BD%99%E6%97%B6%E9%97%B4-II/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3440-%E9%87%8D%E6%96%B0%E5%AE%89%E6%8E%92%E4%BC%9A%E8%AE%AE%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%9A%E7%A9%BA%E4%BD%99%E6%97%B6%E9%97%B4-II/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š3440. é‡æ–°å®‰æ’ä¼šè®®å¾—åˆ°æœ€å¤šç©ºä½™æ—¶é—´ II",
            "date_published": "2025-07-09T18:05:41.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZXNjaGVkdWxlLW1lZXRpbmdzLWZvci1tYXhpbXVtLWZyZWUtdGltZS1paT9lbnZUeXBlPWRhaWx5LXF1ZXN0aW9uJmFtcDtlbnZJZD0yMDI1LTA3LTEw\">LeetCode 3440</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°  <code>eventTime</code>  è¡¨ç¤ºä¸€ä¸ªæ´»åŠ¨çš„æ€»æ—¶é•¿ï¼Œè¿™ä¸ªæ´»åŠ¨å¼€å§‹äº  <code>t = 0</code>  ï¼Œç»“æŸäº  <code>t = eventTime</code>  ã€‚</p>\n<p>åŒæ—¶ç»™ä½ ä¸¤ä¸ªé•¿åº¦ä¸º  <code>n</code>  çš„æ•´æ•°æ•°ç»„  <code>startTime</code>  å’Œ  <code>endTime</code>  ã€‚å®ƒä»¬è¡¨ç¤ºè¿™æ¬¡æ´»åŠ¨ä¸­  <code>n</code>  ä¸ªæ—¶é—´ æ²¡æœ‰é‡å  çš„ä¼šè®®ï¼Œå…¶ä¸­ç¬¬  <code>i</code>  ä¸ªä¼šè®®çš„æ—¶é—´ä¸º  <code>[startTime[i], endTime[i]]</code>  ã€‚</p>\n<p>ä½ å¯ä»¥é‡æ–°å®‰æ’ è‡³å¤š ä¸€ä¸ªä¼šè®®ï¼Œå®‰æ’çš„è§„åˆ™æ˜¯å°†ä¼šè®®æ—¶é—´å¹³ç§»ï¼Œä¸”ä¿æŒåŸæ¥çš„ ä¼šè®®æ—¶é•¿ ï¼Œä½ çš„ç›®çš„æ˜¯ç§»åŠ¨ä¼šè®®å æœ€å¤§åŒ– ç›¸é‚»ä¸¤ä¸ªä¼šè®®ä¹‹é—´çš„ æœ€é•¿ è¿ç»­ç©ºä½™æ—¶é—´ã€‚</p>\n<p>è¯·ä½ è¿”å›é‡æ–°å®‰æ’ä¼šè®®ä»¥åï¼Œå¯ä»¥å¾—åˆ°çš„ æœ€å¤§ ç©ºä½™æ—¶é—´ã€‚</p>\n<p>æ³¨æ„ï¼Œä¼šè®® ä¸èƒ½ å®‰æ’åˆ°æ•´ä¸ªæ´»åŠ¨çš„æ—¶é—´ä»¥å¤–ï¼Œä¸”ä¼šè®®ä¹‹é—´éœ€è¦ä¿æŒäº’ä¸é‡å ã€‚</p>\n<p>æ³¨æ„ï¼šé‡æ–°å®‰æ’ä¼šè®®ä»¥åï¼Œä¼šè®®ä¹‹é—´çš„é¡ºåºå¯ä»¥å‘ç”Ÿæ”¹å˜ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>åªèƒ½å®‰æ’ä¸€ä¸ªä¼šè®®ï¼Œä¸è€ƒè™‘é¡ºåºï¼Œå› æ­¤åªæœ‰ä¸¤ç§æƒ…å†µï¼šï¼ˆè®¾è¯¥ä¼šè®®æ—¶é—´ä¸º tmpï¼Œä¼šè®®å‰åç©ºé—²æ—¶é—´åˆ†åˆ«ä¸º f1 å’Œ f2ï¼‰<br />\n1. é™¤äº†è¯¥ä¼šè®®å‰åçš„ç©ºé—²æ—¶é—´ä¹‹å¤–ï¼Œè¿˜æœ‰ç©ºé—²æ—¶é—´å¯ä»¥å®‰æ’è¯¥ä¼šè®®ï¼Œåˆ™é€šè¿‡è°ƒæ•´è¯¥ä¼šè®®èƒ½å¾—åˆ°çš„ç©ºé—²æ—¶é—´ä¸º f1 + tmp + f2<br />\n2. æ²¡æœ‰å…¶ä»–ç©ºé—²æ—¶é—´å¯ä»¥å®‰æ’ï¼Œåªèƒ½åœ¨è¯¥ä¼šè®®å‰åè¿›è¡Œè°ƒæ•´ï¼Œå¾—åˆ°çš„ç©ºé—²æ—¶é—´ä¸º f1 + f2<br />\n æœ€ç»ˆç»“æœåˆ™ä¸ºæ‰€æœ‰æƒ…å†µçš„æœ€å¤§å€¼ã€‚<br />\nè€Œè§£å†³é—®é¢˜çš„å…³é”®åœ¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨å…¶ä»–ç©ºé—²æ—¶é—´å¯ä»¥ä¸æŒ‰é¡ºåºå®‰æ’è¯¥ä¼šè®®ï¼Œæˆ‘çš„è§£å†³æ€è·¯æ˜¯ä½¿ç”¨ä¸€ä¸ª map æ¥è®°å½•æ¯ä¸ªç©ºé—²æ—¶é—´çš„å‡ºç°æ¬¡æ•°ã€‚ç„¶åè¿›è¡Œéå†ï¼Œè®¡ç®—æ¯ä¸ªä¼šè®®å‰åçš„ç©ºé—²æ—¶é—´ï¼Œå¹¶æ›´æ–° map ä¸­çš„ç©ºé—²æ—¶é—´è®¡æ•°ã€‚ä½¿ç”¨  <code>lower_bound</code>  å‡½æ•°æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨å…¶ä»–ç©ºé—²æ—¶é—´å¯ä»¥å®‰æ’è¯¥ä¼šè®®ã€‚</p>\n<div class=\"note info\">\n<p>è¿˜æœ‰ä¸€ä¸ªæ•ˆç‡æ›´å¥½çš„å®ç°æ–¹æ³•æ˜¯ï¼Œé€šè¿‡ä½¿ç”¨å‰ç¼€åç¼€æœ€å¤§å€¼æ¥è®°å½•æ¯ä¸ªä¼šè®®å‰åçš„æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œä»è€Œé¿å…ä½¿ç”¨ map è¿›è¡Œé¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚</p>\n</div>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxFreeTime</span><span class=\"params\">(<span class=\"type\">int</span> eventTime, vector&lt;<span class=\"type\">int</span>&gt;&amp; startTime, vector&lt;<span class=\"type\">int</span>&gt;&amp; endTime)</span> </span>&#123;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; free_cnt;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = startTime.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        free_cnt[startTime[<span class=\"number\">0</span>]]++;</span><br><span class=\"line\">        free_cnt[eventTime-endTime[n<span class=\"number\">-1</span>]]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n<span class=\"number\">-1</span>;i++)&#123;</span><br><span class=\"line\">            free_cnt[startTime[i<span class=\"number\">+1</span>]-endTime[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> f1,f2;</span><br><span class=\"line\">        f2 = startTime[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> map_del = [&amp;](<span class=\"type\">int</span> val)&#123;</span><br><span class=\"line\">            free_cnt[val]--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (free_cnt[val] == <span class=\"number\">0</span>) free_cnt.<span class=\"built_in\">erase</span>(val);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> solve = [&amp;](<span class=\"type\">int</span> st, <span class=\"type\">int</span> et, <span class=\"type\">int</span> tmp)&#123;</span><br><span class=\"line\">            f1 = f2;</span><br><span class=\"line\">            f2 = st - et;</span><br><span class=\"line\">            <span class=\"built_in\">map_del</span>(f1), <span class=\"built_in\">map_del</span>(f2);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (free_cnt.<span class=\"built_in\">lower_bound</span>(tmp) != free_cnt.<span class=\"built_in\">end</span>())&#123;</span><br><span class=\"line\">                ans = <span class=\"built_in\">max</span>(ans, f1 + tmp + f2);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                ans = <span class=\"built_in\">max</span>(ans, f1 + f2);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            free_cnt[f1]++, free_cnt[f2]++;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">solve</span>(startTime[i<span class=\"number\">+1</span>], endTime[i], endTime[i]-startTime[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">solve</span>(eventTime,endTime[n<span class=\"number\">-1</span>], endTime[n<span class=\"number\">-1</span>]-startTime[n<span class=\"number\">-1</span>]);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "æšä¸¾"
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CCNN/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CCNN/",
            "title": "å·ç§¯ç¥ç»ç½‘ç»œCNN",
            "date_published": "2025-07-09T11:22:34.000Z",
            "content_html": "<h1 id=\"å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€æ¦‚å¿µ\"><a class=\"anchor\" href=\"#å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€æ¦‚å¿µ\">#</a> å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€æ¦‚å¿µ</h1>\n<p>** å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Network, CNNï¼‰** æ˜¯ä¸€ç§ä¸“é—¨ç”¨äºå¤„ç†å…·æœ‰ç½‘æ ¼çŠ¶æ‹“æ‰‘ç»“æ„æ•°æ®çš„æ·±åº¦å­¦ä¹ æ¶æ„ï¼Œåœ¨<ins class=\"dot\">å›¾åƒåˆ†ç±»</ins>ã€ç›®æ ‡æ£€æµ‹ã€å›¾åƒåˆ†å‰²ç­‰è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­è¡¨ç°å“è¶Šã€‚</p>\n<details class=\"info\"><summary>å…³é”®æ¦‚å¿µï¼šTensor</summary><div>\n<p>**Tensorï¼ˆå¼ é‡ï¼‰** æ˜¯ CNN ä¸­æ•°æ®çš„åŸºæœ¬è¡¨ç¤ºå½¢å¼ï¼Œå¯ä»¥ç†è§£ä¸ºå¤šç»´æ•°ç»„ï¼š</p>\n<ul>\n<li><strong>0 ç»´å¼ é‡</strong>ï¼šæ ‡é‡ï¼ˆå•ä¸ªæ•°å€¼ï¼‰</li>\n<li><strong>1 ç»´å¼ é‡</strong>ï¼šå‘é‡ï¼ˆä¸€ç»´æ•°ç»„ï¼‰</li>\n<li><strong>2 ç»´å¼ é‡</strong>ï¼šçŸ©é˜µï¼ˆäºŒç»´æ•°ç»„ï¼‰</li>\n<li><strong>3 ç»´å¼ é‡</strong>ï¼šå¦‚ RGB å›¾åƒï¼ˆé«˜åº¦ Ã— å®½åº¦ Ã— é€šé“æ•°ï¼‰</li>\n<li><strong>4 ç»´å¼ é‡</strong>ï¼šæ‰¹é‡å›¾åƒæ•°æ®ï¼ˆæ‰¹é‡å¤§å° Ã— é«˜åº¦ Ã— å®½åº¦ Ã— é€šé“æ•°ï¼‰</li>\n</ul>\n<p>åœ¨ CNN ä¸­ï¼Œå›¾åƒé€šå¸¸è¡¨ç¤ºä¸º 3 ç»´å¼ é‡ï¼Œå…¶ä¸­åŒ…å«<strong>é«˜åº¦ï¼ˆHeightï¼‰</strong>ã€** å®½åº¦ï¼ˆWidthï¼‰<strong>å’Œ</strong>é¢œè‰²é€šé“ï¼ˆColor Channelsï¼‰** ä¸‰ä¸ªç»´åº¦ã€‚</p>\n</div></details>\n<h2 id=\"ä¼ ç»Ÿå…¨è¿æ¥ç½‘ç»œçš„å±€é™æ€§\"><a class=\"anchor\" href=\"#ä¼ ç»Ÿå…¨è¿æ¥ç½‘ç»œçš„å±€é™æ€§\">#</a> ä¼ ç»Ÿå…¨è¿æ¥ç½‘ç»œçš„å±€é™æ€§</h2>\n<p>ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œåœ¨å¤„ç†å›¾åƒæ—¶å­˜åœ¨æ˜¾è‘—é—®é¢˜ã€‚ä»¥ä¸€å¼  100Ã—100 åƒç´ çš„ RGB å½©è‰²å›¾åƒä¸ºä¾‹ï¼š</p>\n<ul>\n<li>å›¾åƒç»´åº¦ï¼š100 Ã— 100 Ã— 3 = 30,000 ä¸ªåƒç´ å€¼</li>\n<li>å¦‚æœä½¿ç”¨ 1000 ä¸ªç¥ç»å…ƒçš„å…¨è¿æ¥å±‚ï¼šéœ€è¦ 30,000 Ã— 1000 = <strong>3Ã—10^7 ä¸ªæƒé‡å‚æ•°</strong></li>\n</ul>\n<div class=\"note warning no-icon\">\n<p>å‚æ•°é‡è¿‡å¤šå¯¼è‡´ï¼š</p>\n<ol>\n<li><strong>è¿‡æ‹Ÿåˆé£é™©</strong>ï¼šæ¨¡å‹å®¹æ˜“è®°ä½è®­ç»ƒæ•°æ®è€Œéå­¦ä¹ ç‰¹å¾</li>\n<li><strong>è®¡ç®—å¤æ‚åº¦é«˜</strong>ï¼šè®­ç»ƒå’Œæ¨ç†é€Ÿåº¦æ…¢</li>\n<li><strong>å†…å­˜å ç”¨å¤§</strong>ï¼šå­˜å‚¨å’ŒåŠ è½½æ¨¡å‹å›°éš¾</li>\n</ol>\n</div>\n<p>æ›´é‡è¦çš„æ˜¯ï¼Œå›¾åƒå…·æœ‰<strong>ç©ºé—´å±€éƒ¨æ€§</strong>ç‰¹å¾ â€”â€” ç›¸é‚»åƒç´ é€šå¸¸é«˜åº¦ç›¸å…³ï¼Œè€Œå…¨è¿æ¥ç½‘ç»œæ— æ³•æœ‰æ•ˆåˆ©ç”¨è¿™ç§ç©ºé—´ç»“æ„ä¿¡æ¯ã€‚</p>\n<h1 id=\"cnnçš„æ ¸å¿ƒæ€æƒ³æ„Ÿå—é‡ä¸å‚æ•°å…±äº«\"><a class=\"anchor\" href=\"#cnnçš„æ ¸å¿ƒæ€æƒ³æ„Ÿå—é‡ä¸å‚æ•°å…±äº«\">#</a> CNN çš„æ ¸å¿ƒæ€æƒ³ï¼šæ„Ÿå—é‡ä¸å‚æ•°å…±äº«</h1>\n<h2 id=\"æ„Ÿå—é‡æœºåˆ¶\"><a class=\"anchor\" href=\"#æ„Ÿå—é‡æœºåˆ¶\">#</a> æ„Ÿå—é‡æœºåˆ¶</h2>\n<p>CNN çš„çªç ´æ€§åˆ›æ–°åœ¨äºå¼•å…¥äº†<ins class=\"dot\">æ„Ÿå—é‡</ins>ï¼ˆReceptive Fieldï¼‰æ¦‚å¿µï¼Œè®©æ¯ä¸ªç¥ç»å…ƒåªå…³æ³¨å›¾åƒçš„å±€éƒ¨åŒºåŸŸã€‚</p>\n<details class=\"success\"><summary>æ„Ÿå—é‡è¯¦è§£</summary><div>\n<p>** æ„Ÿå—é‡ï¼ˆReceptive Fieldï¼‰** æ˜¯æŒ‡ç¥ç»ç½‘ç»œä¸­æŸä¸ªç¥ç»å…ƒèƒ½å¤Ÿ &quot;çœ‹åˆ°&quot; çš„è¾“å…¥åŒºåŸŸèŒƒå›´ã€‚åœ¨ CNN ä¸­ï¼š</p>\n<ul>\n<li><strong>å±€éƒ¨è¿æ¥</strong>ï¼šæ¯ä¸ªç¥ç»å…ƒåªä¸è¾“å…¥çš„ä¸€ä¸ªå°åŒºåŸŸç›¸è¿</li>\n<li><strong>é‡å è¦†ç›–</strong>ï¼šä¸åŒç¥ç»å…ƒçš„æ„Ÿå—é‡å¯ä»¥é‡å ï¼Œç¡®ä¿ä¿¡æ¯ä¸ä¸¢å¤±</li>\n<li><strong>å¤šç¥ç»å…ƒåä½œ</strong>ï¼šå¤šä¸ªç¥ç»å…ƒå¯ä»¥è´Ÿè´£åŒä¸€ä¸ªæ„Ÿå—é‡ï¼Œæå–ä¸åŒç‰¹å¾</li>\n<li><strong>é€å±‚æ‰©å¤§</strong>ï¼šéšç€ç½‘ç»œæ·±åº¦å¢åŠ ï¼Œåå±‚ç¥ç»å…ƒçš„æœ‰æ•ˆæ„Ÿå—é‡é€æ¸æ‰©å¤§</li>\n</ul>\n<p>ç»å…¸è®¾ç½®ï¼šæ„Ÿå—é‡å¤§å°é€šå¸¸ä¸º 3Ã—3 æˆ– 5Ã—5ï¼Œè€ƒè™‘æ‰€æœ‰é¢œè‰²é€šé“ã€‚</p>\n</div></details>\n<div class=\"note info no-icon\">\n<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬<ins class=\"dot\">åªéœ€è¦å›¾åƒçš„éƒ¨åˆ†ç‰¹å¾å°±å¯ä»¥è¿›è¡Œæœ‰æ•ˆè¯†åˆ«</ins>ï¼Œæ¯”å¦‚è¯†åˆ«çŒ«å’ªæ—¶ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨è€³æœµã€çœ¼ç›ã€èƒ¡é¡»ç­‰å±€éƒ¨ç‰¹å¾ï¼Œè€Œä¸éœ€è¦åˆ†ææ•´å¼ å›¾ç‰‡çš„æ¯ä¸ªåƒç´ ã€‚</p>\n</div>\n<h2 id=\"å‚æ•°å…±äº«ç­–ç•¥\"><a class=\"anchor\" href=\"#å‚æ•°å…±äº«ç­–ç•¥\">#</a> å‚æ•°å…±äº«ç­–ç•¥</h2>\n<p>CNN çš„ç¬¬äºŒä¸ªå…³é”®åˆ›æ–°æ˜¯<strong>å‚æ•°å…±äº«</strong>ï¼šä¸åŒä½ç½®çš„æ„Ÿå—é‡ä½¿ç”¨ç›¸åŒçš„æƒé‡å‚æ•°ã€‚</p>\n<figure class=\"highlight python\"><figcaption><span>å‚æ•°å…±äº«ç¤ºä¾‹</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¼ ç»Ÿå…¨è¿æ¥ï¼šæ¯ä¸ªè¿æ¥éƒ½æœ‰ç‹¬ç«‹å‚æ•°</span></span><br><span class=\"line\">w1, w2, w3, ..., w_n  <span class=\"comment\"># nä¸ªä¸åŒçš„æƒé‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># CNNå·ç§¯ï¼šæ‰€æœ‰ä½ç½®å…±äº«åŒä¸€ç»„å‚æ•°  </span></span><br><span class=\"line\">w_shared = [w1, w2, w3, ..., w_k]  <span class=\"comment\"># åªæœ‰kä¸ªæƒé‡ï¼ˆk &lt;&lt; nï¼‰</span></span><br><span class=\"line\"><span class=\"comment\"># è¿™ç»„æƒé‡åœ¨æ‰€æœ‰æ„Ÿå—é‡ä½ç½®é‡å¤ä½¿ç”¨</span></span><br></pre></td></tr></table></figure>\n<p><strong>ä¸ºä»€ä¹ˆå¯ä»¥å…±äº«å‚æ•°ï¼Ÿ</strong></p>\n<p>ä¸åŒä½ç½®è¦æ£€æµ‹çš„åŸºæœ¬æ¨¡å¼æ˜¯ç›¸åŒçš„ â€”â€” è¾¹ç¼˜ã€è§’ç‚¹ã€çº¹ç†ç­‰ç‰¹å¾åœ¨å›¾åƒçš„ä»»ä½•ä½ç½®éƒ½å¯èƒ½å‡ºç°ï¼Œå› æ­¤ä½¿ç”¨ç›¸åŒçš„å‚æ•°æ˜¯åˆç†çš„ã€‚</p>\n<h1 id=\"å·ç§¯å±‚cnnçš„æ ¸å¿ƒç»„ä»¶\"><a class=\"anchor\" href=\"#å·ç§¯å±‚cnnçš„æ ¸å¿ƒç»„ä»¶\">#</a> å·ç§¯å±‚ï¼šCNN çš„æ ¸å¿ƒç»„ä»¶</h1>\n<p><strong>å·ç§¯å±‚ = æ„Ÿå—é‡ + å‚æ•°å…±äº«</strong></p>\n<details class=\"info\"><summary>å·ç§¯æ ¸è¯¦è§£</summary><div>\n<p>** å·ç§¯æ ¸ï¼ˆFilter/Kernelï¼‰** æ˜¯ CNN ä¸­çš„ç‰¹å¾æ£€æµ‹å™¨ï¼š</p>\n<ul>\n<li><strong>ç»“æ„</strong>ï¼šé€šå¸¸ä¸º 3Ã—3ã€5Ã—5 æˆ– 7Ã—7 çš„å°çŸ©é˜µ</li>\n<li><strong>åŠŸèƒ½</strong>ï¼šæ£€æµ‹ç‰¹å®šçš„å›¾åƒç‰¹å¾ï¼ˆå¦‚è¾¹ç¼˜ã€è§’ç‚¹ã€çº¹ç†ï¼‰</li>\n<li><strong>å‚æ•°</strong>ï¼šå·ç§¯æ ¸ä¸­çš„æ•°å€¼å°±æ˜¯éœ€è¦å­¦ä¹ çš„æƒé‡å‚æ•°</li>\n<li><strong>æ•°é‡</strong>ï¼šä¸€ä¸ªå·ç§¯å±‚é€šå¸¸åŒ…å«å¤šä¸ªå·ç§¯æ ¸ï¼Œæ¯ä¸ªæ£€æµ‹ä¸åŒç±»å‹çš„ç‰¹å¾</li>\n<li><strong>æ·±åº¦</strong>ï¼šå·ç§¯æ ¸çš„æ·±åº¦å¿…é¡»ç­‰äºè¾“å…¥æ•°æ®çš„é€šé“æ•°</li>\n</ul>\n</div></details>\n<h2 id=\"å·ç§¯æ“ä½œè¿‡ç¨‹\"><a class=\"anchor\" href=\"#å·ç§¯æ“ä½œè¿‡ç¨‹\">#</a> å·ç§¯æ“ä½œè¿‡ç¨‹</h2>\n<ol>\n<li><strong>æ‰«æè¿‡ç¨‹</strong>ï¼šå·ç§¯æ ¸ä»¥æŒ‡å®šçš„æ­¥é•¿ï¼ˆstrideï¼‰åœ¨è¾“å…¥å›¾åƒä¸Šæ»‘åŠ¨</li>\n<li><strong>ç‰¹å¾æå–</strong>ï¼šåœ¨æ¯ä¸ªä½ç½®è¿›è¡Œå…ƒç´ ç›¸ä¹˜å¹¶æ±‚å’Œ</li>\n<li><strong>ç”Ÿæˆç‰¹å¾å›¾</strong>ï¼šæ¯ä¸ªå·ç§¯æ ¸æ‰«è¿‡æ•´å¼ å›¾åï¼Œç”Ÿæˆä¸€å¼ <strong>ç‰¹å¾å›¾ï¼ˆFeature Mapï¼‰</strong></li>\n</ol>\n<details class=\"warning\"><summary>æ­¥é•¿è®¾ç½®</summary><div>\n<p>** æ­¥é•¿ï¼ˆStrideï¼‰** æ§åˆ¶å·ç§¯æ ¸çš„ç§»åŠ¨è·ç¦»ï¼š</p>\n<ul>\n<li><strong>stride = 1</strong>ï¼šå·ç§¯æ ¸æ¯æ¬¡ç§»åŠ¨ 1 ä¸ªåƒç´ ï¼Œç‰¹å¾å›¾å°ºå¯¸è¾ƒå¤§ï¼Œä¿¡æ¯ä¿ç•™æ›´å®Œæ•´</li>\n<li><strong>stride = 2</strong>ï¼šå·ç§¯æ ¸æ¯æ¬¡ç§»åŠ¨ 2 ä¸ªåƒç´ ï¼Œç‰¹å¾å›¾å°ºå¯¸ç¼©å°ä¸€åŠï¼Œè®¡ç®—æ›´é«˜æ•ˆ</li>\n</ul>\n<p>ç»å…¸è®¾ç½®é€šå¸¸ä½¿ç”¨ stride = 1 æˆ– 2ã€‚å½“å·ç§¯æ ¸ç§»åŠ¨è¶…å‡ºå›¾åƒè¾¹ç•Œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ** å¡«å……ï¼ˆPaddingï¼‰** æ¥å¤„ç†è¾¹ç•Œé—®é¢˜ã€‚</p>\n</div></details>\n<h2 id=\"å¤šå±‚å·ç§¯çš„å±‚æ¬¡åŒ–ç‰¹å¾å­¦ä¹ \"><a class=\"anchor\" href=\"#å¤šå±‚å·ç§¯çš„å±‚æ¬¡åŒ–ç‰¹å¾å­¦ä¹ \">#</a> å¤šå±‚å·ç§¯çš„å±‚æ¬¡åŒ–ç‰¹å¾å­¦ä¹ </h2>\n<figure class=\"highlight python\"><figcaption><span>å·ç§¯å±‚çº§ç¤ºä¾‹</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç¬¬ä¸€å±‚å·ç§¯ï¼šæ£€æµ‹åŸºç¡€ç‰¹å¾</span></span><br><span class=\"line\">input_shape: (H, W, <span class=\"number\">3</span>)      <span class=\"comment\"># åŸå§‹RGBå›¾åƒ</span></span><br><span class=\"line\">filter_1: <span class=\"number\">32</span>ä¸ª<span class=\"number\">3</span>Ã—<span class=\"number\">3</span>Ã—<span class=\"number\">3</span>å·ç§¯æ ¸    <span class=\"comment\"># è¾“å‡º32ä¸ªç‰¹å¾å›¾</span></span><br><span class=\"line\">output_1: (H<span class=\"string\">&#x27;, W&#x27;</span>, <span class=\"number\">32</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ç¬¬äºŒå±‚å·ç§¯ï¼šç»„åˆåŸºç¡€ç‰¹å¾  </span></span><br><span class=\"line\">filter_2: <span class=\"number\">64</span>ä¸ª<span class=\"number\">3</span>Ã—<span class=\"number\">3</span>Ã—<span class=\"number\">32</span>å·ç§¯æ ¸   <span class=\"comment\"># å¤„ç†32ä¸ªè¾“å…¥é€šé“</span></span><br><span class=\"line\">output_2: (H<span class=\"string\">&#x27;&#x27;</span>, W<span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">64</span>)    <span class=\"comment\"># è¾“å‡º64ä¸ªæ›´å¤æ‚çš„ç‰¹å¾å›¾</span></span><br></pre></td></tr></table></figure>\n<div class=\"note success no-icon\">\n<p><strong>å±‚æ¬¡åŒ–ç‰¹å¾å­¦ä¹ </strong>ï¼š</p>\n<ul>\n<li><strong>æµ…å±‚</strong>ï¼šæ£€æµ‹è¾¹ç¼˜ã€è§’ç‚¹ç­‰åŸºç¡€ç‰¹å¾</li>\n<li><strong>ä¸­å±‚</strong>ï¼šç»„åˆåŸºç¡€ç‰¹å¾å½¢æˆçº¹ç†ã€å½¢çŠ¶</li>\n<li><strong>æ·±å±‚</strong>ï¼šå½¢æˆé«˜çº§è¯­ä¹‰ç‰¹å¾ï¼Œå¦‚ç‰©ä½“éƒ¨åˆ†</li>\n</ul>\n</div>\n<h1 id=\"æ± åŒ–å±‚é™ç»´ä¸æŠ—å¹²æ‰°\"><a class=\"anchor\" href=\"#æ± åŒ–å±‚é™ç»´ä¸æŠ—å¹²æ‰°\">#</a> æ± åŒ–å±‚ï¼šé™ç»´ä¸æŠ—å¹²æ‰°</h1>\n<p>åœ¨å·ç§¯å±‚ä¹‹åï¼Œé€šå¸¸ä¼šæ·»åŠ  ** æ± åŒ–å±‚ï¼ˆPooling Layerï¼‰** æ¥å‡å°‘ç‰¹å¾å›¾çš„ç©ºé—´ç»´åº¦ã€‚</p>\n<details class=\"primary\"><summary>æœ€å¤§æ± åŒ–è¯¦è§£</summary><div>\n<p>** æœ€å¤§æ± åŒ–ï¼ˆMax Poolingï¼‰** æ˜¯æœ€å¸¸ç”¨çš„æ± åŒ–æ“ä½œï¼š</p>\n<ul>\n<li><strong>æ“ä½œ</strong>ï¼šåœ¨æŒ‡å®šåŒºåŸŸå†…é€‰æ‹©æœ€å¤§å€¼ä½œä¸ºè¾“å‡º</li>\n<li><strong>çª—å£å¤§å°</strong>ï¼šé€šå¸¸ä¸º 2Ã—2 æˆ– 3Ã—3</li>\n<li><strong>æ•ˆæœ</strong>ï¼š\n<ul>\n<li>å‡å°‘å‚æ•°æ•°é‡å’Œè®¡ç®—é‡</li>\n<li>æä¾›å¹³ç§»ä¸å˜æ€§ï¼ˆè½»å¾®ä½ç§»ä¸å½±å“ç»“æœï¼‰</li>\n<li>ä¿ç•™æœ€æ˜¾è‘—çš„ç‰¹å¾ä¿¡æ¯</li>\n</ul>\n</li>\n</ul>\n<p><strong>ç¤ºä¾‹</strong>ï¼š2Ã—2 æœ€å¤§æ± åŒ–å°† 4 ä¸ªå€¼ç¼©å‡ä¸º 1 ä¸ªå€¼ï¼Œç‰¹å¾å›¾å°ºå¯¸å‡åŠã€‚</p>\n</div></details>\n<figure class=\"highlight python\"><figcaption><span>æ± åŒ–å±‚ç¤ºä¾‹ mark:3</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2Ã—2æœ€å¤§æ± åŒ–ï¼Œæ­¥é•¿ä¸º2</span></span><br><span class=\"line\">max_pool = nn.MaxPool2d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\"># è¾“å…¥: (batch_size, channels, 28, 28)</span></span><br><span class=\"line\"><span class=\"comment\"># è¾“å‡º: (batch_size, channels, 14, 14)</span></span><br></pre></td></tr></table></figure>\n<div class=\"note warning no-icon\">\n<p>æ± åŒ–æ“ä½œçš„æƒè¡¡ï¼š</p>\n<ul>\n<li><strong>ä¼˜ç‚¹</strong>ï¼šå‡å°‘è®¡ç®—é‡ï¼Œå¢å¼ºé²æ£’æ€§</li>\n<li><strong>ç¼ºç‚¹</strong>ï¼šä¼šä¸¢å¤±éƒ¨åˆ†ç©ºé—´ä¿¡æ¯å’Œç²¾åº¦</li>\n</ul>\n</div>\n<h1 id=\"cnnå®Œæ•´æ¶æ„æµç¨‹\"><a class=\"anchor\" href=\"#cnnå®Œæ•´æ¶æ„æµç¨‹\">#</a> CNN å®Œæ•´æ¶æ„æµç¨‹</h1>\n<h2 id=\"æ ‡å‡†cnnå·¥ä½œæµç¨‹\"><a class=\"anchor\" href=\"#æ ‡å‡†cnnå·¥ä½œæµç¨‹\">#</a> æ ‡å‡† CNN å·¥ä½œæµç¨‹</h2>\n<figure class=\"highlight python\"><figcaption><span>CNNå®Œæ•´æµç¨‹ mark:5,10,15</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1. è¾“å…¥å±‚</span></span><br><span class=\"line\">input_image = torch.randn(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">224</span>, <span class=\"number\">224</span>)  <span class=\"comment\"># RGBå›¾åƒ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2. å·ç§¯ + æ± åŒ–æ¨¡å—ï¼ˆå¯é‡å¤å¤šæ¬¡ï¼‰</span></span><br><span class=\"line\">conv1 = nn.Conv2d(<span class=\"number\">3</span>, <span class=\"number\">32</span>, <span class=\"number\">3</span>, padding=<span class=\"number\">1</span>)     <span class=\"comment\"># ç¬¬ä¸€ä¸ªå·ç§¯å±‚</span></span><br><span class=\"line\">pool1 = nn.MaxPool2d(<span class=\"number\">2</span>, <span class=\"number\">2</span>)                 <span class=\"comment\"># ç¬¬ä¸€ä¸ªæ± åŒ–å±‚</span></span><br><span class=\"line\">conv2 = nn.Conv2d(<span class=\"number\">32</span>, <span class=\"number\">64</span>, <span class=\"number\">3</span>, padding=<span class=\"number\">1</span>)    <span class=\"comment\"># ç¬¬äºŒä¸ªå·ç§¯å±‚  </span></span><br><span class=\"line\">pool2 = nn.MaxPool2d(<span class=\"number\">2</span>, <span class=\"number\">2</span>)                 <span class=\"comment\"># ç¬¬äºŒä¸ªæ± åŒ–å±‚</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3. å±•å¹³å±‚ï¼ˆFlattenï¼‰</span></span><br><span class=\"line\">flatten = nn.Flatten()                      <span class=\"comment\"># å°†3Dç‰¹å¾å›¾æ‹‰ç›´ä¸º1Då‘é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4. å…¨è¿æ¥å±‚</span></span><br><span class=\"line\">fc1 = nn.Linear(<span class=\"number\">64</span> * <span class=\"number\">56</span> * <span class=\"number\">56</span>, <span class=\"number\">512</span>)         <span class=\"comment\"># ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚</span></span><br><span class=\"line\">fc2 = nn.Linear(<span class=\"number\">512</span>, <span class=\"number\">10</span>)                   <span class=\"comment\"># è¾“å‡ºå±‚ï¼ˆå¦‚10åˆ†ç±»ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5. æ¿€æ´»å‡½æ•°å’Œæœ€ç»ˆè¾“å‡º</span></span><br><span class=\"line\">softmax = nn.Softmax(dim=<span class=\"number\">1</span>)                <span class=\"comment\"># åˆ†ç±»æ¦‚ç‡è¾“å‡º</span></span><br></pre></td></tr></table></figure>\n<details class=\"info\"><summary>å±•å¹³æ“ä½œè¯¦è§£</summary><div>\n<p>** å±•å¹³ï¼ˆFlattenï¼‰** æ˜¯è¿æ¥å·ç§¯éƒ¨åˆ†å’Œå…¨è¿æ¥éƒ¨åˆ†çš„å…³é”®æ­¥éª¤ï¼š</p>\n<ul>\n<li><strong>ç›®çš„</strong>ï¼šå°†å¤šç»´ç‰¹å¾å›¾è½¬æ¢ä¸ºä¸€ç»´å‘é‡</li>\n<li><strong>è¿‡ç¨‹</strong>ï¼šå°† (æ‰¹é‡å¤§å°ï¼Œé€šé“æ•°ï¼Œé«˜åº¦ï¼Œå®½åº¦) çš„ 4D å¼ é‡é‡å¡‘ä¸º (æ‰¹é‡å¤§å°ï¼Œç‰¹å¾æ•°) çš„ 2D å¼ é‡</li>\n<li><strong>ä½ç½®</strong>ï¼šé€šå¸¸æ”¾åœ¨æœ€åä¸€ä¸ªæ± åŒ–å±‚ä¹‹åï¼Œç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚ä¹‹å‰</li>\n</ul>\n<p><strong>ç¤ºä¾‹</strong>ï¼š(32, 128, 7, 7) â†’ (32, 6272)ï¼Œå…¶ä¸­ 6272 = 128 Ã— 7 Ã— 7</p>\n</div></details>\n<h2 id=\"æ•°æ®é¢„å¤„ç†one-hotç¼–ç \"><a class=\"anchor\" href=\"#æ•°æ®é¢„å¤„ç†one-hotç¼–ç \">#</a> æ•°æ®é¢„å¤„ç†ï¼šOne-Hot ç¼–ç </h2>\n<p>åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ï¼ŒCNN é€šå¸¸ä½¿ç”¨<strong> One-Hot ç¼–ç </strong>æ¥è¡¨ç¤ºç±»åˆ«æ ‡ç­¾ï¼š</p>\n<figure class=\"highlight python\"><figcaption><span>One-Hotç¼–ç ç¤ºä¾‹</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># åŸå§‹æ ‡ç­¾ï¼ˆå¦‚10ç±»åˆ†ç±»ï¼‰</span></span><br><span class=\"line\">label = <span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># One-Hotç¼–ç </span></span><br><span class=\"line\">one_hot = [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"comment\">#          ç±»åˆ«: 0  1  2  3  4  5  6  7  8  9</span></span><br></pre></td></tr></table></figure>\n<div class=\"note info no-icon\">\n<p>One-Hot ç¼–ç çš„ä¼˜åŠ¿ï¼š</p>\n<ul>\n<li>é¿å…ç±»åˆ«é—´çš„å¤§å°å…³ç³»å‡è®¾</li>\n<li>ä¾¿äºè®¡ç®—äº¤å‰ç†µæŸå¤±å‡½æ•°</li>\n<li>è¾“å‡ºæ¦‚ç‡åˆ†å¸ƒæ›´åŠ ç›´è§‚</li>\n</ul>\n</div>\n<h1 id=\"æ•°æ®å¢å¼ºå¤„ç†å°ºå¯¸å˜åŒ–\"><a class=\"anchor\" href=\"#æ•°æ®å¢å¼ºå¤„ç†å°ºå¯¸å˜åŒ–\">#</a> æ•°æ®å¢å¼ºï¼šå¤„ç†å°ºå¯¸å˜åŒ–</h1>\n<p>CNN å¯¹è¾“å…¥å›¾åƒå°ºå¯¸è¾ƒä¸ºæ•æ„Ÿï¼Œæ— æ³•ç›´æ¥å¤„ç†ä¸åŒå¤§å°çš„å›¾åƒã€‚å› æ­¤éœ€è¦è¿›è¡Œ<strong>æ•°æ®å¢å¼ºï¼ˆData Augmentationï¼‰</strong>ã€‚</p>\n<div class=\"tab\" data-id=\"augmentation\" data-title=\"å¸¸è§æ•°æ®å¢å¼ºæŠ€æœ¯\">\n<p><strong>å‡ ä½•å˜æ¢</strong>ï¼š</p>\n<ul>\n<li>éšæœºè£å‰ªå’Œç¼©æ”¾</li>\n<li>æ—‹è½¬å’Œç¿»è½¬</li>\n<li>å¹³ç§»å’Œé”™åˆ‡</li>\n</ul>\n<p><strong>é¢œè‰²å˜æ¢</strong>ï¼š</p>\n<ul>\n<li>äº®åº¦å’Œå¯¹æ¯”åº¦è°ƒæ•´</li>\n<li>è‰²ç›¸å’Œé¥±å’Œåº¦å˜åŒ–</li>\n<li>éšæœºæ“¦é™¤éƒ¨åˆ†åŒºåŸŸ</li>\n</ul>\n</div>\n<div class=\"tab\" data-id=\"benefits\" data-title=\"æ•°æ®å¢å¼ºçš„ä½œç”¨\">\n<p><strong>æå‡æ¨¡å‹æ³›åŒ–èƒ½åŠ›</strong>ï¼š</p>\n<ul>\n<li>å¢åŠ è®­ç»ƒæ•°æ®çš„å¤šæ ·æ€§</li>\n<li>å‡å°‘è¿‡æ‹Ÿåˆé£é™©</li>\n<li>æé«˜å¯¹å›¾åƒå˜åŒ–çš„é²æ£’æ€§</li>\n</ul>\n<p><strong>ç»Ÿä¸€è¾“å…¥æ ¼å¼</strong>ï¼š</p>\n<ul>\n<li>å°†ä¸åŒå°ºå¯¸å›¾åƒè°ƒæ•´ä¸ºå›ºå®šå¤§å°</li>\n<li>ä¿æŒæ¨¡å‹æ¶æ„çš„ä¸€è‡´æ€§</li>\n</ul>\n</div>\n<figure class=\"highlight python\"><figcaption><span>æ•°æ®å¢å¼ºä»£ç ç¤ºä¾‹ mark:2-4</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> torchvision <span class=\"keyword\">import</span> transforms</span><br><span class=\"line\"></span><br><span class=\"line\">transform = transforms.Compose([</span><br><span class=\"line\">    transforms.RandomResizedCrop(<span class=\"number\">224</span>),      <span class=\"comment\"># éšæœºè£å‰ªåˆ°224Ã—224</span></span><br><span class=\"line\">    transforms.RandomHorizontalFlip(),      <span class=\"comment\"># éšæœºæ°´å¹³ç¿»è½¬</span></span><br><span class=\"line\">    transforms.ColorJitter(<span class=\"number\">0.1</span>, <span class=\"number\">0.1</span>, <span class=\"number\">0.1</span>), <span class=\"comment\"># é¢œè‰²æŠ–åŠ¨</span></span><br><span class=\"line\">    transforms.ToTensor(),                  <span class=\"comment\"># è½¬æ¢ä¸ºå¼ é‡</span></span><br><span class=\"line\">    transforms.Normalize([<span class=\"number\">0.485</span>, <span class=\"number\">0.456</span>, <span class=\"number\">0.406</span>], </span><br><span class=\"line\">                        [<span class=\"number\">0.229</span>, <span class=\"number\">0.224</span>, <span class=\"number\">0.225</span>]) <span class=\"comment\"># æ ‡å‡†åŒ–</span></span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h1 id=\"cnnçš„ä¼˜åŠ¿ä¸åº”ç”¨\"><a class=\"anchor\" href=\"#cnnçš„ä¼˜åŠ¿ä¸åº”ç”¨\">#</a> CNN çš„ä¼˜åŠ¿ä¸åº”ç”¨</h1>\n<p>CNN ç›¸æ¯”ä¼ ç»Ÿæ–¹æ³•å…·æœ‰ä»¥ä¸‹æ˜¾è‘—ä¼˜åŠ¿ï¼š</p>\n<ul class=\"task-list success\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_0\"> <strong>å‚æ•°æ•ˆç‡</strong>ï¼šé€šè¿‡å‚æ•°å…±äº«å¤§å¹…å‡å°‘æ¨¡å‹å‚æ•°</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_1\"> <strong>ç©ºé—´ä¸å˜æ€§</strong>ï¼šå¯¹å›¾åƒä¸­ç‰©ä½“çš„ä½ç½®å˜åŒ–å…·æœ‰é²æ£’æ€§</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_2\"> <strong>å±‚æ¬¡åŒ–ç‰¹å¾å­¦ä¹ </strong>ï¼šè‡ªåŠ¨å­¦ä¹ ä»ä½çº§åˆ°é«˜çº§çš„ç‰¹å¾è¡¨ç¤º</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_3\"> <strong>ç«¯åˆ°ç«¯è®­ç»ƒ</strong>ï¼šå¯ä»¥ç›´æ¥ä»åŸå§‹åƒç´ å­¦ä¹ åˆ°æœ€ç»ˆåˆ†ç±»ç»“æœ</label></li>\n</ul>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "æ·±åº¦å­¦ä¹ ",
                "ç¥ç»ç½‘ç»œ",
                "CNN",
                "å·ç§¯ç¥ç»ç½‘ç»œ",
                "å›¾åƒè¯†åˆ«",
                "è®¡ç®—æœºè§†è§‰",
                "ç‰¹å¾æå–",
                "æ± åŒ–"
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/%E6%89%B9%E9%87%8F%E5%BD%92%E4%B8%80%E5%8C%96/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/%E6%89%B9%E9%87%8F%E5%BD%92%E4%B8%80%E5%8C%96/",
            "title": "æ‰¹é‡å½’ä¸€åŒ–",
            "date_published": "2025-07-09T06:17:30.000Z",
            "content_html": "<h1 id=\"æ‰¹é‡å½’ä¸€åŒ–-batch-normalization\"><a class=\"anchor\" href=\"#æ‰¹é‡å½’ä¸€åŒ–-batch-normalization\">#</a> æ‰¹é‡å½’ä¸€åŒ– (Batch Normalization)</h1>\n<p>æ‰¹é‡å½’ä¸€åŒ–æ˜¯æ·±åº¦å­¦ä¹ ä¸­çš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼Œé€šè¿‡å¯¹ç½‘ç»œä¸­é—´å±‚çš„è¾“å…¥è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæœ‰æ•ˆè§£å†³äº†æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒä¸­çš„è¯¸å¤šé—®é¢˜ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨æ‰¹é‡å½’ä¸€åŒ–çš„åŸç†ã€å®ç°æ–¹æ³•ä»¥åŠåœ¨å®é™…åº”ç”¨ä¸­çš„è€ƒè™‘å› ç´ ã€‚</p>\n<h2 id=\"ç‰¹å¾å½’ä¸€åŒ–çš„å¿…è¦æ€§\"><a class=\"anchor\" href=\"#ç‰¹å¾å½’ä¸€åŒ–çš„å¿…è¦æ€§\">#</a> ç‰¹å¾å½’ä¸€åŒ–çš„å¿…è¦æ€§</h2>\n<p>åœ¨æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­ï¼Œä¸åŒç‰¹å¾ç»´åº¦çš„æ•°å€¼èŒƒå›´å¾€å¾€å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚è¿™ç§å·®å¼‚ä¼šå¯¼è‡´ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼š<strong>èŒƒå›´å˜åŒ–å°çš„ç‰¹å¾å¯¹æ¨¡å‹ç»“æœå½±å“è¾ƒå°ï¼Œè€ŒèŒƒå›´å˜åŒ–å¤§çš„ç‰¹å¾å¯¹ç»“æœå½±å“è¿‡å¤§</strong>ã€‚</p>\n<details class=\"info\"><summary>ç‰¹å¾å½’ä¸€åŒ–è¯¦è§£</summary><div>\n<p>ç‰¹å¾å½’ä¸€åŒ– (Feature Normalization) æ˜¯æœºå™¨å­¦ä¹ é¢„å¤„ç†ä¸­çš„å…³é”®æ­¥éª¤ï¼Œå…¶ç›®çš„æ˜¯å°†ä¸åŒé‡çº²å’Œæ•°å€¼èŒƒå›´çš„ç‰¹å¾ç»Ÿä¸€åˆ°ç›¸åŒçš„å°ºåº¦ä¸Šã€‚</p>\n<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç‰¹å¾å½’ä¸€åŒ–ï¼Ÿ</strong></p>\n<ol>\n<li><strong>é¿å…ç‰¹å¾åå€š</strong>ï¼šæ•°å€¼èŒƒå›´å¤§çš„ç‰¹å¾ä¼šä¸»å¯¼æ¨¡å‹çš„å­¦ä¹ è¿‡ç¨‹</li>\n<li><strong>åŠ é€Ÿæ”¶æ•›</strong>ï¼šå½’ä¸€åŒ–åçš„ç‰¹å¾ä½¿å¾—æ¢¯åº¦ä¸‹é™æ›´åŠ ç¨³å®šå’Œå¿«é€Ÿ</li>\n<li><strong>æé«˜æ•°å€¼ç¨³å®šæ€§</strong>ï¼šé˜²æ­¢å› æ•°å€¼è¿‡å¤§æˆ–è¿‡å°å¯¼è‡´çš„è®¡ç®—é—®é¢˜</li>\n</ol>\n<p><strong>å¸¸è§çš„å½’ä¸€åŒ–æ–¹æ³•</strong>:</p>\n<ul>\n<li><strong>æ ‡å‡†åŒ– (Z-score)</strong>: å°†æ•°æ®è½¬æ¢ä¸ºå‡å€¼ä¸º 0ï¼Œæ ‡å‡†å·®ä¸º 1 çš„åˆ†å¸ƒ</li>\n<li><strong>æœ€å° - æœ€å¤§å½’ä¸€åŒ–</strong>ï¼šå°†æ•°æ®ç¼©æ”¾åˆ° [0,1] åŒºé—´</li>\n<li><strong>é²æ£’å½’ä¸€åŒ–</strong>ï¼šä½¿ç”¨ä¸­ä½æ•°å’Œå››åˆ†ä½æ•°è¿›è¡Œå½’ä¸€åŒ–ï¼Œå¯¹å¼‚å¸¸å€¼æ›´åŠ é²æ£’</li>\n</ul>\n</div></details>\n<div class=\"note info\">\n<p>è§£å†³æ–¹æ¡ˆï¼šå¯¹äºæ¯ä¸€ä¸ªç‰¹å¾ç»´åº¦ï¼Œåˆ†åˆ«æ±‚å…¶å¹³å‡å€¼å’Œæ ‡å‡†å·®ï¼Œç„¶åè¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚</p>\n</div>\n<p>æ ‡å‡†åŒ–çš„æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mover accent=\"true\"><mi>x</mi><mo>~</mo></mover><mi>i</mi><mi>r</mi></msubsup><mo>=</mo><mfrac><mrow><msubsup><mi>x</mi><mi>i</mi><mi>r</mi></msubsup><mo>âˆ’</mo><msub><mi>Î¼</mi><mi>i</mi></msub></mrow><msub><mi>Ïƒ</mi><mi>i</mi></msub></mfrac></mrow><annotation encoding=\"application/x-tex\">\\tilde{x}^r_i = \\frac{x^r_i - \\mu_i}{\\sigma_i}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9613919999999999em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6678599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.35em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.22222em;\"><span class=\"mord\">~</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.177392em;vertical-align:-0.8360000000000001em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.341392em;\"><span style=\"top:-2.3139999999999996em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-2.441336em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î¼</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8360000000000001em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">x^r_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.923056em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-2.441336em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç¬¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> ä¸ªæ ·æœ¬åœ¨ç¬¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> ä¸ªç‰¹å¾ç»´åº¦ä¸Šçš„åŸå§‹å€¼</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Î¼</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mu_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î¼</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç¬¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> ä¸ªç‰¹å¾ç»´åº¦çš„å‡å€¼</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Ïƒ</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\sigma_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç¬¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> ä¸ªç‰¹å¾ç»´åº¦çš„æ ‡å‡†å·®</li>\n</ul>\n<details class=\"warning\"><summary>æ ‡å‡†å·®è¯¦è§£</summary><div>\n<p>æ ‡å‡†å·® (Standard Deviation) æ˜¯è¡¡é‡æ•°æ®åˆ†æ•£ç¨‹åº¦çš„é‡è¦ç»Ÿè®¡é‡ï¼Œç”¨ç¬¦å· <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span></span></span></span> è¡¨ç¤ºã€‚</p>\n<p><strong>æ•°å­¦å®šä¹‰</strong>:</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Ïƒ</mi><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><mi>Î¼</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sigma = \\sqrt{\\frac{1}{n}\\sum_{i=1}^{n}(x_i - \\mu)^2}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.1568160000000005em;vertical-align:-1.277669em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8791470000000006em;\"><span class=\"svg-align\" style=\"top:-5.116816em;\"><span class=\"pstrut\" style=\"height:5.116816em;\"></span><span class=\"mord\" style=\"padding-left:1.056em;\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6513970000000002em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\">Î¼</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.8391470000000005em;\"><span class=\"pstrut\" style=\"height:5.116816em;\"></span><span class=\"hide-tail\" style=\"min-width:0.742em;height:3.196816em;\"><svg width='400em' height='3.196816em' viewBox='0 0 400000 3196' preserveAspectRatio='xMinYMin slice'><path d='M702 80H40000040\nH742v3062l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ç‰©ç†æ„ä¹‰</strong>:</p>\n<ul>\n<li>æ ‡å‡†å·®è¶Šå°ï¼Œæ•°æ®è¶Šé›†ä¸­åœ¨å‡å€¼é™„è¿‘</li>\n<li>æ ‡å‡†å·®è¶Šå¤§ï¼Œæ•°æ®è¶Šåˆ†æ•£</li>\n<li>åœ¨å½’ä¸€åŒ–è¿‡ç¨‹ä¸­ï¼Œæ ‡å‡†å·®ç”¨äºè°ƒèŠ‚ç¼©æ”¾çš„å¹…åº¦</li>\n</ul>\n<p><strong>åœ¨æ·±åº¦å­¦ä¹ ä¸­çš„ä½œç”¨</strong>:</p>\n<ul>\n<li>é€šè¿‡æ ‡å‡†å·®è¿›è¡Œé™¤æ³•è¿ç®—ï¼Œä½¿å¾—å„ä¸ªç‰¹å¾çš„æ–¹å·®ç»Ÿä¸€</li>\n<li>ä¿è¯ä¸åŒç‰¹å¾å¯¹æ¨¡å‹çš„è´¡çŒ®ç›¸å¯¹å¹³è¡¡</li>\n</ul>\n</div></details>\n<h2 id=\"æ·±åº¦ç½‘ç»œä¸­çš„å½’ä¸€åŒ–æŒ‘æˆ˜\"><a class=\"anchor\" href=\"#æ·±åº¦ç½‘ç»œä¸­çš„å½’ä¸€åŒ–æŒ‘æˆ˜\">#</a> æ·±åº¦ç½‘ç»œä¸­çš„å½’ä¸€åŒ–æŒ‘æˆ˜</h2>\n<p>å¯¹äºå¤šå±‚çš„æ·±åº¦å­¦ä¹ ç½‘ç»œï¼Œæƒ…å†µå˜å¾—æ›´åŠ å¤æ‚ã€‚ä¸ºäº†ä¿è¯è¿›å…¥ä¸‹ä¸€å±‚å‰çš„è¾“å…¥èŒƒå›´ä¸ä¼šäº§ç”Ÿå¤ªå¤§å˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç½‘ç»œçš„å„ä¸ªå±‚æ¬¡éƒ½è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚</p>\n<p>è¿™ç§æ ‡å‡†åŒ–å¯ä»¥åœ¨<strong>æ¿€æ´»å‡½æ•°ä¹‹å‰æˆ–ä¹‹å</strong>è¿›è¡Œï¼š</p>\n<div class=\"tab\" data-id=\"card1\" data-title=\"æ¿€æ´»å‰å½’ä¸€åŒ–\">\n<p>åœ¨æ¿€æ´»å‡½æ•°ä¹‹å‰è¿›è¡Œå½’ä¸€åŒ–ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¼ªä»£ç ç¤ºä¾‹</span></span><br><span class=\"line\">z = linear_layer(x)</span><br><span class=\"line\">z_normalized = batch_norm(z)</span><br><span class=\"line\">output = activation(z_normalized)</span><br></pre></td></tr></table></figure>\n<p><strong>ä¼˜ç‚¹</strong>:</p>\n<ul>\n<li>ç¡®ä¿æ¿€æ´»å‡½æ•°æ¥æ”¶åˆ°æ ‡å‡†åŒ–çš„è¾“å…¥</li>\n<li>æœ‰åˆ©äºæ¿€æ´»å‡½æ•°å·¥ä½œåœ¨æœ€ä½³åŒºé—´</li>\n</ul>\n</div>\n<div class=\"tab\" data-id=\"card1\" data-title=\"æ¿€æ´»åå½’ä¸€åŒ–\">\n<p>åœ¨æ¿€æ´»å‡½æ•°ä¹‹åè¿›è¡Œå½’ä¸€åŒ–ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¼ªä»£ç ç¤ºä¾‹</span></span><br><span class=\"line\">z = linear_layer(x)</span><br><span class=\"line\">activated = activation(z)</span><br><span class=\"line\">output = batch_norm(activated)</span><br></pre></td></tr></table></figure>\n<p><strong>ä¼˜ç‚¹</strong>:</p>\n<ul>\n<li>ç›´æ¥æ ‡å‡†åŒ–ç‰¹å¾è¡¨ç¤º</li>\n<li>æŸäº›æƒ…å†µä¸‹å¯èƒ½æ›´åŠ ç¨³å®š</li>\n</ul>\n</div>\n<div class=\"note warning\">\n<p>ç”±äºè¿›è¡Œå½’ä¸€åŒ–æ—¶ï¼Œå¹³å‡å€¼å’Œæ ‡å‡†å·®ä¼šå¯¹æ‰€æœ‰è¾“å…¥å¯¹è±¡äº§ç”Ÿå½±å“ï¼Œå› æ­¤æ‰€æœ‰çš„è¾“å…¥æ•°æ®å®é™…ä¸Šå˜æˆäº†ä¸€ä¸ªç›¸äº’å…³è”çš„æ•´ä½“ã€‚</p>\n</div>\n<h2 id=\"å†…éƒ¨åå˜é‡åç§»é—®é¢˜\"><a class=\"anchor\" href=\"#å†…éƒ¨åå˜é‡åç§»é—®é¢˜\">#</a> å†…éƒ¨åå˜é‡åç§»é—®é¢˜</h2>\n<details class=\"danger\"><summary>å†…éƒ¨åå˜é‡åç§»è¯¦è§£</summary><div>\n<p>å†…éƒ¨åå˜é‡åç§» (Internal Covariate Shift) æ˜¯æ·±åº¦å­¦ä¹ ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œç”± Google çš„ç ”ç©¶å›¢é˜Ÿåœ¨æ‰¹é‡å½’ä¸€åŒ–è®ºæ–‡ä¸­æå‡ºã€‚</p>\n<p><strong>ä»€ä¹ˆæ˜¯åå˜é‡åç§»ï¼Ÿ</strong><br />\nåå˜é‡åç§»æŒ‡çš„æ˜¯è¾“å…¥æ•°æ®åˆ†å¸ƒçš„æ”¹å˜ã€‚åœ¨æ·±åº¦ç½‘ç»œä¸­ï¼Œç”±äºå‰é¢å±‚çš„å‚æ•°æ›´æ–°ï¼Œæ¯ä¸€å±‚çš„è¾“å…¥åˆ†å¸ƒéƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>\n<p><strong>å†…éƒ¨åå˜é‡åç§»çš„å½±å“</strong>:</p>\n<ol>\n<li><strong>è®­ç»ƒé€Ÿåº¦å˜æ…¢</strong>ï¼šæ¯å±‚éƒ½éœ€è¦é€‚åº”æ–°çš„è¾“å…¥åˆ†å¸ƒ</li>\n<li><strong>æ¢¯åº¦æ¶ˆå¤± / çˆ†ç‚¸</strong>ï¼šåˆ†å¸ƒå˜åŒ–å¯èƒ½å¯¼è‡´æ¢¯åº¦ä¼ æ’­é—®é¢˜</li>\n<li><strong>å‚æ•°åˆå§‹åŒ–æ•æ„Ÿ</strong>ï¼šå¯¹åˆå§‹åŒ–æ–¹æ³•è¦æ±‚æ›´é«˜</li>\n<li><strong>å­¦ä¹ ç‡é™åˆ¶</strong>ï¼šéœ€è¦ä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡ä»¥ä¿è¯ç¨³å®šæ€§</li>\n</ol>\n<p><strong>æ‰¹é‡å½’ä¸€åŒ–çš„è§£å†³æ€è·¯</strong>:<br />\n é€šè¿‡åœ¨æ¯ä¸€å±‚å¼ºåˆ¶è¾“å…¥ä¿æŒç›¸å¯¹ç¨³å®šçš„åˆ†å¸ƒï¼ˆå‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1ï¼‰ï¼Œå‡å°‘å†…éƒ¨åå˜é‡åç§»çš„å½±å“ã€‚</p>\n</div></details>\n<h2 id=\"æ‰¹é‡å½’ä¸€åŒ–çš„å®ç°\"><a class=\"anchor\" href=\"#æ‰¹é‡å½’ä¸€åŒ–çš„å®ç°\">#</a> æ‰¹é‡å½’ä¸€åŒ–çš„å®ç°</h2>\n<h3 id=\"åŸºæœ¬åŸç†\"><a class=\"anchor\" href=\"#åŸºæœ¬åŸç†\">#</a> åŸºæœ¬åŸç†</h3>\n<p>ä½†æ˜¯ï¼Œç›´æ¥å¤„ç†æ‰€æœ‰è¾“å…¥æ•°æ®åœ¨è®¡ç®—ä¸Šæ˜¯ä¸ç°å®çš„ã€‚æˆ‘ä»¬æ— æ³•ä¸€æ¬¡æ€§è¾“å…¥æ‰€æœ‰æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå› æ­¤éœ€è¦å°†è¾“å…¥åˆ†ä¸ºå¤šä¸ª batchï¼ˆæ‰¹æ¬¡ï¼‰ï¼Œåœ¨æ¯ä¸ª batch å†…éƒ¨è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ã€‚</p>\n<p>æ‰¹é‡å½’ä¸€åŒ–çš„æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mover accent=\"true\"><mi>z</mi><mo>~</mo></mover><mi>i</mi></msup><mo>=</mo><mfrac><mrow><msup><mi>z</mi><mi>i</mi></msup><mo>âˆ’</mo><mi>Î¼</mi></mrow><mi>Ïƒ</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\tilde{z}^i = \\frac{z^i - \\mu}{\\sigma}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8746639999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6678599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span><span style=\"top:-3.35em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">~</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8746639999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.187664em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5016639999999999em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\">Î¼</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding=\"application/x-tex\">\\mu</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Î¼</span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span></span></span></span> æ˜¯å½“å‰ batch å†…çš„å‡å€¼å’Œæ ‡å‡†å·®ã€‚</p>\n<div class=\"note info\">\n<p>æ‰¹é‡å½’ä¸€åŒ–é€‚ç”¨äº batch size è¾ƒå¤§çš„æƒ…å†µã€‚å½“ batch size è¿‡å°æ—¶ï¼Œæ‰¹å†…ç»Ÿè®¡é‡ä¸å¤Ÿç¨³å®šï¼Œå½’ä¸€åŒ–æ•ˆæœä¼šå¤§æ‰“æŠ˜æ‰£ã€‚</p>\n</div>\n<h3 id=\"å¯å­¦ä¹ å‚æ•°çš„å¼•å…¥\"><a class=\"anchor\" href=\"#å¯å­¦ä¹ å‚æ•°çš„å¼•å…¥\">#</a> å¯å­¦ä¹ å‚æ•°çš„å¼•å…¥</h3>\n<p>ä¸ºäº†ä¿æŒæ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ï¼Œæ‰¹é‡å½’ä¸€åŒ–å¼•å…¥äº†ä¸¤ä¸ªå¯å­¦ä¹ å‚æ•°ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mover accent=\"true\"><mi>z</mi><mo>^</mo></mover><mi>i</mi></msup><mo>=</mo><mi>Î³</mi><mo>âŠ™</mo><msup><mover accent=\"true\"><mi>z</mi><mo>~</mo></mover><mi>i</mi></msup><mo>+</mo><mi>Î²</mi></mrow><annotation encoding=\"application/x-tex\">\\hat{z}^i = \\gamma \\odot \\tilde{z}^i + \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8746639999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8746639999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7777700000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âŠ™</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9579939999999999em;vertical-align:-0.08333em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6678599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span><span style=\"top:-3.35em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">~</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8746639999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î³</mi></mrow><annotation encoding=\"application/x-tex\">\\gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span></span></span></span> æ˜¯ç¼©æ”¾å‚æ•°</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î²</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span></span></span></span> æ˜¯åç§»å‚æ•°</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>âŠ™</mo></mrow><annotation encoding=\"application/x-tex\">\\odot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">âŠ™</span></span></span></span> è¡¨ç¤ºé€å…ƒç´ ä¹˜æ³•</li>\n</ul>\n<p>è¿™ä¸¤ä¸ªå‚æ•°å…è®¸ç½‘ç»œå­¦ä¹ åˆ°æœ€é€‚åˆå½“å‰å±‚çš„æ•°æ®åˆ†å¸ƒã€‚</p>\n<h2 id=\"æµ‹è¯•æ—¶çš„å¤„ç†ç­–ç•¥\"><a class=\"anchor\" href=\"#æµ‹è¯•æ—¶çš„å¤„ç†ç­–ç•¥\">#</a> æµ‹è¯•æ—¶çš„å¤„ç†ç­–ç•¥</h2>\n<p>åœ¨æµ‹è¯•é˜¶æ®µï¼Œæˆ‘ä»¬é¢ä¸´ä¸€ä¸ªé‡è¦æŒ‘æˆ˜ï¼š<strong>å®é™…è¿è¡Œæ—¶æ— æ³•ä¿è¯æœ‰è¶³å¤Ÿçš„è¾“å…¥æ•°æ®æ¥è®¡ç®—å¯é çš„æ‰¹ç»Ÿè®¡é‡</strong>ã€‚</p>\n<p>è§£å†³æ–¹æ¡ˆæ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®çš„<strong>ç§»åŠ¨å¹³å‡å€¼ (Moving Average)</strong>ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î¼</mi><mrow><mi>m</mi><mi>o</mi><mi>v</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><mo>=</mo><mi>Î±</mi><mo>â‹…</mo><msub><mi>Î¼</mi><mrow><mi>m</mi><mi>o</mi><mi>v</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><msub><mi>Î¼</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mu_{moving} = \\alpha \\cdot \\mu_{moving} + (1-\\alpha) \\cdot \\mu_{batch}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î¼</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.44445em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8694379999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î¼</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î¼</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">b</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">h</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>m</mi><mi>o</mi><mi>v</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><mo>=</mo><mi>Î±</mi><mo>â‹…</mo><msub><mi>Ïƒ</mi><mrow><mi>m</mi><mi>o</mi><mi>v</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><msub><mi>Ïƒ</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\sigma_{moving} = \\alpha \\cdot \\sigma_{moving} + (1-\\alpha) \\cdot \\sigma_{batch}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.44445em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8694379999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">b</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">h</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span></span></span></span> æ˜¯åŠ¨é‡ç³»æ•°ï¼Œé€šå¸¸è®¾ç½®ä¸º 0.9 æˆ– 0.99ã€‚</p>\n<h2 id=\"å®é™…åº”ç”¨è€ƒè™‘\"><a class=\"anchor\" href=\"#å®é™…åº”ç”¨è€ƒè™‘\">#</a> å®é™…åº”ç”¨è€ƒè™‘</h2>\n<h3 id=\"batch-sizeçš„å½±å“\"><a class=\"anchor\" href=\"#batch-sizeçš„å½±å“\">#</a> Batch Size çš„å½±å“</h3>\n<ul>\n<li><strong>å¤§ Batch Size</strong>: ç»Ÿè®¡é‡æ›´ç¨³å®šï¼Œå½’ä¸€åŒ–æ•ˆæœæ›´å¥½</li>\n<li><strong>å° Batch Size</strong>: å¯èƒ½å¯¼è‡´è®­ç»ƒä¸ç¨³å®šï¼Œéœ€è¦è€ƒè™‘å…¶ä»–å½’ä¸€åŒ–æ–¹æ³•</li>\n</ul>\n<h3 id=\"æ›¿ä»£æ–¹æ¡ˆ\"><a class=\"anchor\" href=\"#æ›¿ä»£æ–¹æ¡ˆ\">#</a> æ›¿ä»£æ–¹æ¡ˆ</h3>\n<p>å½“ batch size è¿‡å°æ—¶ï¼Œå¯ä»¥è€ƒè™‘ï¼š</p>\n<ul>\n<li><strong>Layer Normalization</strong>: åœ¨ç‰¹å¾ç»´åº¦ä¸Šè¿›è¡Œå½’ä¸€åŒ–</li>\n<li><strong>Group Normalization</strong>: å°†é€šé“åˆ†ç»„åè¿›è¡Œå½’ä¸€åŒ–</li>\n<li><strong>Instance Normalization</strong>: åœ¨æ¯ä¸ªå®ä¾‹ä¸Šç‹¬ç«‹è¿›è¡Œå½’ä¸€åŒ–</li>\n</ul>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "æ·±åº¦å­¦ä¹ ",
                "ç¥ç»ç½‘ç»œ",
                "æ‰¹é‡å½’ä¸€åŒ–",
                "ç‰¹å¾å½’ä¸€åŒ–",
                "è®­ç»ƒä¼˜åŒ–",
                "åå˜é‡åç§»",
                "æ ‡å‡†åŒ–",
                "æœºå™¨å­¦ä¹ "
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/%E4%BB%8E%E5%9B%9E%E5%BD%92%E5%88%B0%E5%88%86%E7%B1%BB%EF%BC%9ASoftmax%E4%B8%8E%E4%BA%A4%E5%8F%89%E7%86%B5/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/%E4%BB%8E%E5%9B%9E%E5%BD%92%E5%88%B0%E5%88%86%E7%B1%BB%EF%BC%9ASoftmax%E4%B8%8E%E4%BA%A4%E5%8F%89%E7%86%B5/",
            "title": "ä»å›å½’åˆ°åˆ†ç±»ï¼šSoftmaxä¸äº¤å‰ç†µ",
            "date_published": "2025-07-09T05:01:12.000Z",
            "content_html": "<h1 id=\"åˆ†ç±»ä»»åŠ¡è¯¦è§£\"><a class=\"anchor\" href=\"#åˆ†ç±»ä»»åŠ¡è¯¦è§£\">#</a> åˆ†ç±»ä»»åŠ¡è¯¦è§£</h1>\n<p>åˆ†ç±»æ˜¯æœºå™¨å­¦ä¹ ä¸­æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦çš„ä»»åŠ¡ä¹‹ä¸€ã€‚ä¸å›å½’ä»»åŠ¡é¢„æµ‹è¿ç»­å€¼ä¸åŒï¼Œåˆ†ç±»ä»»åŠ¡çš„ç›®æ ‡æ˜¯å°†è¾“å…¥æ•°æ®åˆ’åˆ†åˆ°ä¸åŒçš„ç±»åˆ«ä¸­ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨åˆ†ç±»ä»»åŠ¡çš„æ ¸å¿ƒæ¦‚å¿µã€æ•°å­¦åŸç†ä»¥åŠä¸å›å½’ä»»åŠ¡çš„åŒºåˆ«ä¸è”ç³»ã€‚</p>\n<h2 id=\"ä»å›å½’åˆ°åˆ†ç±»çš„è½¬æ¢\"><a class=\"anchor\" href=\"#ä»å›å½’åˆ°åˆ†ç±»çš„è½¬æ¢\">#</a> ä»å›å½’åˆ°åˆ†ç±»çš„è½¬æ¢</h2>\n<h3 id=\"åˆ†ç±»ä½œä¸ºå›å½’é—®é¢˜\"><a class=\"anchor\" href=\"#åˆ†ç±»ä½œä¸ºå›å½’é—®é¢˜\">#</a> åˆ†ç±»ä½œä¸ºå›å½’é—®é¢˜</h3>\n<p>åœ¨ç†è§£åˆ†ç±»ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»å›å½’çš„è§’åº¦æ€è€ƒåˆ†ç±»é—®é¢˜ã€‚å®é™…ä¸Šï¼Œ<ins class=\"dot\">åˆ†ç±»å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„å›å½’ä»»åŠ¡</ins>ï¼š</p>\n<p><strong>å›å½’ä»»åŠ¡</strong>ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>âŸ·</mo><mi>y</mi><mo>=</mo><mi>b</mi><mo>+</mo><msup><mi>C</mi><mi>T</mi></msup><mi>Ïƒ</mi><mo stretchy=\"false\">(</mo><mi>B</mi><mo>+</mo><mi>W</mi><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\hat{y} \\longleftrightarrow y = b + C^T \\sigma(B + Wx)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âŸ·</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p><strong>åˆ†ç±»ä»»åŠ¡</strong>ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>y</mi><mo>=</mo><msup><mi>b</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>+</mo><msup><mi>W</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mi>Ïƒ</mi><mo stretchy=\"false\">(</mo><mi>b</mi><mo>+</mo><mi>W</mi><mi>x</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mspace width=\"1em\"/><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>âŸ·</mo><msup><mi>y</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>=</mo><mtext>softmax</mtext><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">y = b&#x27; + W&#x27; \\sigma(b + Wx), \\quad \\hat{y} \\longleftrightarrow y&#x27; = \\text{softmax}(y)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8852220000000001em;vertical-align:-0.08333em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âŸ·</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.996332em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>ä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºè¾“å‡ºå±‚çš„å¤„ç†æ–¹å¼å’ŒæŸå¤±å‡½æ•°çš„é€‰æ‹©ã€‚</p>\n<h3 id=\"ç±»åˆ«è¡¨ç¤ºone-hot-å‘é‡\"><a class=\"anchor\" href=\"#ç±»åˆ«è¡¨ç¤ºone-hot-å‘é‡\">#</a> ç±»åˆ«è¡¨ç¤ºï¼šOne-Hot å‘é‡</h3>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šOne-Hot Vector</summary><div>\n<p>One-Hot å‘é‡æ˜¯ä¸€ç§ç¨€ç–çš„å‘é‡è¡¨ç¤ºæ–¹æ³•ï¼Œç”¨äºè¡¨ç¤ºåˆ†ç±»é—®é¢˜ä¸­çš„ç±»åˆ«æ ‡ç­¾ã€‚åœ¨ä¸€ä¸ª one-hot å‘é‡ä¸­ï¼Œåªæœ‰ä¸€ä¸ªä½ç½®ä¸º 1ï¼Œå…¶ä½™ä½ç½®å‡ä¸º 0ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‰åˆ†ç±»é—®é¢˜ä¸­ï¼š</p>\n<ul>\n<li>ç±»åˆ« 1ï¼š[1, 0, 0]</li>\n<li>ç±»åˆ« 2ï¼š[0, 1, 0]</li>\n<li>ç±»åˆ« 3ï¼š[0, 0, 1]</li>\n</ul>\n<p>One-hot ç¼–ç çš„ä¼˜ç‚¹ï¼š</p>\n<ol>\n<li>é¿å…äº†ç±»åˆ«ä¹‹é—´çš„éšå«é¡ºåºå…³ç³»</li>\n<li>ä¾¿äºè®¡ç®—äº¤å‰ç†µæŸå¤±</li>\n<li>é€‚ç”¨äºç¥ç»ç½‘ç»œçš„è¾“å‡ºå±‚è®¾è®¡</li>\n<li>æ”¯æŒå¤šåˆ†ç±»é—®é¢˜çš„ç»Ÿä¸€å¤„ç†</li>\n</ol>\n<p>One-hot ç¼–ç çš„ç¼ºç‚¹ï¼š</p>\n<ol>\n<li>å‘é‡ç»´åº¦ç­‰äºç±»åˆ«æ•°é‡ï¼Œå¯èƒ½é€ æˆç»´åº¦ç¾éš¾</li>\n<li>ç¨€ç–è¡¨ç¤ºï¼Œå­˜å‚¨æ•ˆç‡è¾ƒä½</li>\n<li>æ— æ³•è¡¨ç¤ºç±»åˆ«ä¹‹é—´çš„ç›¸ä¼¼æ€§å…³ç³»</li>\n</ol>\n</div></details>\n<p>åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†ç±»åˆ«è½¬æ¢ä¸ºæ•°å€¼è¡¨ç¤ºã€‚<strong>ç±»åˆ«è¢«è¡¨ç¤ºä¸º one-hot å‘é‡</strong>ï¼Œè¿™æ˜¯åˆ†ç±»é—®é¢˜çš„æ ‡å‡†åšæ³•ã€‚</p>\n<h2 id=\"softmax-æ¿€æ´»å‡½æ•°\"><a class=\"anchor\" href=\"#softmax-æ¿€æ´»å‡½æ•°\">#</a> Softmax æ¿€æ´»å‡½æ•°</h2>\n<h3 id=\"softmax-å‡½æ•°çš„å®šä¹‰\"><a class=\"anchor\" href=\"#softmax-å‡½æ•°çš„å®šä¹‰\">#</a> Softmax å‡½æ•°çš„å®šä¹‰</h3>\n<p>å¯¹äº <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> åˆ†ç±»é—®é¢˜ï¼Œç»™å®šç½‘ç»œçš„è¾“å‡ºå‘é‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">z</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>z</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>z</mi><mi>K</mi></msub><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbf{z} = [z_1, z_2, ..., z_K]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.44444em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">z</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span>ï¼Œsoftmax å‡½æ•°å°†å…¶è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>softmax</mtext><mo stretchy=\"false\">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><msup><mi>e</mi><msub><mi>z</mi><mi>i</mi></msub></msup><mrow><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><msup><mi>e</mi><msub><mi>z</mi><mi>j</mi></msub></msup></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\text{softmax}(z_i) = \\frac{e^{z_i}}{\\sum_{j=1}^{K} e^{z_j}}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.648441em;vertical-align:-1.3070490000000001em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.341392em;\"><span style=\"top:-2.128769em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.981231em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.43581800000000004em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6064620000000001em;\"><span style=\"top:-3.0050700000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3070490000000001em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šSoftmax</summary><div>\n<p>Softmax å‡½æ•°æ˜¯ sigmoid å‡½æ•°åœ¨å¤šåˆ†ç±»é—®é¢˜ä¸Šçš„æ¨å¹¿ã€‚å®ƒå…·æœ‰ä»¥ä¸‹é‡è¦æ€§è´¨ï¼š</p>\n<ol>\n<li><strong>å½’ä¸€åŒ–</strong>ï¼šè¾“å‡ºå€¼çš„å’Œä¸º 1ï¼Œå¯ä»¥è§£é‡Šä¸ºæ¦‚ç‡åˆ†å¸ƒ</li>\n<li><strong>å•è°ƒæ€§</strong>ï¼šä¿æŒåŸå§‹å€¼çš„ç›¸å¯¹å¤§å°å…³ç³»</li>\n<li><strong>å¯å¾®æ€§</strong>ï¼šä¾¿äºåå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦</li>\n<li><strong>æ•°å€¼ç¨³å®šæ€§</strong>ï¼šé€šå¸¸éœ€è¦å‡å»æœ€å¤§å€¼æ¥é¿å…æŒ‡æ•°çˆ†ç‚¸</li>\n</ol>\n<p>Softmax å‡½æ•°çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä»»æ„å®æ•°å‘é‡è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—æ¯ä¸ªè¾“å‡ºå€¼éƒ½åœ¨ (0,1) èŒƒå›´å†…ï¼Œä¸”æ‰€æœ‰è¾“å‡ºå€¼çš„å’Œä¸º 1ã€‚è¿™ä½¿å¾—æ¨¡å‹è¾“å‡ºå¯ä»¥ç›´æ¥è§£é‡Šä¸ºå„ç±»åˆ«çš„æ¦‚ç‡ã€‚</p>\n</div></details>\n<h3 id=\"äºŒåˆ†ç±»çš„ç‰¹æ®Šæƒ…å†µ\"><a class=\"anchor\" href=\"#äºŒåˆ†ç±»çš„ç‰¹æ®Šæƒ…å†µ\">#</a> äºŒåˆ†ç±»çš„ç‰¹æ®Šæƒ…å†µ</h3>\n<div class=\"note info\">\n<p>åœ¨äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼Œsoftmax å‡½æ•°ä¸ sigmoid å‡½æ•°æ˜¯ç­‰ä»·çš„ã€‚è¿™æ˜¯å› ä¸ºå¯¹äºä¸¤ä¸ªç±»åˆ«ï¼Œsoftmax é€€åŒ–ä¸º sigmoid çš„å½¢å¼ã€‚</p>\n</div>\n<h2 id=\"äº¤å‰ç†µæŸå¤±å‡½æ•°\"><a class=\"anchor\" href=\"#äº¤å‰ç†µæŸå¤±å‡½æ•°\">#</a> äº¤å‰ç†µæŸå¤±å‡½æ•°</h2>\n<h3 id=\"åˆ†ç±»æŸå¤±çš„è®¡ç®—æµç¨‹\"><a class=\"anchor\" href=\"#åˆ†ç±»æŸå¤±çš„è®¡ç®—æµç¨‹\">#</a> åˆ†ç±»æŸå¤±çš„è®¡ç®—æµç¨‹</h3>\n<p>åˆ†ç±»ä»»åŠ¡çš„æŸå¤±è®¡ç®—éµå¾ªä»¥ä¸‹æµç¨‹ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>âŸ·</mo><msup><mi>y</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>â†</mo><mtext>softmax</mtext><mo>â†</mo><mi>y</mi><mo>â†</mo><mtext>network</mtext><mo>â†</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\hat{y} \\longleftrightarrow y&#x27; \\leftarrow \\text{softmax} \\leftarrow y \\leftarrow \\text{network} \\leftarrow x\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âŸ·</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.996332em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">softmax</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">network</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>ï¼šè¾“å…¥ç‰¹å¾</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>ï¼šç½‘ç»œåŸå§‹è¾“å‡º</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>y</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">y&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.946332em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>ï¼šç»è¿‡ softmax å¤„ç†çš„æ¦‚ç‡åˆ†å¸ƒ</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{y}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span>ï¼šçœŸå®æ ‡ç­¾çš„ one-hot è¡¨ç¤º</li>\n</ul>\n<h3 id=\"äº¤å‰ç†µå…¬å¼\"><a class=\"anchor\" href=\"#äº¤å‰ç†µå…¬å¼\">#</a> äº¤å‰ç†µå…¬å¼</h3>\n<p>å¯¹äºå¤šåˆ†ç±»é—®é¢˜ï¼Œäº¤å‰ç†µæŸå¤±å‡½æ•°å®šä¹‰ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>L</mi><mo>=</mo><mo>âˆ’</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><msub><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><msubsup><mi>y</mi><mi>i</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L = -\\sum_{i=1}^{K} \\hat{y}_i \\log(y&#x27;_i)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.106005em;vertical-align:-1.277669em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283360000000002em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8018919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{y}_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯çœŸå®æ ‡ç­¾çš„ one-hot è¡¨ç¤ºä¸­ç¬¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> ä¸ªå…ƒç´ </li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>y</mi><mi>i</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">y&#x27;_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.010556em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯æ¨¡å‹é¢„æµ‹çš„ç¬¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> ä¸ªç±»åˆ«çš„æ¦‚ç‡</li>\n</ul>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šCross-Entropy</summary><div>\n<p>äº¤å‰ç†µï¼ˆCross-Entropyï¼‰æ˜¯ä¿¡æ¯è®ºä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œç”¨äºè¡¡é‡ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ã€‚åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œäº¤å‰ç†µæŸå¤±å‡½æ•°å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>\n<ol>\n<li><strong>ä¿¡æ¯è®ºåŸºç¡€</strong>ï¼šäº¤å‰ç†µè¡¡é‡çš„æ˜¯ç”¨é¢„æµ‹åˆ†å¸ƒæ¥ç¼–ç çœŸå®åˆ†å¸ƒæ‰€éœ€çš„å¹³å‡ä¿¡æ¯é‡</li>\n<li><strong>æ¦‚ç‡è§£é‡Š</strong>ï¼šæœ€å°åŒ–äº¤å‰ç†µç­‰ä»·äºæœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°</li>\n<li><strong>æ¢¯åº¦ç‰¹æ€§</strong>ï¼šåœ¨é¢„æµ‹é”™è¯¯æ—¶æä¾›æ›´å¼ºçš„æ¢¯åº¦ä¿¡å·</li>\n<li><strong>æ•°å€¼ç¨³å®šæ€§</strong>ï¼šä¸ softmax ç»“åˆä½¿ç”¨æ—¶å…·æœ‰è‰¯å¥½çš„æ•°å€¼æ€§è´¨</li>\n</ol>\n<p>äº¤å‰ç†µçš„æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>q</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>âˆ’</mo><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>p</mi><mi>i</mi></msub><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(p, q) = -\\sum_{i} p_i \\log(q_i)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.327674em;vertical-align:-1.277669em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0500050000000003em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> æ˜¯çœŸå®åˆ†å¸ƒï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> æ˜¯é¢„æµ‹åˆ†å¸ƒã€‚</p>\n</div></details>\n<h3 id=\"ä¸æå¤§ä¼¼ç„¶çš„ç­‰ä»·æ€§\"><a class=\"anchor\" href=\"#ä¸æå¤§ä¼¼ç„¶çš„ç­‰ä»·æ€§\">#</a> ä¸æå¤§ä¼¼ç„¶çš„ç­‰ä»·æ€§</h3>\n<div class=\"note success\">\n<p>æœ€å°åŒ–äº¤å‰ç†µç­‰ä»·äºæå¤§ä¼¼ç„¶ä¼°è®¡ã€‚è¿™æ˜¯å› ä¸ºäº¤å‰ç†µæŸå¤±å‡½æ•°å®é™…ä¸Šæ˜¯è´Ÿå¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼Œå› æ­¤æœ€å°åŒ–äº¤å‰ç†µå°±æ˜¯æœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°ã€‚</p>\n</div>\n<h2 id=\"äº¤å‰ç†µ-vs-å‡æ–¹è¯¯å·®\"><a class=\"anchor\" href=\"#äº¤å‰ç†µ-vs-å‡æ–¹è¯¯å·®\">#</a> äº¤å‰ç†µ vs å‡æ–¹è¯¯å·®</h2>\n<h3 id=\"ä¸ºä»€ä¹ˆäº¤å‰ç†µæ›´é€‚åˆåˆ†ç±»\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆäº¤å‰ç†µæ›´é€‚åˆåˆ†ç±»\">#</a> ä¸ºä»€ä¹ˆäº¤å‰ç†µæ›´é€‚åˆåˆ†ç±»</h3>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆäº¤å‰ç†µæ¯”MSEæ›´é€‚åˆåˆ†ç±»</summary><div>\n<p>åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œäº¤å‰ç†µæŸå¤±å‡½æ•°æ¯”å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰æ›´ä¸ºé€‚åˆï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>\n<p><strong>æ¢¯åº¦ç‰¹æ€§å·®å¼‚</strong>ï¼š</p>\n<ul>\n<li>MSEï¼šå½“æŸå¤±å¾ˆå¤§æ—¶ï¼Œæ¢¯åº¦å˜å¾—å¹³å¦ï¼Œå­¦ä¹ é€Ÿåº¦æ…¢</li>\n<li>äº¤å‰ç†µï¼šå½“é¢„æµ‹é”™è¯¯æ—¶ï¼Œæ¢¯åº¦è¾ƒä¸ºé™¡å³­ï¼Œå­¦ä¹ é€Ÿåº¦å¿«</li>\n</ul>\n</li>\n<li>\n<p><strong>æ¦‚ç‡è§£é‡Š</strong>ï¼š</p>\n<ul>\n<li>äº¤å‰ç†µç›´æ¥å¯¹åº”äºæ¦‚ç‡åˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶</li>\n<li>MSE æ²¡æœ‰æ˜ç¡®çš„æ¦‚ç‡è§£é‡Š</li>\n</ul>\n</li>\n<li>\n<p><strong>æ”¶æ•›æ€§è´¨</strong>ï¼š</p>\n<ul>\n<li>äº¤å‰ç†µåœ¨åˆ†ç±»é—®é¢˜ä¸Šé€šå¸¸æ”¶æ•›æ›´å¿«</li>\n<li>MSE å¯èƒ½å¯¼è‡´æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</li>\n</ul>\n</li>\n<li>\n<p><strong>ç†è®ºåŸºç¡€</strong>ï¼š</p>\n<ul>\n<li>äº¤å‰ç†µæœ‰åšå®çš„ä¿¡æ¯è®ºåŸºç¡€</li>\n<li>ä¸æœ€å¤§ä¼¼ç„¶ä¼°è®¡åŸç†ä¸€è‡´</li>\n</ul>\n</li>\n</ol>\n</div></details>\n<p><strong>å…³é”®åŒºåˆ«</strong>ï¼š</p>\n<ul>\n<li><strong>MSE åœ¨ loss å¤§æ—¶å¹³å¦</strong>ï¼šå½“é¢„æµ‹ä¸¥é‡é”™è¯¯æ—¶ï¼ŒMSE çš„æ¢¯åº¦å˜å°ï¼Œå¯¼è‡´å­¦ä¹ ç¼“æ…¢</li>\n<li><strong>äº¤å‰ç†µåˆ™æ¯”è¾ƒé™¡å³­</strong>ï¼šå³ä½¿åœ¨é¢„æµ‹é”™è¯¯æ—¶ï¼Œäº¤å‰ç†µä»èƒ½æä¾›è¶³å¤Ÿçš„æ¢¯åº¦ä¿¡å·</li>\n</ul>\n<p>è¿™ç§å·®å¼‚ä½¿å¾—äº¤å‰ç†µåœ¨åˆ†ç±»ä»»åŠ¡ä¸­å…·æœ‰æ›´å¥½çš„ä¼˜åŒ–æ€§è´¨ã€‚</p>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "ç¥ç»ç½‘ç»œ",
                "åˆ†ç±»",
                "one-hotç¼–ç ",
                "softmax",
                "äº¤å‰ç†µ",
                "sigmoid",
                "æå¤§ä¼¼ç„¶"
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/%E8%87%AA%E9%80%82%E5%BA%94%E5%AD%A6%E4%B9%A0%E7%8E%87%EF%BC%9A%E4%BB%8EAdaGrad%E5%88%B0Adam/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/%E8%87%AA%E9%80%82%E5%BA%94%E5%AD%A6%E4%B9%A0%E7%8E%87%EF%BC%9A%E4%BB%8EAdaGrad%E5%88%B0Adam/",
            "title": "è‡ªé€‚åº”å­¦ä¹ ç‡ï¼šä»AdaGradåˆ°Adam",
            "date_published": "2025-07-09T03:03:30.000Z",
            "content_html": "<h1 id=\"è‡ªé€‚åº”å­¦ä¹ ç‡è¯¦è§£\"><a class=\"anchor\" href=\"#è‡ªé€‚åº”å­¦ä¹ ç‡è¯¦è§£\">#</a> è‡ªé€‚åº”å­¦ä¹ ç‡è¯¦è§£</h1>\n<p>åœ¨æ·±åº¦å­¦ä¹ çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå­¦ä¹ ç‡çš„é€‰æ‹©ä¸€ç›´æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚ä¼ ç»Ÿçš„å›ºå®šå­¦ä¹ ç‡å¾€å¾€éš¾ä»¥åœ¨æ‰€æœ‰å‚æ•°å’Œè®­ç»ƒé˜¶æ®µéƒ½ä¿æŒæœ€ä¼˜æ€§èƒ½ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ ¸å¿ƒæ¦‚å¿µã€ç®—æ³•åŸç†åŠå…¶åœ¨å®é™…åº”ç”¨ä¸­çš„é‡è¦æ€§ã€‚</p>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šAdaptive Learning Rate</summary><div>\n<p>è‡ªé€‚åº”å­¦ä¹ ç‡ï¼ˆAdaptive Learning Rateï¼‰æ˜¯æŒ‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ ¹æ®æ¢¯åº¦ä¿¡æ¯ã€å‚æ•°å†å²æ›´æ–°æƒ…å†µæˆ–å…¶ä»–å¯å‘å¼è§„åˆ™è‡ªåŠ¨è°ƒæ•´å­¦ä¹ ç‡çš„æ–¹æ³•ã€‚ä¸å›ºå®šå­¦ä¹ ç‡ç›¸æ¯”ï¼Œè‡ªé€‚åº”å­¦ä¹ ç‡èƒ½å¤Ÿï¼š</p>\n<ol>\n<li>ä¸ºä¸åŒå‚æ•°åˆ†é…ä¸åŒçš„å­¦ä¹ ç‡</li>\n<li>æ ¹æ®è®­ç»ƒé˜¶æ®µåŠ¨æ€è°ƒæ•´æ›´æ–°å¹…åº¦</li>\n<li>è‡ªåŠ¨å¹³è¡¡æ”¶æ•›é€Ÿåº¦å’Œç¨³å®šæ€§</li>\n<li>å‡å°‘äººå·¥è°ƒå‚çš„å¤æ‚æ€§</li>\n</ol>\n</div></details>\n<h2 id=\"å­¦ä¹ ç‡çš„é‡è¦æ€§ä¸æŒ‘æˆ˜\"><a class=\"anchor\" href=\"#å­¦ä¹ ç‡çš„é‡è¦æ€§ä¸æŒ‘æˆ˜\">#</a> å­¦ä¹ ç‡çš„é‡è¦æ€§ä¸æŒ‘æˆ˜</h2>\n<h3 id=\"å­¦ä¹ ç‡å¤§å°çš„å½±å“\"><a class=\"anchor\" href=\"#å­¦ä¹ ç‡å¤§å°çš„å½±å“\">#</a> å­¦ä¹ ç‡å¤§å°çš„å½±å“</h3>\n<p>å­¦ä¹ ç‡çš„é€‰æ‹©ç›´æ¥å½±å“æ¨¡å‹çš„æ”¶æ•›æ€§èƒ½ï¼š</p>\n<ul>\n<li><strong>å­¦ä¹ ç‡è¿‡å¤§</strong>ï¼šæ­¥å­è¿‡å¤§ï¼Œæ¯ä¸€æ¬¡ update å¤ªå¤§ï¼Œå¯èƒ½å¯¼è‡´ç›´æ¥è·³è¿‡ç†æƒ³çš„ç›®æ ‡ç‚¹ï¼Œé€ æˆè®­ç»ƒä¸ç¨³å®šç”šè‡³å‘æ•£</li>\n<li><strong>å­¦ä¹ ç‡è¿‡å°</strong>ï¼šåœ¨æŸäº›æ–¹å‘ä¸Šå¯èƒ½ç§»åŠ¨è¿‡äºç¼“æ…¢ï¼Œå¯¼è‡´æ”¶æ•›é€Ÿåº¦ææ…¢ï¼Œè®­ç»ƒæ—¶é—´è¿‡é•¿</li>\n</ul>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šError Surface è¯¯å·®è¡¨é¢</summary><div>\n<p>è¯¯å·®è¡¨é¢ï¼ˆError Surfaceï¼‰æ˜¯æŒ‡åœ¨å‚æ•°ç©ºé—´ä¸­ï¼ŒæŸå¤±å‡½æ•°éšå‚æ•°å˜åŒ–å½¢æˆçš„å¤šç»´æ›²é¢ã€‚åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œè¿™ä¸ªè¡¨é¢é€šå¸¸å…·æœ‰å¤æ‚çš„éå‡¸ç»“æ„ï¼Œå­˜åœ¨å¤šä¸ªå±€éƒ¨æœ€å°å€¼ã€éç‚¹å’Œå¹³å¦åŒºåŸŸã€‚ç†è§£è¯¯å·®è¡¨é¢çš„ç‰¹æ€§å¯¹äºè®¾è®¡æœ‰æ•ˆçš„ä¼˜åŒ–ç®—æ³•è‡³å…³é‡è¦ã€‚</p>\n</div></details>\n<h3 id=\"æ¢¯åº¦ä¸å­¦ä¹ ç‡çš„å…³ç³»\"><a class=\"anchor\" href=\"#æ¢¯åº¦ä¸å­¦ä¹ ç‡çš„å…³ç³»\">#</a> æ¢¯åº¦ä¸å­¦ä¹ ç‡çš„å…³ç³»</h3>\n<p>è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ ¸å¿ƒæ€æƒ³æ˜¯æ ¹æ®æ¢¯åº¦ä¿¡æ¯åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡ï¼š</p>\n<ul>\n<li><strong>å¡åº¦å°ï¼Œg å°±å°ï¼Œå­¦ä¹ ç‡å°±å¤§</strong>ï¼šåœ¨å¹³å¦åŒºåŸŸå¢å¤§æ­¥é•¿ï¼ŒåŠ å¿«æ”¶æ•›</li>\n<li><strong>å¡åº¦å¤§ï¼Œg å°±å¤§ï¼Œå­¦ä¹ ç‡å°±å°</strong>ï¼šåœ¨é™¡å³­åŒºåŸŸå‡å°æ­¥é•¿ï¼Œé¿å…éœ‡è¡</li>\n</ul>\n<div class=\"note info\">\n<p>åŒä¸€ä¸ªå‚æ•°åœ¨ä¸åŒè®­ç»ƒé˜¶æ®µçš„å¡åº¦ä¹Ÿä¼šä¸ä¸€æ ·ï¼Œè¿™æ­£æ˜¯éœ€è¦è‡ªé€‚åº”è°ƒæ•´çš„æ ¹æœ¬åŸå› ã€‚</p>\n</div>\n<h2 id=\"åŸºç¡€è‡ªé€‚åº”å­¦ä¹ ç‡æ–¹æ³•\"><a class=\"anchor\" href=\"#åŸºç¡€è‡ªé€‚åº”å­¦ä¹ ç‡æ–¹æ³•\">#</a> åŸºç¡€è‡ªé€‚åº”å­¦ä¹ ç‡æ–¹æ³•</h2>\n<h3 id=\"adagrad-ç®—æ³•\"><a class=\"anchor\" href=\"#adagrad-ç®—æ³•\">#</a> AdaGrad ç®—æ³•</h3>\n<p>AdaGrad æ˜¯æœ€æ—©çš„è‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•ä¹‹ä¸€ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ç´¯ç§¯å†å²æ¢¯åº¦ä¿¡æ¯æ¥è°ƒæ•´å­¦ä¹ ç‡ï¼š</p>\n<p><strong>æ›´æ–°å…¬å¼ï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>Î¸</mi><mi>i</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo>â†</mo><msubsup><mi>Î¸</mi><mi>i</mi><mi>t</mi></msubsup><mo>âˆ’</mo><mfrac><mi>Î·</mi><msubsup><mi>Ïƒ</mi><mi>i</mi><mi>t</mi></msubsup></mfrac><msubsup><mi>g</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\theta^{t+1}_i \\leftarrow \\theta^t_i - \\frac{\\eta}{\\sigma^t_i}g^t_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.131103em;vertical-align:-0.266995em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.433005em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.266995em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0905559999999999em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8435559999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.070424em;vertical-align:-0.9628639999999999em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1075599999999999em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7753559999999999em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Î·</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9628639999999999em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8435559999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>æ¢¯åº¦ç´¯ç§¯ï¼š</strong></p>\n<ul>\n<li>åˆå§‹çŠ¶æ€ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mn>0</mn></msubsup><mo>=</mo><msqrt><mrow><mo stretchy=\"false\">(</mo><msubsup><mi>g</mi><mi>i</mi><mn>0</mn></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt><mo>=</mo><mi mathvariant=\"normal\">âˆ£</mi><msubsup><mi>g</mi><mi>i</mi><mn>0</mn></msubsup><mi mathvariant=\"normal\">âˆ£</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma^0_i = \\sqrt{(g^0_i)^2} = |g^0_i|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.24em;vertical-align:-0.2954779999999999em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9445220000000001em;\"><span class=\"svg-align\" style=\"top:-3.2em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959080000000001em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.904522em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2954779999999999em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span></span></span></span></li>\n<li>ç¬¬ä¸€æ¬¡æ›´æ–°ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mn>1</mn></msubsup><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><msubsup><mi>g</mi><mi>i</mi><mn>0</mn></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><msubsup><mi>g</mi><mi>i</mi><mn>1</mn></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sigma^1_i = \\sqrt{\\frac{1}{2}[(g^0_i)^2 + (g^1_i)^2]}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.84em;vertical-align:-0.604946em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.235054em;\"><span class=\"svg-align\" style=\"top:-3.8em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mopen\">[</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959080000000001em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959080000000001em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span><span style=\"top:-3.195054em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.8800000000000001em;\"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.604946em;\"><span></span></span></span></span></span></span></span></span></li>\n<li>ä¸€èˆ¬å½¢å¼ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mi>t</mi></msubsup><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></mfrac><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>t</mi></msubsup><mo stretchy=\"false\">(</mo><msubsup><mi>g</mi><mi>i</mi><mi>j</mi></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sigma^t_i = \\sqrt{\\frac{1}{t+1}\\sum_{j=0}^{t}(g^j_i)^2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.05222em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.84em;vertical-align:-0.601623em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.238377em;\"><span class=\"svg-align\" style=\"top:-3.8em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.403331em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.933456em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">0</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.43581800000000004em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.942572em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.1809080000000005em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.198377em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.8800000000000001em;\"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.601623em;\"><span></span></span></span></span></span></span></span></span></li>\n</ul>\n<details class=\"warning\"><summary>AdaGrad çš„å±€é™æ€§</summary><div>\n<p>AdaGrad ç®—æ³•å­˜åœ¨ä¸€ä¸ªé‡è¦ç¼ºé™·ï¼šéšç€è®­ç»ƒè¿›è¡Œï¼Œåˆ†æ¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\sigma^t_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.05222em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> ä¼šæŒç»­å¢å¤§ï¼Œå¯¼è‡´å­¦ä¹ ç‡å•è°ƒé€’å‡ï¼Œæœ€ç»ˆå¯èƒ½è¿‡æ—©åœæ­¢å­¦ä¹ ã€‚è¿™ä¸ªé—®é¢˜åœ¨é•¿æ—¶é—´è®­ç»ƒä¸­å°¤ä¸ºçªå‡ºã€‚</p>\n</div></details>\n<h3 id=\"rmsprop-ç®—æ³•\"><a class=\"anchor\" href=\"#rmsprop-ç®—æ³•\">#</a> RMSProp ç®—æ³•</h3>\n<p>RMSProp é€šè¿‡å¼•å…¥è¡°å‡å› å­è§£å†³äº† AdaGrad çš„é—®é¢˜ï¼š</p>\n<p><strong>æ ¸å¿ƒå…¬å¼ï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mn>1</mn></msubsup><mo>=</mo><msqrt><mrow><mi>Î±</mi><mo stretchy=\"false\">(</mo><msubsup><mi>Ïƒ</mi><mi>i</mi><mn>0</mn></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><msubsup><mi>g</mi><mi>i</mi><mn>1</mn></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sigma^1_i = \\sqrt{\\alpha(\\sigma^0_i)^2 + (1-\\alpha)(g^1_i)^2}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1111079999999998em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.84em;vertical-align:-0.546603em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2933970000000001em;\"><span class=\"svg-align\" style=\"top:-3.8em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959080000000001em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959080000000001em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2533969999999997em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.8800000000000001em;\"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.546603em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<p><strong>ä¸€èˆ¬å½¢å¼ï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mi>t</mi></msubsup><mo>=</mo><msqrt><mrow><mi>Î±</mi><mo stretchy=\"false\">(</mo><msubsup><mi>Ïƒ</mi><mi>i</mi><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><msubsup><mi>g</mi><mi>i</mi><mi>t</mi></msubsup><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sigma^t_i = \\sqrt{\\alpha(\\sigma^{t-1}_i)^2 + (1-\\alpha)(g^t_i)^2}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0905559999999999em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8435559999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.84em;vertical-align:-0.5174375em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3225625em;\"><span class=\"svg-align\" style=\"top:-3.8em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.854239em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.1031310000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.276864em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7753559999999999em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.740108em;\"><span style=\"top:-2.9890000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2825625em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.8800000000000001em;\"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5174375em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>Î±</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">0 &lt; \\alpha &lt; 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68354em;vertical-align:-0.0391em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span> æ˜¯è¡°å‡å› å­ã€‚</p>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šRMSProp</summary><div>\n<p>RMSPropï¼ˆRoot Mean Square Propagationï¼‰æ˜¯ç”± Geoffrey Hinton åœ¨å…¶ Coursera è¯¾ç¨‹ä¸­æå‡ºçš„ä¼˜åŒ–ç®—æ³•ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä½¿ç”¨æ¢¯åº¦çš„æŒ‡æ•°ç§»åŠ¨å¹³å‡æ¥è°ƒæ•´å­¦ä¹ ç‡ï¼Œä»è€Œè§£å†³ AdaGrad å­¦ä¹ ç‡å•è°ƒé€’å‡çš„é—®é¢˜ã€‚RMSProp åœ¨å¤„ç†éå¹³ç¨³ç›®æ ‡å‡½æ•°æ—¶è¡¨ç°ä¼˜å¼‚ï¼Œç‰¹åˆ«é€‚ç”¨äºåœ¨çº¿å­¦ä¹ å’Œé€’å½’ç¥ç»ç½‘ç»œçš„è®­ç»ƒã€‚</p>\n</div></details>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šRoot Mean Square</summary><div>\n<p>Root Mean Squareï¼ˆRMSï¼Œå‡æ–¹æ ¹ï¼‰æ˜¯ç»Ÿè®¡å­¦ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œè¡¨ç¤ºä¸€ç»„æ•°å€¼çš„å¹³æ–¹å¹³å‡æ•°çš„ç®—æœ¯å¹³æ–¹æ ¹ã€‚åœ¨ RMSProp ä¸­ï¼ŒRMS ç”¨äºåº¦é‡æ¢¯åº¦çš„å†å²å˜åŒ–å¹…åº¦ï¼Œä»è€Œè‡ªé€‚åº”åœ°è°ƒæ•´å­¦ä¹ ç‡ã€‚è¿™ç§æ–¹æ³•æ¯”ç®€å•çš„ç®—æœ¯å¹³å‡æ›´èƒ½åæ˜ æ¢¯åº¦çš„å®é™…å˜åŒ–è¶‹åŠ¿ã€‚</p>\n</div></details>\n<h3 id=\"adam-ç®—æ³•\"><a class=\"anchor\" href=\"#adam-ç®—æ³•\">#</a> Adam ç®—æ³•</h3>\n<p>Adam ç®—æ³•ç»“åˆäº† RMSProp å’Œ Momentum çš„ä¼˜ç‚¹ï¼š</p>\n<p><strong>æ›´æ–°å…¬å¼ï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msubsup><mi>Î¸</mi><mi>i</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo>â†</mo><msubsup><mi>Î¸</mi><mi>i</mi><mi>t</mi></msubsup><mo>âˆ’</mo><mfrac><mi>Î·</mi><msubsup><mi>Ïƒ</mi><mi>i</mi><mi>t</mi></msubsup></mfrac><msubsup><mi>m</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\theta^{t+1}_i \\leftarrow \\theta^t_i - \\frac{\\eta}{\\sigma^t_i}m^t_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.131103em;vertical-align:-0.266995em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.433005em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.266995em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0905559999999999em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8435559999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.070424em;vertical-align:-0.9628639999999999em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1075599999999999em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7753559999999999em;\"><span style=\"top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.0448000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.27686399999999994em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Î·</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9628639999999999em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8435559999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>m</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">m^t_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.05222em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-2.441336em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯åŠ¨é‡é¡¹ï¼ˆä¸€é˜¶çŸ©ä¼°è®¡ï¼‰</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Ïƒ</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\sigma^t_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.05222em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Ïƒ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ RMSProp é£æ ¼çš„äºŒé˜¶çŸ©ä¼°è®¡</li>\n</ul>\n<details class=\"success\"><summary>Adam ç®—æ³•è¯¦è§£</summary><div>\n<p>Adamï¼ˆAdaptive Moment Estimationï¼‰ç®—æ³•æ˜¯ç›®å‰æœ€å¹¿æ³›ä½¿ç”¨çš„è‡ªé€‚åº”å­¦ä¹ ç‡ä¼˜åŒ–ç®—æ³•ã€‚å®ƒç»“åˆäº† AdaGrad å–„äºå¤„ç†ç¨€ç–æ¢¯åº¦çš„ä¼˜ç‚¹å’Œ RMSProp å–„äºå¤„ç†éå¹³ç¨³ç›®æ ‡çš„ä¼˜ç‚¹ã€‚Adam çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>\n<ol>\n<li>ç»´æŠ¤æ¢¯åº¦çš„ä¸€é˜¶çŸ©ä¼°è®¡ï¼ˆç±»ä¼¼ Momentumï¼‰</li>\n<li>ç»´æŠ¤æ¢¯åº¦çš„äºŒé˜¶çŸ©ä¼°è®¡ï¼ˆç±»ä¼¼ RMSPropï¼‰</li>\n<li>å¯¹ä¸¤ä¸ªä¼°è®¡è¿›è¡Œåå·®æ ¡æ­£</li>\n<li>ç»“åˆä¸¤ä¸ªä¼°è®¡æ¥æ›´æ–°å‚æ•°</li>\n</ol>\n<p>Adam ç®—æ³•å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>å¯¹è¶…å‚æ•°ç›¸å¯¹ä¸æ•æ„Ÿ</li>\n<li>é€‚ç”¨äºå¤§å¤šæ•°æ·±åº¦å­¦ä¹ ä»»åŠ¡</li>\n<li>å†…å­˜æ•ˆç‡é«˜ï¼Œè®¡ç®—å¼€é”€å°</li>\n<li>åœ¨å®è·µä¸­è¡¨ç°ç¨³å®šå¯é </li>\n</ul>\n</div></details>\n<h2 id=\"å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥\"><a class=\"anchor\" href=\"#å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥\">#</a> å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥</h2>\n<h3 id=\"learning-rate-decay\"><a class=\"anchor\" href=\"#learning-rate-decay\">#</a> Learning Rate Decay</h3>\n<p>å­¦ä¹ ç‡è¡°å‡æ˜¯ä¸€ç§å¸¸è§çš„è°ƒåº¦ç­–ç•¥ï¼Œ<strong>éšæ—¶é—´è¡°å‡</strong>å­¦ä¹ ç‡ï¼š</p>\n<ul>\n<li><strong>æŒ‡æ•°è¡°å‡</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Î·</mi><mi>t</mi></msub><mo>=</mo><msub><mi>Î·</mi><mn>0</mn></msub><mo>â‹…</mo><msup><mi>Î³</mi><mi>t</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\eta_t = \\eta_0 \\cdot \\gamma^t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Î·</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.63889em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">Î·</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9879959999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7935559999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span></span></span></span></span></span></span></span></li>\n<li -\\beta=\"\"><strong>å¤šé¡¹å¼è¡°å‡</strong>ï¼š\\eta_t = \\eta_0 \\cdot (1 + \\gamma \\cdot t)^</li>\n<li><strong>åˆ†æ®µå¸¸æ•°è¡°å‡</strong>ï¼šåœ¨ç‰¹å®šçš„è®­ç»ƒé˜¶æ®µé™ä½å­¦ä¹ ç‡</li>\n</ul>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šLearning Rate Scheduling</summary><div>\n<p>å­¦ä¹ ç‡è°ƒåº¦ï¼ˆLearning Rate Schedulingï¼‰æ˜¯ä¸€ç§åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç³»ç»Ÿæ€§åœ°è°ƒæ•´å­¦ä¹ ç‡çš„ç­–ç•¥ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯åœ¨è®­ç»ƒåˆæœŸä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡å¿«é€Ÿæ”¶æ•›ï¼Œåœ¨è®­ç»ƒåæœŸä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡ç²¾ç»†è°ƒæ•´ã€‚å¸¸è§çš„è°ƒåº¦ç­–ç•¥åŒ…æ‹¬ï¼š</p>\n<ol>\n<li>æ­¥é•¿è¡°å‡ï¼ˆStep Decayï¼‰ï¼šæ¯éš”å›ºå®šæ­¥æ•°é™ä½å­¦ä¹ ç‡</li>\n<li>æŒ‡æ•°è¡°å‡ï¼ˆExponential Decayï¼‰ï¼šæŒ‰æŒ‡æ•°å‡½æ•°è¿ç»­é™ä½å­¦ä¹ ç‡</li>\n<li>ä½™å¼¦é€€ç«ï¼ˆCosine Annealingï¼‰ï¼šæŒ‰ä½™å¼¦å‡½æ•°å‘¨æœŸæ€§è°ƒæ•´å­¦ä¹ ç‡</li>\n<li>è‡ªé€‚åº”è°ƒåº¦ï¼šæ ¹æ®éªŒè¯é›†æ€§èƒ½åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡</li>\n</ol>\n</div></details>\n<h3 id=\"warmup-ç­–ç•¥\"><a class=\"anchor\" href=\"#warmup-ç­–ç•¥\">#</a> Warmup ç­–ç•¥</h3>\n<p>Warmup æ˜¯ä¸€ç§<strong>å…ˆå¢å¤§åå‡å°</strong>çš„å­¦ä¹ ç‡è°ƒåº¦æ–¹æ³•ï¼š</p>\n<ol>\n<li><strong>é¢„çƒ­é˜¶æ®µ</strong>ï¼šä»å¾ˆå°çš„å­¦ä¹ ç‡å¼€å§‹ï¼Œé€æ¸å¢å¤§åˆ°ç›®æ ‡å€¼</li>\n<li><strong>æ­£å¸¸è®­ç»ƒ</strong>ï¼šä½¿ç”¨æ ‡å‡†çš„å­¦ä¹ ç‡è¡°å‡ç­–ç•¥</li>\n</ol>\n<div class=\"note warning\">\n<p>Warmup ç­–ç•¥åœ¨å¤§æ‰¹é‡è®­ç»ƒå’Œ Transformer æ¨¡å‹ä¸­ç‰¹åˆ«é‡è¦ï¼Œæœ‰åŠ©äºç¨³å®šè®­ç»ƒåˆæœŸçš„æ¢¯åº¦æ›´æ–°ã€‚</p>\n</div>\n<h2 id=\"å®é™…åº”ç”¨è€ƒè™‘\"><a class=\"anchor\" href=\"#å®é™…åº”ç”¨è€ƒè™‘\">#</a> å®é™…åº”ç”¨è€ƒè™‘</h2>\n<h3 id=\"æ®‹å·®ç½‘ç»œä¸­çš„åº”ç”¨\"><a class=\"anchor\" href=\"#æ®‹å·®ç½‘ç»œä¸­çš„åº”ç”¨\">#</a> æ®‹å·®ç½‘ç»œä¸­çš„åº”ç”¨</h3>\n<details class=\"info\"><summary>æ·±å…¥ç†è§£ï¼šResidual Network</summary><div>\n<p>æ®‹å·®ç½‘ç»œï¼ˆResidual Network, ResNetï¼‰æ˜¯ä¸€ç§æ·±åº¦ç¥ç»ç½‘ç»œæ¶æ„ï¼Œé€šè¿‡å¼•å…¥è·³è·ƒè¿æ¥ï¼ˆskip connectionï¼‰è§£å†³äº†æ·±å±‚ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚åœ¨ ResNet ä¸­ï¼Œç½‘ç»œå­¦ä¹ çš„æ˜¯æ®‹å·®æ˜ å°„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>âˆ’</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">F(x) = H(x) - x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>ï¼Œè€Œä¸æ˜¯ç›´æ¥çš„æ˜ å°„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span>ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç½‘ç»œèƒ½å¤Ÿè®­ç»ƒå¾—æ›´æ·±ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„æ€§èƒ½ã€‚æ®‹å·®ç½‘ç»œçš„æ ¸å¿ƒä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>\n<ol>\n<li>è§£å†³æ·±å±‚ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</li>\n<li>å…è®¸è®­ç»ƒæ›´æ·±çš„ç½‘ç»œç»“æ„</li>\n<li>æé«˜ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›å’Œæ³›åŒ–æ€§èƒ½</li>\n<li>ç®€åŒ–ç½‘ç»œçš„ä¼˜åŒ–è¿‡ç¨‹</li>\n</ol>\n</div></details>\n<p>åœ¨æ®‹å·®ç½‘ç»œä¸­ï¼Œè‡ªé€‚åº”å­¦ä¹ ç‡çš„åº”ç”¨éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š</p>\n<ul>\n<li><strong>ä¸åŒå±‚çš„å­¦ä¹ ç‡</strong>ï¼šæµ…å±‚å’Œæ·±å±‚å¯èƒ½éœ€è¦ä¸åŒçš„å­¦ä¹ ç‡ç­–ç•¥</li>\n<li><strong>è·³è·ƒè¿æ¥çš„å½±å“</strong>ï¼šæ®‹å·®è¿æ¥æ”¹å˜äº†æ¢¯åº¦çš„ä¼ æ’­æ–¹å¼</li>\n<li><strong>æ‰¹é‡å½’ä¸€åŒ–çš„ååŒ</strong>ï¼šBN å±‚ä¸è‡ªé€‚åº”å­¦ä¹ ç‡çš„ç›¸äº’ä½œç”¨</li>\n</ul>\n<h3 id=\"å‚æ•°ç‰¹å¼‚æ€§è°ƒæ•´\"><a class=\"anchor\" href=\"#å‚æ•°ç‰¹å¼‚æ€§è°ƒæ•´\">#</a> å‚æ•°ç‰¹å¼‚æ€§è°ƒæ•´</h3>\n<p>ç”±äºç¥ç»ç½‘ç»œä¸­ä¸åŒå‚æ•°çš„ç‰¹æ€§å·®å¼‚å·¨å¤§ï¼Œè‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•èƒ½å¤Ÿï¼š</p>\n<ul>\n<li><strong>ä¸ºæ¯ä¸ªå‚æ•°ç»´æŠ¤ç‹¬ç«‹çš„å­¦ä¹ ç‡</strong></li>\n<li><strong>æ ¹æ®å‚æ•°çš„å†å²æ¢¯åº¦ä¿¡æ¯è¿›è¡Œè°ƒæ•´</strong></li>\n<li><strong>è‡ªåŠ¨å¹³è¡¡ä¸åŒå‚æ•°çš„æ›´æ–°å¹…åº¦</strong></li>\n</ul>\n<h2 id=\"ç®—æ³•é€‰æ‹©ä¸è°ƒä¼˜å»ºè®®\"><a class=\"anchor\" href=\"#ç®—æ³•é€‰æ‹©ä¸è°ƒä¼˜å»ºè®®\">#</a> ç®—æ³•é€‰æ‹©ä¸è°ƒä¼˜å»ºè®®</h2>\n<div class=\"tab\" data-id=\"Adam\" data-title=\"é¦–é€‰æ–¹æ¡ˆ\">\n<p>Adam ç®—æ³•é€šå¸¸æ˜¯åˆå­¦è€…å’Œå¤§å¤šæ•°åº”ç”¨åœºæ™¯çš„é¦–é€‰ï¼Œå…·æœ‰è‰¯å¥½çš„é»˜è®¤å‚æ•°è®¾ç½®å’Œå¹¿æ³›çš„é€‚ç”¨æ€§ã€‚</p>\n</div>\n<div class=\"tab\" data-id=\"RMSProp\" data-title=\"å¤‡é€‰æ–¹æ¡ˆ\">\n<p>å½“ Adam å‡ºç°æ”¶æ•›é—®é¢˜æ—¶ï¼ŒRMSProp å¯ä»¥ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆï¼Œç‰¹åˆ«æ˜¯åœ¨ RNN è®­ç»ƒä¸­è¡¨ç°ä¼˜å¼‚ã€‚</p>\n</div>\n<div class=\"tab\" data-id=\"learning\" data-title=\"lrè°ƒåº¦ é«˜çº§ç­–ç•¥\">\n<p>å¯¹äºè¿½æ±‚æè‡´æ€§èƒ½çš„åº”ç”¨ï¼Œå¯ä»¥ç»“åˆå¤šç§å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥ï¼Œå¦‚ Warmup + Cosine Decay ç­‰ã€‚</p>\n</div>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "æ·±åº¦å­¦ä¹ ",
                "ç¥ç»ç½‘ç»œ",
                "æ¢¯åº¦ä¸‹é™",
                "ä¼˜åŒ–ç®—æ³•",
                "è‡ªé€‚åº”å­¦ä¹ ç‡",
                "RMSProp",
                "Adam",
                "å­¦ä¹ ç‡è°ƒåº¦",
                "æ®‹å·®ç½‘ç»œ"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3439-%E9%87%8D%E6%96%B0%E5%AE%89%E6%8E%92%E4%BC%9A%E8%AE%AE%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%9A%E7%A9%BA%E4%BD%99%E6%97%B6%E9%97%B4-I/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A3439-%E9%87%8D%E6%96%B0%E5%AE%89%E6%8E%92%E4%BC%9A%E8%AE%AE%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%9A%E7%A9%BA%E4%BD%99%E6%97%B6%E9%97%B4-I/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š3439. é‡æ–°å®‰æ’ä¼šè®®å¾—åˆ°æœ€å¤šç©ºä½™æ—¶é—´ I",
            "date_published": "2025-07-08T17:03:40.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZXNjaGVkdWxlLW1lZXRpbmdzLWZvci1tYXhpbXVtLWZyZWUtdGltZS1pP2VudlR5cGU9ZGFpbHktcXVlc3Rpb24mYW1wO2VudklkPTIwMjUtMDctMDk=\">LeetCode 3439</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°  <code>eventTime</code>  è¡¨ç¤ºä¸€ä¸ªæ´»åŠ¨çš„æ€»æ—¶é•¿ï¼Œè¿™ä¸ªæ´»åŠ¨å¼€å§‹äº  <code>t = 0</code>  ï¼Œç»“æŸäº  <code>t = eventTime</code>  ã€‚</p>\n<p>åŒæ—¶ç»™ä½ ä¸¤ä¸ªé•¿åº¦ä¸º  <code>n</code>  çš„æ•´æ•°æ•°ç»„  <code>startTime</code>  å’Œ  <code>endTime</code>  ã€‚å®ƒä»¬è¡¨ç¤ºè¿™æ¬¡æ´»åŠ¨ä¸­  <code>n</code>  ä¸ªæ—¶é—´ æ²¡æœ‰é‡å  çš„ä¼šè®®ï¼Œå…¶ä¸­ç¬¬  <code>i</code>  ä¸ªä¼šè®®çš„æ—¶é—´ä¸º  <code>[startTime[i], endTime[i]]</code>  ã€‚</p>\n<p>ä½ å¯ä»¥é‡æ–°å®‰æ’ è‡³å¤š  <code>k</code>  ä¸ªä¼šè®®ï¼Œå®‰æ’çš„è§„åˆ™æ˜¯å°†ä¼šè®®æ—¶é—´å¹³ç§»ï¼Œä¸”ä¿æŒåŸæ¥çš„ ä¼šè®®æ—¶é•¿ ï¼Œä½ çš„ç›®çš„æ˜¯ç§»åŠ¨ä¼šè®®å æœ€å¤§åŒ– ç›¸é‚»ä¸¤ä¸ªä¼šè®®ä¹‹é—´çš„ æœ€é•¿ è¿ç»­ç©ºä½™æ—¶é—´ã€‚</p>\n<p>ç§»åŠ¨å‰åæ‰€æœ‰ä¼šè®®ä¹‹é—´çš„ ç›¸å¯¹ é¡ºåºéœ€è¦ä¿æŒä¸å˜ï¼Œè€Œä¸”ä¼šè®®æ—¶é—´ä¹Ÿéœ€è¦ä¿æŒäº’ä¸é‡å ã€‚</p>\n<p>è¯·ä½ è¿”å›é‡æ–°å®‰æ’ä¼šè®®ä»¥åï¼Œå¯ä»¥å¾—åˆ°çš„ æœ€å¤§ ç©ºä½™æ—¶é—´ã€‚</p>\n<p>æ³¨æ„ï¼Œä¼šè®® ä¸èƒ½ å®‰æ’åˆ°æ•´ä¸ªæ´»åŠ¨çš„æ—¶é—´ä»¥å¤–ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p>k &lt;= nï¼Œæ‰€ä»¥ä¸€å®šå¯ä»¥é€‰åˆ° k ä¸ªä¼šè®®ã€‚åˆç”±äºé¡ºåºä¸èƒ½æ”¹å˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨æ»‘åŠ¨çª—å£çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç»´æŒä¸€ä¸ªå¤§å°ä¸º k çš„çª—å£ï¼Œçª—å£å†…çš„ä¼šè®®æ—¶é—´å’Œä¸º sumï¼Œçª—å£å·¦ç«¯çš„ä¼šè®®ç»“æŸæ—¶é—´ä¸º stï¼Œå³ç«¯çš„ä¼šè®®å¼€å§‹æ—¶é—´ä¸º etã€‚æ¯æ¬¡ç§»åŠ¨çª—å£æ—¶ï¼Œè®¡ç®—å½“å‰ç©ºä½™æ—¶é—´ et - st - sumï¼Œå¹¶æ›´æ–°æœ€å¤§å€¼ã€‚</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxFreeTime</span><span class=\"params\">(<span class=\"type\">int</span> eventTime, <span class=\"type\">int</span> k, vector&lt;<span class=\"type\">int</span>&gt;&amp; startTime, vector&lt;<span class=\"type\">int</span>&gt;&amp; endTime)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> st = <span class=\"number\">0</span>, et = <span class=\"number\">0</span>, sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> i = <span class=\"number\">0</span>, n = startTime.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(i &lt; k<span class=\"number\">-1</span>) sum += (endTime[i] - startTime[i]),i++;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (i &lt; n)&#123;</span><br><span class=\"line\">            sum += (endTime[i] - startTime[i]),i++;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &lt; n) et = startTime[i];</span><br><span class=\"line\">            <span class=\"keyword\">else</span> et = eventTime;</span><br><span class=\"line\">            ans = <span class=\"built_in\">max</span>(ans, et-st-sum);</span><br><span class=\"line\">            <span class=\"type\">int</span> id = i-k;</span><br><span class=\"line\">            st = endTime[id];</span><br><span class=\"line\">            sum -= (endTime[id]-startTime[id]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "æ»‘åŠ¨çª—å£"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1751-%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E5%8F%82%E5%8A%A0%E7%9A%84%E4%BC%9A%E8%AE%AE%E6%95%B0%E7%9B%AE-II/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1751-%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E5%8F%82%E5%8A%A0%E7%9A%84%E4%BC%9A%E8%AE%AE%E6%95%B0%E7%9B%AE-II/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š1751. æœ€å¤šå¯ä»¥å‚åŠ çš„ä¼šè®®æ•°ç›® II",
            "date_published": "2025-07-08T13:13:27.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLW51bWJlci1vZi1ldmVudHMtdGhhdC1jYW4tYmUtYXR0ZW5kZWQtaWk/ZW52VHlwZT1kYWlseS1xdWVzdGlvbiZhbXA7ZW52SWQ9MjAyNS0wNy0wOA==\">LeetCode 1751</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ª  <code>events</code>  æ•°ç»„ï¼Œå…¶ä¸­  <code>events[i] = [startDayi, endDayi, valuei]</code>  ï¼Œè¡¨ç¤ºç¬¬  <code>i</code>  ä¸ªä¼šè®®åœ¨  <code>startDayi</code>  å¤©å¼€å§‹ï¼Œç¬¬  <code>endDayi</code>  å¤©ç»“æŸï¼Œå¦‚æœä½ å‚åŠ è¿™ä¸ªä¼šè®®ï¼Œä½ èƒ½å¾—åˆ°ä»·å€¼  <code>valuei</code>  ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•´æ•°  <code>k</code>  è¡¨ç¤ºä½ èƒ½å‚åŠ çš„æœ€å¤šä¼šè®®æ•°ç›®ã€‚</p>\n<p>ä½ åŒä¸€æ—¶é—´åªèƒ½å‚åŠ ä¸€ä¸ªä¼šè®®ã€‚å¦‚æœä½ é€‰æ‹©å‚åŠ æŸä¸ªä¼šè®®ï¼Œé‚£ä¹ˆä½ å¿…é¡» å®Œæ•´ åœ°å‚åŠ å®Œè¿™ä¸ªä¼šè®®ã€‚ä¼šè®®ç»“æŸæ—¥æœŸæ˜¯åŒ…å«åœ¨ä¼šè®®å†…çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸èƒ½åŒæ—¶å‚åŠ ä¸€ä¸ªå¼€å§‹æ—¥æœŸä¸å¦ä¸€ä¸ªç»“æŸæ—¥æœŸç›¸åŒçš„ä¸¤ä¸ªä¼šè®®ã€‚</p>\n<p>è¯·ä½ è¿”å›èƒ½å¾—åˆ°çš„ä¼šè®®ä»·å€¼ æœ€å¤§å’Œ ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<p><mark>è§£æ³•ä¸€</mark>æŒ‰å¼€å§‹æ—¶é—´æ’åºåï¼Œå®šä¹‰ dp [i] è¡¨ç¤ºé€‰æ‹©ç¬¬ i ä¸ªä¼šè®®ä½œä¸ºç¬¬ä¸€ä¸ªä¼šè®®çš„æœ€å¤§ä»·å€¼ï¼Œå¯¹äºæ¯è½®è¿­ä»£ jï¼ˆè¡¨ç¤ºå·²é€‰ j+1 ä¸ªä¼šè®®ï¼‰ï¼Œç»´æŠ¤ä¸€ä¸ªåç¼€æœ€å¤§å€¼æ•°ç»„ suf_max è®°å½•æ­¤å‰æ‰€æœ‰å¯èƒ½æ–¹æ¡ˆçš„æœ€å¤§å€¼ï¼Œç„¶åé€šè¿‡äºŒåˆ†æŸ¥æ‰¾ç¡®å®šå½“å‰ä¼šè®®ç»“æŸåå¯ä»¥å‚åŠ çš„ä¸‹ä¸€ä¸ªä¼šè®®ä½ç½® ndï¼ŒçŠ¶æ€è½¬ç§»ä¸º dp [i] = events [i][2] + suf_max [nd]ï¼Œå³ä¸ºé€‰å®šä»ç¬¬ i ä¸ªä¼šè®®å¼€å§‹ï¼Œå†é€‰èƒ½é€‰çš„ä¼šè®®é€‰ j ä¸ªçš„æœ€å¤§å€¼ã€‚æœ€ç»ˆå®é™…ä¸ºéå†é€‰ j ä¸ªä¼šè®®æ—¶çš„æœ€å¤§å€¼ï¼Œç”±äºæœ€å¤§å€¼é€‰æ‹©çš„ä¼šè®®æ•°ä¸ä¸€å®šç›¸åŒï¼Œæœ€ç»ˆç­”æ¡ˆæ˜¯æ‰€æœ‰ dp å€¼çš„æœ€å¤§å€¼ã€‚</p>\n<p><mark>è§£æ³•äºŒ</mark>åŒæ ·æŒ‰å¼€å§‹æ—¶é—´æ’åºï¼Œå®šä¹‰ dp [i][j] è¡¨ç¤ºä»ç¬¬ i ä¸ªä¼šè®®å¼€å§‹ï¼Œæœ€å¤šå‚åŠ  j ä¸ªä¼šè®®çš„æœ€å¤§ä»·å€¼ï¼Œä»åå¾€å‰è€ƒè™‘æ¯ä¸ªä¼šè®®ï¼Œå¯¹äºä½ç½® i å’Œå‰©ä½™å¯é€‰æ•°é‡ jï¼Œè¦ä¹ˆä¸é€‰å½“å‰ä¼šè®® (dp [i+1][j])ï¼Œè¦ä¹ˆé€‰æ‹©å½“å‰ä¼šè®®å¹¶æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸å†²çªçš„ä¼šè®®ä½ç½® nd (events [i][2] + dp [nd][j-1])ï¼Œå–ä¸¤è€…æœ€å¤§å€¼ï¼Œæœ€ç»ˆç­”æ¡ˆä¸º dp [0][k]ã€‚ï¼ˆè¯¥æ€è·¯å‚è€ƒå¤§éƒ¨åˆ†äººæ‰€ç”¨çš„æŒ‰ç»“æŸæ—¶é—´æ’åºçš„è§£æ³•ï¼Œæœ¬è´¨ä¸Šå’Œå‰ä¸€ä¸ªè§£æ³•ç›¸åŒï¼‰</p>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•1</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxValue</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; events, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = events.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(events);</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">dp</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            dp[i] = events[i][<span class=\"number\">2</span>];</span><br><span class=\"line\">            ans = <span class=\"built_in\">max</span>(ans, dp[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">1</span>; j &lt; k; j++)&#123;</span><br><span class=\"line\">            <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">suf_max</span><span class=\"params\">(n<span class=\"number\">+1</span>,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = n - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--)&#123;</span><br><span class=\"line\">                suf_max[i] = <span class=\"built_in\">max</span>(suf_max[i<span class=\"number\">+1</span>],dp[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> nd = ranges::<span class=\"built_in\">upper_bound</span>(events,events[i][<span class=\"number\">1</span>],&#123;&#125;,[](<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;a)&#123;<span class=\"keyword\">return</span> a[<span class=\"number\">0</span>];&#125;) - events.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">                dp[i] = events[i][<span class=\"number\">2</span>] + suf_max[nd];</span><br><span class=\"line\">                ans = <span class=\"built_in\">max</span>(ans, dp[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•2</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxValue</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; events, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = events.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(events);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(n<span class=\"number\">+1</span>,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(k<span class=\"number\">+1</span>,<span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = n - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> nd = ranges::<span class=\"built_in\">upper_bound</span>(events.<span class=\"built_in\">begin</span>()+i,events.<span class=\"built_in\">end</span>(),events[i][<span class=\"number\">1</span>],&#123;&#125;,[](<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;a)&#123;<span class=\"keyword\">return</span> a[<span class=\"number\">0</span>];&#125;) - events.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">1</span>; j &lt;= k; j++)&#123;</span><br><span class=\"line\">                dp[i][j] = <span class=\"built_in\">max</span>(dp[i<span class=\"number\">+1</span>][j], events[i][<span class=\"number\">2</span>] + dp[nd][j<span class=\"number\">-1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][k];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "æ’åº",
                "åŠ¨æ€è§„åˆ’",
                "äºŒåˆ†æŸ¥æ‰¾"
            ]
        },
        {
            "id": "https://stinncsky.github.io/study-notes/machine-learning/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E9%97%AE%E9%A2%98%EF%BC%9A%E8%BF%87%E6%8B%9F%E5%90%88%E3%80%81%E9%9E%8D%E7%82%B9%E4%B8%8E%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/",
            "url": "https://stinncsky.github.io/study-notes/machine-learning/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E9%97%AE%E9%A2%98%EF%BC%9A%E8%BF%87%E6%8B%9F%E5%90%88%E3%80%81%E9%9E%8D%E7%82%B9%E4%B8%8E%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/",
            "title": "æ¨¡å‹è®­ç»ƒé—®é¢˜ï¼šè¿‡æ‹Ÿåˆã€éç‚¹ä¸ä¼˜åŒ–ç®—æ³•",
            "date_published": "2025-07-07T12:57:26.000Z",
            "content_html": "<h1 id=\"æ¨¡å‹è®­ç»ƒä¸­çš„æ ¸å¿ƒé—®é¢˜ä¸ä¼˜åŒ–ç­–ç•¥\"><a class=\"anchor\" href=\"#æ¨¡å‹è®­ç»ƒä¸­çš„æ ¸å¿ƒé—®é¢˜ä¸ä¼˜åŒ–ç­–ç•¥\">#</a> æ¨¡å‹è®­ç»ƒä¸­çš„æ ¸å¿ƒé—®é¢˜ä¸ä¼˜åŒ–ç­–ç•¥</h1>\n<p>åœ¨æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°å„ç§æŒ‘æˆ˜ï¼šè®­ç»ƒæŸå¤±è¿‡å¤§ã€æµ‹è¯•æ•ˆæœä¸ä½³ã€ä¼˜åŒ–é™·å…¥å±€éƒ¨æœ€ä¼˜ç­‰é—®é¢˜ã€‚æœ¬æ–‡å°†ç³»ç»Ÿæ€§åœ°åˆ†æè¿™äº›é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œå¹¶æä¾›ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚</p>\n<h2 id=\"è®­ç»ƒé˜¶æ®µæŸå¤±è¿‡å¤§çš„è¯Šæ–­ä¸è§£å†³\"><a class=\"anchor\" href=\"#è®­ç»ƒé˜¶æ®µæŸå¤±è¿‡å¤§çš„è¯Šæ–­ä¸è§£å†³\">#</a> è®­ç»ƒé˜¶æ®µæŸå¤±è¿‡å¤§çš„è¯Šæ–­ä¸è§£å†³</h2>\n<p>å½“æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æŸå¤±å‡½æ•°å€¼è¿‡å¤§æ—¶ï¼Œé€šå¸¸å­˜åœ¨ä¸¤ä¸ªä¸»è¦åŸå› ï¼š</p>\n<h3 id=\"1-æ¨¡å‹åå·®é—®é¢˜\"><a class=\"anchor\" href=\"#1-æ¨¡å‹åå·®é—®é¢˜\">#</a> 1. æ¨¡å‹åå·®é—®é¢˜</h3>\n<p><strong>æ¨¡å‹åå·®</strong>æŒ‡çš„æ˜¯ç›®æ ‡å‡½æ•°ä¸åœ¨å½“å‰å¯ä»¥æ‰¾åˆ°çš„å‡½æ•°é›†åˆå½“ä¸­ï¼Œå³æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ä¸è¶³ï¼Œæ— æ³•æ‹Ÿåˆæ•°æ®çš„çœŸå®åˆ†å¸ƒã€‚</p>\n<details class=\"info\"><summary>ä»€ä¹ˆæ˜¯æ¨¡å‹åå·®</summary><div>\n<p>æ¨¡å‹åå·®ï¼ˆModel Biasï¼‰æ˜¯æŒ‡ç”±äºæ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›æœ‰é™ï¼Œæ— æ³•æ•æ‰æ•°æ®ä¸­çš„çœŸå®æ¨¡å¼è€Œäº§ç”Ÿçš„è¯¯å·®ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨ï¼š</p>\n<ul>\n<li>ä½¿ç”¨çº¿æ€§æ¨¡å‹æ‹Ÿåˆéçº¿æ€§æ•°æ®</li>\n<li>ç¥ç»ç½‘ç»œå±‚æ•°ä¸è¶³ï¼Œæ— æ³•å­¦ä¹ å¤æ‚çš„ç‰¹å¾æ˜ å°„</li>\n<li>æ¨¡å‹å‚æ•°æ•°é‡å¤ªå°‘ï¼Œä¸è¶³ä»¥è¡¨ç¤ºæ•°æ®çš„å¤æ‚æ€§</li>\n</ul>\n<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ¨¡å‹ &quot;å¤ªç®€å•äº†&quot;ï¼Œæ— æ³•å­¦ä¼šæ•°æ®ä¸­çš„çœŸå®è§„å¾‹ã€‚</p>\n</div></details>\n<h3 id=\"2-ä¼˜åŒ–é—®é¢˜\"><a class=\"anchor\" href=\"#2-ä¼˜åŒ–é—®é¢˜\">#</a> 2. ä¼˜åŒ–é—®é¢˜</h3>\n<p>å³ä½¿ç›®æ ‡å‡½æ•°åœ¨å½“å‰æ¨¡å‹çš„å‡½æ•°é›†åˆä¸­ï¼Œä½†ä¼˜åŒ–ç®—æ³•æ— æ³•æ‰¾åˆ°æœ€ä¼˜è§£ã€‚è¿™å¯èƒ½ç”±ä»¥ä¸‹å› ç´ å¯¼è‡´ï¼š</p>\n<ul>\n<li>å­¦ä¹ ç‡è®¾ç½®ä¸å½“</li>\n<li>ä¼˜åŒ–ç®—æ³•é€‰æ‹©ä¸åˆé€‚</li>\n<li>é™·å…¥å±€éƒ¨æœ€ä¼˜æˆ–éç‚¹</li>\n</ul>\n<div class=\"note info è¯Šæ–­æ–¹æ³•\">\n<p>æ¯”è¾ƒä¸åŒå¤æ‚åº¦æ¨¡å‹çš„æ•ˆæœï¼šå¦‚æœå±‚æ•°æ›´æ·±çš„ç¥ç»ç½‘ç»œè¡¨ç°æ›´å¥½ï¼Œè¯´æ˜å½“å‰æ¨¡å‹å­˜åœ¨<strong>åå·®é—®é¢˜</strong>ï¼›å¦‚æœå¢åŠ æ¨¡å‹å¤æ‚åº¦åæ•ˆæœæ²¡æœ‰æ˜¾è‘—æå‡ï¼Œåˆ™å¯èƒ½æ˜¯<strong>ä¼˜åŒ–é—®é¢˜</strong>ã€‚</p>\n</div>\n<details class=\"warning\"><summary>æ¢¯åº¦æ¶ˆå¤±ç°è±¡</summary><div>\n<p>æ¢¯åº¦æ¶ˆå¤±ï¼ˆGradient Vanishingï¼‰æ˜¯æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒä¸­çš„å¸¸è§é—®é¢˜ã€‚å½“ç½‘ç»œå±‚æ•°å¾ˆæ·±æ—¶ï¼Œåå‘ä¼ æ’­è¿‡ç¨‹ä¸­æ¢¯åº¦ä¼šé€å±‚è¡°å‡ï¼Œå¯¼è‡´å‰é¢å‡ å±‚çš„å‚æ•°æ›´æ–°æå…¶ç¼“æ…¢ï¼Œç”šè‡³æ¥è¿‘äºé›¶ã€‚</p>\n<p><strong>äº§ç”ŸåŸå› ï¼š</strong></p>\n<ul>\n<li>æ¿€æ´»å‡½æ•°é€‰æ‹©ä¸å½“ï¼ˆå¦‚ sigmoid å‡½æ•°çš„å¯¼æ•°æœ€å¤§å€¼ä»…ä¸º 0.25ï¼‰</li>\n<li>æƒé‡åˆå§‹åŒ–ä¸åˆç†</li>\n<li>ç½‘ç»œç»“æ„è®¾è®¡é—®é¢˜</li>\n</ul>\n<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>\n<ul>\n<li>ä½¿ç”¨ ReLU ç­‰æ¿€æ´»å‡½æ•°</li>\n<li>é‡‡ç”¨åˆé€‚çš„æƒé‡åˆå§‹åŒ–æ–¹æ³•ï¼ˆå¦‚ Xavierã€He åˆå§‹åŒ–ï¼‰</li>\n<li>ä½¿ç”¨æ‰¹å½’ä¸€åŒ–ï¼ˆBatch Normalizationï¼‰</li>\n<li>åº”ç”¨æ®‹å·®è¿æ¥ï¼ˆResNetï¼‰</li>\n</ul>\n</div></details>\n<h2 id=\"æµ‹è¯•é˜¶æ®µæŸå¤±è¿‡å¤§çš„åˆ†æ\"><a class=\"anchor\" href=\"#æµ‹è¯•é˜¶æ®µæŸå¤±è¿‡å¤§çš„åˆ†æ\">#</a> æµ‹è¯•é˜¶æ®µæŸå¤±è¿‡å¤§çš„åˆ†æ</h2>\n<p>æµ‹è¯•æ—¶æŸå¤±è¿‡å¤§ä¸»è¦ç”±ä¸¤ä¸ªå› ç´ é€ æˆï¼š</p>\n<h3 id=\"1-è¿‡æ‹Ÿåˆé—®é¢˜\"><a class=\"anchor\" href=\"#1-è¿‡æ‹Ÿåˆé—®é¢˜\">#</a> 1. è¿‡æ‹Ÿåˆé—®é¢˜</h3>\n<p>æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨æµ‹è¯•é›†ä¸Šæ€§èƒ½ä¸‹é™ã€‚<strong>æ¨¡å‹å‚æ•°è¶Šå¤šè¶Šå¤æ‚ï¼Œè¶Šå®¹æ˜“è¿‡æ‹Ÿåˆ</strong>ã€‚</p>\n<h3 id=\"2-æ•°æ®ä¸åŒ¹é…\"><a class=\"anchor\" href=\"#2-æ•°æ®ä¸åŒ¹é…\">#</a> 2. æ•°æ®ä¸åŒ¹é…</h3>\n<p>è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®çš„åˆ†å¸ƒä¸ä¸€è‡´ï¼Œå¯¼è‡´æ¨¡å‹æ³›åŒ–èƒ½åŠ›å·®ã€‚</p>\n<div class=\"note warning é‡è¦æé†’\">\n<p>è¿‡æ‹Ÿåˆæ˜¯æœºå™¨å­¦ä¹ ä¸­æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ã€‚å¤æ‚æ¨¡å‹è™½ç„¶èƒ½å¤Ÿæ›´å¥½åœ°æ‹Ÿåˆè®­ç»ƒæ•°æ®ï¼Œä½†ä¹Ÿæ›´å®¹æ˜“å­¦ä¹ åˆ°å™ªå£°å’Œæ— å…³ç‰¹å¾ï¼Œä»è€Œåœ¨æ–°æ•°æ®ä¸Šè¡¨ç°ä¸ä½³ã€‚</p>\n</div>\n<h2 id=\"äº¤å‰éªŒè¯robustçš„æ¨¡å‹è¯„ä¼°ç­–ç•¥\"><a class=\"anchor\" href=\"#äº¤å‰éªŒè¯robustçš„æ¨¡å‹è¯„ä¼°ç­–ç•¥\">#</a> äº¤å‰éªŒè¯ï¼šrobust çš„æ¨¡å‹è¯„ä¼°ç­–ç•¥</h2>\n<p>ä¸ºäº†æ›´ reliable åœ°è¯„ä¼°æ¨¡å‹æ€§èƒ½å¹¶é˜²æ­¢ç‰¹æ®Šæƒ…å†µçš„å½±å“ï¼Œæˆ‘ä»¬é‡‡ç”¨<strong>äº¤å‰éªŒè¯</strong>æ–¹æ³•ï¼š</p>\n<details class=\"info\"><summary>äº¤å‰éªŒè¯è¯¦è§£</summary><div>\n<p>äº¤å‰éªŒè¯ï¼ˆCross Validationï¼‰æ˜¯ä¸€ç§ç»Ÿè®¡å­¦ä¸Šå°†æ•°æ®æ ·æœ¬åˆ‡å‰²æˆè¾ƒå°å­é›†çš„å®ç”¨æ–¹æ³•ã€‚åŸºæœ¬æ€æƒ³æ˜¯ï¼š</p>\n<p><strong>K æŠ˜äº¤å‰éªŒè¯æ­¥éª¤ï¼š</strong></p>\n<ol>\n<li>å°†è®­ç»ƒé›†éšæœºåˆ†æˆ K ä¸ªç›¸ç­‰çš„å­é›†</li>\n<li>æ¯æ¬¡ä½¿ç”¨ K-1 ä¸ªå­é›†ä½œä¸ºè®­ç»ƒé›†ï¼Œå‰©ä½™ 1 ä¸ªå­é›†ä½œä¸ºéªŒè¯é›†</li>\n<li>é‡å¤ K æ¬¡ï¼Œæ¯ä¸ªå­é›†éƒ½ä½œä¸ºä¸€æ¬¡éªŒè¯é›†</li>\n<li>è®¡ç®— K æ¬¡éªŒè¯ç»“æœçš„å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆæ€§èƒ½æŒ‡æ ‡</li>\n</ol>\n<p><strong>ä¼˜åŠ¿ï¼š</strong></p>\n<ul>\n<li>å……åˆ†åˆ©ç”¨æ‰€æœ‰æ•°æ®è¿›è¡Œè®­ç»ƒå’ŒéªŒè¯</li>\n<li>å‡å°‘å› æ•°æ®åˆ’åˆ†å¶ç„¶æ€§é€ æˆçš„è¯„ä¼°åå·®</li>\n<li>æä¾›æ¨¡å‹æ€§èƒ½çš„ç½®ä¿¡åŒºé—´</li>\n</ul>\n<p><strong>å¸¸ç”¨å–å€¼ï¼š</strong></p>\n<ul>\n<li>K=5 æˆ– K=10 æ˜¯æœ€å¸¸è§çš„é€‰æ‹©</li>\n<li>å½“æ•°æ®é‡å¾ˆå°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç•™ä¸€æ³•ï¼ˆK = æ ·æœ¬æ•°é‡ï¼‰</li>\n</ul>\n</div></details>\n<p>å°†è®­ç»ƒé›†åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼Œè€ƒè™‘åˆ†æˆ n ä»½ï¼Œä¸€ä»½å½“ä½œéªŒè¯é›†ï¼Œå…¶ä»–å½“ä½œè®­ç»ƒé›†ï¼Œæšä¸¾æ‰€æœ‰å¯èƒ½çš„éªŒè¯é›†åˆ’åˆ†ï¼Œæ±‚æ¨¡å‹çš„å¹³å‡ loss ä½œä¸ºæœ€ç»ˆè¯„ä¼°ç»“æœã€‚</p>\n<h2 id=\"ä¼˜åŒ–è¿‡ç¨‹ä¸­çš„ä¸´ç•Œç‚¹åˆ†æ\"><a class=\"anchor\" href=\"#ä¼˜åŒ–è¿‡ç¨‹ä¸­çš„ä¸´ç•Œç‚¹åˆ†æ\">#</a> ä¼˜åŒ–è¿‡ç¨‹ä¸­çš„ä¸´ç•Œç‚¹åˆ†æ</h2>\n<p>åœ¨æ¢¯åº¦ä¸‹é™ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå½“<strong>æ¢¯åº¦ä¸º 0</strong> æ—¶ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸´ç•Œç‚¹ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¢¯åº¦ä¸º 0 ä¸ä¸€å®šæ„å‘³ç€åˆ°è¾¾äº†æœ€ä¼˜è§£ï¼Œä¹Ÿå¯èƒ½æ˜¯<strong>éç‚¹</strong>ã€‚</p>\n<h3 id=\"hessiançŸ©é˜µä¸ä¸´ç•Œç‚¹åˆ¤æ–­\"><a class=\"anchor\" href=\"#hessiançŸ©é˜µä¸ä¸´ç•Œç‚¹åˆ¤æ–­\">#</a> Hessian çŸ©é˜µä¸ä¸´ç•Œç‚¹åˆ¤æ–­</h3>\n<p>å¯¹äºå‡½æ•°<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L(\\theta)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mclose\">)</span></span></span></span> åœ¨ç‚¹<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\theta&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> å¤„çš„æ³°å‹’å±•å¼€ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo stretchy=\"false\">)</mo><mo>â‰ˆ</mo><mi>L</mi><mo stretchy=\"false\">(</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">)</mo><mo>+</mo><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo>âˆ’</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><msup><mo stretchy=\"false\">)</mo><mi>T</mi></msup><mi>g</mi><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo>âˆ’</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><msup><mo stretchy=\"false\">)</mo><mi>T</mi></msup><mi>H</mi><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo>âˆ’</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L(\\theta) \\approx L(\\theta&#x27;) + (\\theta - \\theta&#x27;)^T g + \\frac{1}{2} (\\theta - \\theta&#x27;)^T H (\\theta - \\theta&#x27;)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰ˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1413309999999999em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>=</mo><mi mathvariant=\"normal\">âˆ‡</mi><mi>L</mi><mo stretchy=\"false\">(</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">)</mo><msub><mi mathvariant=\"normal\">âˆ£</mi><mrow><mi>Î¸</mi><mo>=</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow></msub></mrow><annotation encoding=\"application/x-tex\">g = \\nabla L(\\theta&#x27;)|_{\\theta=\\theta&#x27;}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ‡</span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord\">âˆ£</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6828285714285715em;\"><span style=\"top:-2.786em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯æ¢¯åº¦å‘é‡</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>=</mo><msup><mi mathvariant=\"normal\">âˆ‡</mi><mn>2</mn></msup><mi>L</mi><mo stretchy=\"false\">(</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">)</mo><msub><mi mathvariant=\"normal\">âˆ£</mi><mrow><mi>Î¸</mi><mo>=</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow></msub></mrow><annotation encoding=\"application/x-tex\">H = \\nabla^2 L(\\theta&#x27;)|_{\\theta=\\theta&#x27;}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\">âˆ‡</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord\">âˆ£</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6828285714285715em;\"><span style=\"top:-2.786em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ Hessian çŸ©é˜µ</li>\n</ul>\n<details class=\"info\"><summary>HessiançŸ©é˜µè¯¦è§£</summary><div>\n<p>Hessian çŸ©é˜µæ˜¯ä¸€ä¸ªç”±å‡½æ•°çš„æ‰€æœ‰äºŒé˜¶åå¯¼æ•°ç»„æˆçš„æ–¹é˜µï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>H</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msup><mi mathvariant=\"normal\">âˆ‚</mi><mn>2</mn></msup><mi>L</mi></mrow><mrow><mi mathvariant=\"normal\">âˆ‚</mi><msub><mi>Î¸</mi><mi>i</mi></msub><mi mathvariant=\"normal\">âˆ‚</mi><msub><mi>Î¸</mi><mi>j</mi></msub></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">H_{ij} = \\frac{\\partial^2 L}{\\partial \\theta_i \\partial \\theta_j}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.463216em;vertical-align:-0.972108em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.491108em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">âˆ‚</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\" style=\"margin-right:0.05556em;\">âˆ‚</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">âˆ‚</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">L</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.972108em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p><strong>ç‰©ç†æ„ä¹‰ï¼š</strong></p>\n<ul>\n<li>æè¿°å‡½æ•°åœ¨æŸç‚¹é™„è¿‘çš„å±€éƒ¨æ›²ç‡ä¿¡æ¯</li>\n<li>ç”¨äºåˆ¤æ–­ä¸´ç•Œç‚¹çš„æ€§è´¨</li>\n<li>åœ¨ä¼˜åŒ–ç®—æ³•ä¸­æŒ‡å¯¼æœç´¢æ–¹å‘</li>\n</ul>\n<p><strong>è®¡ç®—å¤æ‚åº¦ï¼š</strong><br />\nå¯¹äºå…·æœ‰ n ä¸ªå‚æ•°çš„æ¨¡å‹ï¼ŒHessian çŸ©é˜µæ˜¯ nÃ—n çš„ï¼Œè®¡ç®—å’Œå­˜å‚¨å¼€é”€å·¨å¤§ï¼Œå› æ­¤åœ¨å®é™…æ·±åº¦å­¦ä¹ ä¸­å¾ˆå°‘ç›´æ¥ä½¿ç”¨ã€‚</p>\n</div></details>\n<h3 id=\"ä¸´ç•Œç‚¹ç±»å‹åˆ¤æ–­\"><a class=\"anchor\" href=\"#ä¸´ç•Œç‚¹ç±»å‹åˆ¤æ–­\">#</a> ä¸´ç•Œç‚¹ç±»å‹åˆ¤æ–­</h3>\n<p>åœ¨ä¸´ç•Œç‚¹<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\theta&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>ï¼ˆå³<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">g = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>ï¼‰å¤„ï¼Œé€šè¿‡åˆ†æ Hessian çŸ©é˜µçš„æ€§è´¨æ¥åˆ¤æ–­ç‚¹çš„ç±»å‹ï¼š</p>\n<ul>\n<li><strong>å±€éƒ¨æœ€å°å€¼</strong>ï¼šå¯¹ä»»æ„å‘é‡<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>v</mi><mi>T</mi></msup><mi>H</mi><mi>v</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">v^T H v &gt; 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.880431em;vertical-align:-0.0391em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>ï¼ˆæ­£å®šçŸ©é˜µï¼‰</li>\n<li><strong>å±€éƒ¨æœ€å¤§å€¼</strong>ï¼šå¯¹ä»»æ„å‘é‡<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>v</mi><mi>T</mi></msup><mi>H</mi><mi>v</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">v^T H v &lt; 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.880431em;vertical-align:-0.0391em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>ï¼ˆè´Ÿå®šçŸ©é˜µï¼‰</li>\n<li><strong>éç‚¹</strong>ï¼šæ—¢æœ‰æ­£å€¼åˆæœ‰è´Ÿå€¼ï¼ˆä¸å®šçŸ©é˜µï¼‰</li>\n</ul>\n<h3 id=\"ç‰¹å¾å€¼åˆ†ææ–¹æ³•\"><a class=\"anchor\" href=\"#ç‰¹å¾å€¼åˆ†ææ–¹æ³•\">#</a> ç‰¹å¾å€¼åˆ†ææ–¹æ³•</h3>\n<details class=\"info\"><summary>ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡</summary><div>\n<p>å¯¹äºçŸ©é˜µ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> å’Œå‘é‡<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>ï¼Œå¦‚æœæ»¡è¶³ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mi>v</mi><mo>=</mo><mi>Î»</mi><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">Av = \\lambda v\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></p>\n<p>åˆ™<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span> ç§°ä¸º<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> çš„<strong>ç‰¹å¾å‘é‡</strong>ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> ç§°ä¸ºå¯¹åº”çš„<strong>ç‰¹å¾å€¼</strong>ã€‚</p>\n<p><strong>å‡ ä½•æ„ä¹‰ï¼š</strong><br />\nå½“çº¿æ€§å˜æ¢<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> ä½œç”¨äºç‰¹å¾å‘é‡<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span> æ—¶ï¼Œç»“æœä»…ä»…æ˜¯<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span> çš„ç¼©æ”¾ï¼Œæ–¹å‘ä¿æŒä¸å˜ï¼ˆæˆ–åå‘ï¼‰ã€‚ç‰¹å¾å€¼<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> å°±æ˜¯è¿™ä¸ªç¼©æ”¾å› å­ï¼Œæ­£è´Ÿä»£è¡¨ç¼©æ”¾æ–¹å‘ã€‚</p>\n<p><strong>Hessian çŸ©é˜µçš„ç‰¹æ®Šæ€§è´¨ï¼š</strong><br />\nç”±äº Hessian çŸ©é˜µæ˜¯å®å¯¹ç§°çŸ©é˜µï¼Œå®ƒå¯ä»¥è¿›è¡Œ<strong>æ­£äº¤å¯¹è§’åŒ–</strong>ï¼Œå³å­˜åœ¨æ­£äº¤çŸ©é˜µ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span> ä½¿å¾—ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>H</mi><mo>=</mo><mi>Q</mi><mi mathvariant=\"normal\">Î›</mi><msup><mi>Q</mi><mi>T</mi></msup></mrow><annotation encoding=\"application/x-tex\">H = Q \\Lambda Q^T\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0857709999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mord\">Î›</span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Î›</mi></mrow><annotation encoding=\"application/x-tex\">\\Lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Î›</span></span></span></span> æ˜¯ç”±ç‰¹å¾å€¼ç»„æˆçš„å¯¹è§’çŸ©é˜µã€‚</p>\n</div></details>\n<p>é€šè¿‡è®¡ç®— Hessian çŸ©é˜µ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi></mrow><annotation encoding=\"application/x-tex\">H</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span></span></span></span> çš„ç‰¹å¾å€¼æ¥åˆ¤æ–­ä¸´ç•Œç‚¹ç±»å‹ï¼š</p>\n<ul>\n<li><strong>æ‰€æœ‰ç‰¹å¾å€¼éƒ½ä¸ºæ­£</strong> â†’ å±€éƒ¨æœ€å°å€¼</li>\n<li><strong>æ‰€æœ‰ç‰¹å¾å€¼éƒ½ä¸ºè´Ÿ</strong> â†’ å±€éƒ¨æœ€å¤§å€¼</li>\n<li><strong>ç‰¹å¾å€¼æœ‰æ­£æœ‰è´Ÿ</strong> â†’ éç‚¹</li>\n</ul>\n<h3 id=\"ç‰¹å¾å‘é‡çš„ä¼˜åŒ–æ„ä¹‰\"><a class=\"anchor\" href=\"#ç‰¹å¾å‘é‡çš„ä¼˜åŒ–æ„ä¹‰\">#</a> ç‰¹å¾å‘é‡çš„ä¼˜åŒ–æ„ä¹‰</h3>\n<p>åœ¨ç‰¹å¾å‘é‡åæ ‡ç³»ä¸‹ï¼Œä»»æ„å‘é‡<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span> å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>v</mi><mo>=</mo><msub><mi>c</mi><mn>1</mn></msub><msub><mi>u</mi><mn>1</mn></msub><mo>+</mo><msub><mi>c</mi><mn>2</mn></msub><msub><mi>u</mi><mn>2</mn></msub><mo>+</mo><mo>â‹¯</mo><mo>+</mo><msub><mi>c</mi><mi>n</mi></msub><msub><mi>u</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">v = c_1 u_1 + c_2 u_2 + \\cdots + c_n u_n\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"minner\">â‹¯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">u_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ Hessian çŸ©é˜µçš„æ­£äº¤å½’ä¸€åŒ–ç‰¹å¾å‘é‡ã€‚æ­¤æ—¶äºŒæ¬¡å‹ç®€åŒ–ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>v</mi><mi>T</mi></msup><mi>H</mi><mi>v</mi><mo>=</mo><msub><mi>Î»</mi><mn>1</mn></msub><msubsup><mi>c</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msub><mi>Î»</mi><mn>2</mn></msub><msubsup><mi>c</mi><mn>2</mn><mn>2</mn></msubsup><mo>+</mo><mo>â‹¯</mo><mo>+</mo><msub><mi>Î»</mi><mi>n</mi></msub><msubsup><mi>c</mi><mi>n</mi><mn>2</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">v^T H v = \\lambda_1 c_1^2 + \\lambda_2 c_2^2 + \\cdots + \\lambda_n c_n^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8913309999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1111079999999998em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î»</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1111079999999998em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î»</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"minner\">â‹¯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1111079999999998em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Î»</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å¯¹äºç‰¹å¾å‘é‡<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å’Œå¯¹åº”ç‰¹å¾å€¼<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span>ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>u</mi><mi>T</mi></msup><mi>H</mi><mi>u</mi><mo>=</mo><msup><mi>u</mi><mi>T</mi></msup><mi>Î»</mi><mi>u</mi><mo>=</mo><mi>Î»</mi><mi mathvariant=\"normal\">âˆ£</mi><mi mathvariant=\"normal\">âˆ£</mi><mi>u</mi><mi mathvariant=\"normal\">âˆ£</mi><msup><mi mathvariant=\"normal\">âˆ£</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">u^T H u = u^T \\lambda u = \\lambda ||u||^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8913309999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8913309999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913309999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">Î»</span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mord\">âˆ£</span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord\">âˆ£</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<div class=\"note info éç‚¹é€ƒé€¸ç­–ç•¥\">\n<p>å½“<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\lambda &lt; 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.73354em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span> æ—¶ï¼Œè®¾<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>=</mo><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">\\theta - \\theta&#x27; = u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span>ï¼Œåˆ™<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mi>Î¸</mi><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mi>L</mi><mo stretchy=\"false\">(</mo><msup><mi>Î¸</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L(\\theta) &lt; L(\\theta&#x27;)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>ã€‚<br />\nè¿™æ„å‘³ç€å¯¹äºéç‚¹ï¼Œåªè¦æ²¿ç€è´Ÿç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡æ–¹å‘ç§»åŠ¨ï¼Œå°±å¯ä»¥å‡å°æŸå¤±å‡½æ•°å€¼ã€‚</p>\n<p>è™½ç„¶å®é™…è®­ç»ƒä¸­è®¡ç®—é‡å·¨å¤§ä¸ä¼šç›´æ¥ä½¿ç”¨ï¼Œä½†è¿™ä¸ºç†è§£ä¼˜åŒ–è¿‡ç¨‹æä¾›äº†ç†è®ºåŸºç¡€ã€‚</p>\n</div>\n<h3 id=\"é«˜ç»´ç©ºé—´ä¸­çš„ä¼˜åŒ–ä¼˜åŠ¿\"><a class=\"anchor\" href=\"#é«˜ç»´ç©ºé—´ä¸­çš„ä¼˜åŒ–ä¼˜åŠ¿\">#</a> é«˜ç»´ç©ºé—´ä¸­çš„ä¼˜åŒ–ä¼˜åŠ¿</h3>\n<p><strong>ä½ç»´ç©ºé—´ä¸­çš„å±€éƒ¨æœ€å°å€¼ï¼Œåœ¨é«˜ç»´ç©ºé—´ä¸­å¾ˆå¯èƒ½åªæ˜¯éç‚¹</strong>ã€‚è¿™æ˜¯å› ä¸ºï¼š</p>\n<ul>\n<li>åœ¨ n ç»´ç©ºé—´ä¸­ï¼Œè¦æˆä¸ºå±€éƒ¨æœ€å°å€¼éœ€è¦æ‰€æœ‰ n ä¸ªç‰¹å¾å€¼éƒ½ä¸ºæ­£</li>\n<li>éšç€ç»´åº¦å¢åŠ ï¼Œæ‰€æœ‰ç‰¹å¾å€¼åŒæ—¶ä¸ºæ­£çš„æ¦‚ç‡ exponentially é™ä½</li>\n<li>å¤§å¤šæ•°ä¸´ç•Œç‚¹éƒ½æ˜¯éç‚¹è€Œéå±€éƒ¨æœ€å°å€¼</li>\n</ul>\n<p>å› æ­¤ï¼Œåœ¨å®é™…çš„æ·±åº¦å­¦ä¹ è®­ç»ƒä¸­ï¼ŒçœŸæ­£é‡åˆ°çš„å±€éƒ¨æœ€å°å€¼é—®é¢˜å‡ ä¹ä¸å­˜åœ¨ã€‚</p>\n<h2 id=\"æ‰¹å¤„ç†ä¸è®­ç»ƒç­–ç•¥\"><a class=\"anchor\" href=\"#æ‰¹å¤„ç†ä¸è®­ç»ƒç­–ç•¥\">#</a> æ‰¹å¤„ç†ä¸è®­ç»ƒç­–ç•¥</h2>\n<h3 id=\"åŸºæœ¬æ¦‚å¿µæ¾„æ¸…\"><a class=\"anchor\" href=\"#åŸºæœ¬æ¦‚å¿µæ¾„æ¸…\">#</a> åŸºæœ¬æ¦‚å¿µæ¾„æ¸…</h3>\n<ul>\n<li><strong>Batch Size</strong>ï¼šä¸€ä¸ªæ‰¹æ¬¡åŒ…å«çš„æ ·æœ¬æ•°é‡</li>\n<li><strong>Epoch</strong>ï¼šæ‰€æœ‰è®­ç»ƒæ•°æ®éƒ½è¢«ä½¿ç”¨ä¸€æ¬¡çš„å®Œæ•´è¿‡ç¨‹</li>\n<li>ä¸€ä¸ª epoch åŒ…å«å¤šä¸ª batchï¼Œæ¯ä¸ª epoch ç»“æŸåéœ€è¦<strong> shuffle</strong> æ•°æ®</li>\n</ul>\n<h3 id=\"batch-sizeå¯¹è®­ç»ƒçš„å½±å“\"><a class=\"anchor\" href=\"#batch-sizeå¯¹è®­ç»ƒçš„å½±å“\">#</a> Batch Size å¯¹è®­ç»ƒçš„å½±å“</h3>\n<div class=\"tab\" data-id=\"card1\" data-title=\"å°Batch Size\">\n<p><strong>ä¼˜åŠ¿ï¼š</strong></p>\n<ul>\n<li>æ›´å¥½çš„æ³›åŒ–æ€§èƒ½</li>\n<li>å†…å­˜å ç”¨å°‘</li>\n<li>æ›´é¢‘ç¹çš„å‚æ•°æ›´æ–°</li>\n</ul>\n<p><strong>åŠ£åŠ¿ï¼š</strong></p>\n<ul>\n<li>è®­ç»ƒæ—¶é—´è¾ƒé•¿</li>\n<li>GPU å¹¶è¡Œè®¡ç®—æ•ˆç‡ä½</li>\n<li>æ¢¯åº¦ä¼°è®¡å™ªå£°å¤§</li>\n</ul>\n</div>\n<div class=\"tab\" data-id=\"card1\" data-title=\"å¤§Batch Size\">\n<p><strong>ä¼˜åŠ¿ï¼š</strong></p>\n<ul>\n<li>å……åˆ†åˆ©ç”¨ GPU å¹¶è¡Œè®¡ç®—</li>\n<li>æ¢¯åº¦ä¼°è®¡æ›´å‡†ç¡®</li>\n<li>è®­ç»ƒé€Ÿåº¦å¿«</li>\n</ul>\n<p><strong>åŠ£åŠ¿ï¼š</strong></p>\n<ul>\n<li>å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜</li>\n<li>æ³›åŒ–æ€§èƒ½å¯èƒ½è¾ƒå·®</li>\n<li>éœ€è¦æ›´å¤šå†…å­˜</li>\n</ul>\n</div>\n<div class=\"note warning å®è·µå»ºè®®\">\n<p>æµ‹è¯•æ—¶ä½¿ç”¨è¾ƒå°çš„ batch size é€šå¸¸èƒ½è·å¾—æ›´å¥½çš„æ•ˆæœï¼Œè¿™ä¸è®­ç»ƒæ—¶çš„æœ€ä¼˜ç­–ç•¥å¯èƒ½ä¸åŒã€‚</p>\n</div>\n<h2 id=\"åŠ¨é‡æ³•ä¼˜åŒ–ç­–ç•¥\"><a class=\"anchor\" href=\"#åŠ¨é‡æ³•ä¼˜åŒ–ç­–ç•¥\">#</a> åŠ¨é‡æ³•ä¼˜åŒ–ç­–ç•¥</h2>\n<details class=\"info\"><summary>Momentumç®—æ³•åŸç†</summary><div>\n<p>åŠ¨é‡ï¼ˆMomentumï¼‰æ˜¯å¯¹æ¢¯åº¦ä¸‹é™ç®—æ³•çš„æ”¹è¿›ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨å‚æ•°æ›´æ–°æ—¶è€ƒè™‘å†å²æ¢¯åº¦ä¿¡æ¯ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>v</mi><mi>t</mi></msub><mo>=</mo><mi>Î²</mi><msub><mi>v</mi><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î²</mi><mo stretchy=\"false\">)</mo><msub><mi>g</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_t = \\beta v_{t-1} + (1-\\beta) g_t\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.902771em;vertical-align:-0.208331em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Î¸</mi><mi>t</mi></msub><mo>=</mo><msub><mi>Î¸</mi><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>âˆ’</mo><mi>Î±</mi><msub><mi>v</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_t = \\theta_{t-1} - \\alpha v_t\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.902771em;vertical-align:-0.208331em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç¬¬ t æ­¥çš„åŠ¨é‡é¡¹</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î²</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span></span></span></span> æ˜¯åŠ¨é‡ç³»æ•°ï¼ˆé€šå¸¸å– 0.9ï¼‰</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>g</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">g_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯å½“å‰æ¢¯åº¦</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span></span></span></span> æ˜¯å­¦ä¹ ç‡</li>\n</ul>\n<p><strong>ç‰©ç†ç±»æ¯”ï¼š</strong><br />\næƒ³è±¡ä¸€ä¸ªçƒä»å±±å¡ä¸Šæ»šä¸‹ï¼Œå³ä½¿é‡åˆ°å°çš„å‘ä¸Šå¡åº¦ï¼Œç”±äºæƒ¯æ€§ä½œç”¨ä»ä¼šç»§ç»­å‘å‰æ»šåŠ¨ã€‚åŠ¨é‡æ³•æ¨¡æ‹Ÿäº†è¿™ç§ç‰©ç†ç°è±¡ã€‚</p>\n<p><strong>ä¼˜åŠ¿ï¼š</strong></p>\n<ul>\n<li>åŠ é€Ÿæ”¶æ•›è¿‡ç¨‹</li>\n<li>å‡å°‘éœ‡è¡ç°è±¡</li>\n<li>æœ‰åŠ©äºè·³å‡ºå±€éƒ¨æœ€ä¼˜è§£</li>\n<li>å¯¹å™ªå£°å…·æœ‰ä¸€å®šçš„æŠ—å¹²æ‰°èƒ½åŠ›</li>\n</ul>\n</div></details>\n<p><strong>ä¸Šä¸€æ­¥çš„æ¢¯åº¦æ–¹å‘åŠ ä¸Šå½“å‰æ­¥æ¢¯åº¦çš„æ–¹å‘</strong>ä½œä¸ºæœ¬æ­¥çš„æ›´æ–°æ–¹å‘ï¼Œè¿™ç§ç­–ç•¥èƒ½å¤Ÿï¼š</p>\n<ol>\n<li>åœ¨æ¢¯åº¦æ–¹å‘ä¸€è‡´æ—¶åŠ é€Ÿæ”¶æ•›</li>\n<li>åœ¨æ¢¯åº¦éœ‡è¡æ—¶å¹³æ»‘æ›´æ–°è·¯å¾„</li>\n<li>å¸®åŠ©ä¼˜åŒ–å™¨è¶Šè¿‡å°çš„å±€éƒ¨æœ€ä¼˜ç‚¹</li>\n</ol>\n<h3 id=\"åå·®æ–¹å·®å‡è¡¡\"><a class=\"anchor\" href=\"#åå·®æ–¹å·®å‡è¡¡\">#</a> åå·®æ–¹å·®å‡è¡¡</h3>\n<details class=\"info\"><summary>åå·®æ–¹å·®æƒè¡¡</summary><div>\n<p>åå·®æ–¹å·®æƒè¡¡ï¼ˆBias-Variance Tradeoffï¼‰æ˜¯æœºå™¨å­¦ä¹ ä¸­çš„ fundamental æ¦‚å¿µï¼š</p>\n<p><strong>åå·®ï¼ˆBiasï¼‰ï¼š</strong></p>\n<ul>\n<li>æ¨¡å‹é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„ç³»ç»Ÿæ€§åå·®</li>\n<li>é«˜åå·®è¡¨ç¤ºæ¨¡å‹è¿‡äºç®€å•ï¼Œå­˜åœ¨ underfitting</li>\n<li>ä¸»è¦ç”±æ¨¡å‹çš„å‡è®¾å’Œé™åˆ¶å¼•èµ·</li>\n</ul>\n<p><strong>æ–¹å·®ï¼ˆVarianceï¼‰ï¼š</strong></p>\n<ul>\n<li>æ¨¡å‹åœ¨ä¸åŒè®­ç»ƒé›†ä¸Šé¢„æµ‹ç»“æœçš„å˜åŒ–ç¨‹åº¦</li>\n<li>é«˜æ–¹å·®è¡¨ç¤ºæ¨¡å‹è¿‡äºå¤æ‚ï¼Œå­˜åœ¨ overfitting</li>\n<li>ä¸»è¦ç”±æ¨¡å‹å¯¹è®­ç»ƒæ•°æ®çš„æ•æ„Ÿæ€§å¼•èµ·</li>\n</ul>\n<p><strong>æ€»è¯¯å·®åˆ†è§£ï¼š</strong></p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>E</mi><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><mi>y</mi><mo>âˆ’</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo stretchy=\"false\">]</mo><mo>=</mo><msup><mtext>Bias</mtext><mn>2</mn></msup><mo>+</mo><mtext>Variance</mtext><mo>+</mo><mtext>Noise</mtext></mrow><annotation encoding=\"application/x-tex\">E[(y - \\hat{y})^2] = \\text{Bias}^2 + \\text{Variance} + \\text{Noise}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mopen\">[</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.970668em;vertical-align:-0.08333em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Bias</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.887338em;\"><span style=\"top:-3.1362300000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord text\"><span class=\"mord\">Variance</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">Noise</span></span></span></span></span></span></p>\n<p><strong>æƒè¡¡ç­–ç•¥ï¼š</strong></p>\n<ul>\n<li>å¢åŠ æ¨¡å‹å¤æ‚åº¦ï¼šé™ä½åå·®ï¼Œå¢åŠ æ–¹å·®</li>\n<li>å‡å°‘æ¨¡å‹å¤æ‚åº¦ï¼šå¢åŠ åå·®ï¼Œé™ä½æ–¹å·®</li>\n<li>ç›®æ ‡æ˜¯æ‰¾åˆ°æœ€ä½³å¹³è¡¡ç‚¹ï¼Œä½¿æ€»è¯¯å·®æœ€å°</li>\n</ul>\n</div></details>\n<p>åœ¨æ¨¡å‹è®¾è®¡æ—¶éœ€è¦åœ¨åå·®å’Œæ–¹å·®ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ç‚¹ï¼Œé¿å…æ¨¡å‹è¿‡äºç®€å•ï¼ˆé«˜åå·®ï¼‰æˆ–è¿‡äºå¤æ‚ï¼ˆé«˜æ–¹å·®ï¼‰ã€‚</p>\n",
            "tags": [
                "å­¦ä¹ ç¬”è®°",
                "æœºå™¨å­¦ä¹ ",
                "æ·±åº¦å­¦ä¹ ",
                "æ¢¯åº¦ä¸‹é™",
                "æ¨¡å‹è®­ç»ƒ",
                "ä¼˜åŒ–ç®—æ³•",
                "è¿‡æ‹Ÿåˆ",
                "äº¤å‰éªŒè¯",
                "HessiançŸ©é˜µ",
                "å±€éƒ¨æœ€ä¼˜"
            ]
        },
        {
            "id": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1353-%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E5%8F%82%E5%8A%A0%E7%9A%84%E4%BC%9A%E8%AE%AE%E6%95%B0%E7%9B%AE/",
            "url": "https://stinncsky.github.io/algorithm-solutions/leetcode/daily-question/%E5%8A%9B%E6%89%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A1353-%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E5%8F%82%E5%8A%A0%E7%9A%84%E4%BC%9A%E8%AE%AE%E6%95%B0%E7%9B%AE/",
            "title": "åŠ›æ‰£æ¯æ—¥ä¸€é¢˜ï¼š1353. æœ€å¤šå¯ä»¥å‚åŠ çš„ä¼šè®®æ•°ç›®",
            "date_published": "2025-07-07T08:51:39.000Z",
            "content_html": "<div class=\"note info\">\n<p>æœ¬ç¯‡ä¸º <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLW51bWJlci1vZi1ldmVudHMtdGhhdC1jYW4tYmUtYXR0ZW5kZWQ=\">LeetCode 1353</span> çš„é¢˜è§£ï¼Œè®°å½•äº†è§£é¢˜æ€è·¯ã€ä»£ç å®ç°ã€‚</p>\n</div>\n<hr />\n<h2 id=\"é¢˜ç›®æè¿°\"><a class=\"anchor\" href=\"#é¢˜ç›®æè¿°\">#</a> ğŸ“˜ é¢˜ç›®æè¿°</h2>\n<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„  <code>events</code> ï¼Œå…¶ä¸­  <code>events[i] = [startDay_i, endDay_i]</code>  ï¼Œè¡¨ç¤ºä¼šè®®  <code>i</code>  å¼€å§‹äº  <code>startDay_i</code>  ï¼Œç»“æŸäº  <code>endDay_i</code>  ã€‚</p>\n<p>ä½ å¯ä»¥åœ¨æ»¡è¶³  <code>startDay_i</code>  &lt;=  <code>d</code>  &lt;=  <code>endDay_i</code>  ä¸­çš„ä»»æ„ä¸€å¤©  <code>d</code>  å‚åŠ ä¼šè®®  <code>i</code>  ã€‚åœ¨ä»»æ„ä¸€å¤©  <code>d</code>  ä¸­åªèƒ½å‚åŠ ä¸€åœºä¼šè®®ã€‚</p>\n<p>è¯·ä½ è¿”å›ä½ å¯ä»¥å‚åŠ çš„ æœ€å¤§ ä¼šè®®æ•°ç›®ã€‚</p>\n<hr />\n<h2 id=\"è§£é¢˜æ€è·¯\"><a class=\"anchor\" href=\"#è§£é¢˜æ€è·¯\">#</a> ğŸ§  è§£é¢˜æ€è·¯</h2>\n<ol>\n<li><strong>æ’åº</strong>ï¼šé¦–å…ˆå°†ä¼šè®®æŒ‰ç…§å¼€å§‹æ—¶é—´è¿›è¡Œæ’åºã€‚</li>\n<li>ä½¿ç”¨ä¸€ä¸ªå˜é‡  <code>nd</code>  æ¥è¡¨ç¤ºå½“å‰æ—¶é—´ç‚¹ï¼Œä»æœ€æ—©çš„ä¼šè®®å¼€å§‹æ—¶é—´å¼€å§‹ã€‚</li>\n<li>ä½¿ç”¨ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰æ¥å°†å½“å‰æ—¶é—´å·²ç»å¼€å§‹åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ è¡¨ç¤ºä¼šè®®çš„ç»“æŸæ—¶é—´ã€‚</li>\n<li>ç„¶åå°†æ‰€æœ‰ä¼šè®®çš„ç»“æŸå°äºå½“å‰æ—¶é—´ç‚¹çš„ä¼šè®®ä»é˜Ÿåˆ—ä¸­ç§»é™¤ã€‚</li>\n<li>è‹¥é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œåˆ™è¯´æ˜å¯ä»¥å‚åŠ ä¼šè®®ã€‚</li>\n<li>å¦‚æœå¯ä»¥å‚åŠ ä¼šè®®ï¼Œåˆ™å¼¹å‡ºé˜Ÿåˆ—ä¸­çš„æœ€å°å…ƒç´ ï¼ˆå³ç»“æŸæ—¶é—´æœ€æ—©çš„ä¼šè®®ï¼‰ã€‚</li>\n<li>å°†å½“å‰æ—¶é—´ç‚¹  <code>nd</code>  å¢åŠ  1ï¼Œç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹ã€‚</li>\n<li>å½“æ²¡æœ‰ä¼šè®®å¯ä»¥åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œè¯´æ˜æ‰€æœ‰ä¼šè®®éƒ½å·²å¤„ç†å®Œæ¯•ã€‚</li>\n</ol>\n<hr />\n<h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ğŸ’¡ ä»£ç å®ç°</h2>\n<figure class=\"highlight cpp\"><figcaption><span>C++ è§£æ³•</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxEvents</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; events)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(events.<span class=\"built_in\">begin</span>(), events.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>, i = <span class=\"number\">0</span>, n = events.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> nd = events[<span class=\"number\">0</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;, greater&lt;<span class=\"type\">int</span>&gt;&gt;  q;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (i &lt; n || !q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(i &lt; n &amp;&amp; events[i][<span class=\"number\">0</span>] &lt;= nd) q.<span class=\"built_in\">push</span>(events[i][<span class=\"number\">1</span>]), i++;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>() &amp;&amp; nd &gt; q.<span class=\"built_in\">top</span>()) q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">                ans++;</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            nd++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<hr />\n<h2 id=\"å¤æ‚åº¦åˆ†æ\"><a class=\"anchor\" href=\"#å¤æ‚åº¦åˆ†æ\">#</a> ğŸ“ˆ å¤æ‚åº¦åˆ†æ</h2>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦ï¼šO (n log n)ï¼Œä¸»è¦æ˜¯æ’åºçš„æ—¶é—´å¤æ‚åº¦ã€‚</li>\n<li>ç©ºé—´å¤æ‚åº¦ï¼šO (n)ï¼Œç”¨äºå­˜å‚¨ä¼˜å…ˆé˜Ÿåˆ—ã€‚</li>\n</ul>\n",
            "tags": [
                "ç®—æ³•é¢˜è§£",
                "åŠ›æ‰£",
                "æ¯æ—¥ä¸€é¢˜",
                "ç®—æ³•",
                "LeetCode",
                "C++",
                "æ’åº",
                "è´ªå¿ƒ",
                "å †"
            ]
        }
    ]
}